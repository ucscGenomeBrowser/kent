################# wgEncodeOpenChrom... {Dnase, Faire, Chip} composites' hg19 submissions ###############

2010-06-23 UTA ChIP for hg19 June Freeze
========================================
select id,name,status,user_id from projects where status = "loaded" and user_id = 17 and name like "%UTA%" order by id;
+------+----------------------------------+--------+---------+
| id   | name                             | status | user_id |
+------+----------------------------------+--------+---------+
| 1229 | DNCT UTA c-Myc GM12878 20100528  | loaded |      17 | 
| 1478 | DNCT UTA PolII GM12878 20100615  | loaded |      17 | 
| 1490 | DNCT UTA CTCF GM12891 20100615   | loaded |      17 | 
| 1491 | DNCT UTA CTCF GM12892 20100615   | loaded |      17 | 
| 1499 | DNCT UTA CTCF HeLa-S3 20100615   | loaded |      17 | 
| 1500 | DNCT UTA CTCF H1-hESC 20100615   | loaded |      17 | 
| 1501 | DNCT UTA c-Myc HeLa-S3 20100615  | loaded |      17 | 
| 1504 | DNCT UTA c-Myc H1_hESC 20100615  | loaded |      17 | 
| 1505 | DNCT UTA PolII HeLa-S3 20100615  | loaded |      17 | 
| 1516 | DNCT UTA CTCF GM19238 20100615   | loaded |      17 | 
| 1517 | DNCT UTA CTCF HepG2 20100615     | loaded |      17 | 
| 1518 | DNCT UTA Input GM12878 20100615  | loaded |      17 | 
| 1525 | DNCT UTA CTCF GM19239 20100615   | loaded |      17 | 
| 1526 | DNCT UTA CTCF PolII 20100615     | loaded |      17 | 
| 1527 | DNCT UTA c-Myc HepG2 20100616    | loaded |      17 | 
| 1536 |  DNCT UTA CTCF GM19240 20100615  | loaded |      17 | 
| 1537 | DNCT UTA CTCF HUVEC 20100616     | loaded |      17 | 
| 1538 | DNCT UTA CTCF K562 20100616      | loaded |      17 | 
| 1539 |  DNCT UTA CTCF NHEK 20100616     | loaded |      17 | 
| 1540 | DNCT UTA PolII HUVEC 20100616    | loaded |      17 | 
| 1541 | DNCT UTA PolII K562 20100616     | loaded |      17 | 
| 1542 | DNCT UTA c-Myc HUVEC 20100616    | loaded |      17 | 
| 1543 | DNCT UTA c-Myc K562 20100616     | loaded |      17 | 
| 1580 | DNCT UTA CTCF MCF-7 20100617     | loaded |      17 | 
| 1606 | DNCT UTA Input K562 200100617    | loaded |      17 | 
| 1607 | DNCT UTA Input HUVEC 200100617   | loaded |      17 | 
| 1608 | DNCT UTA Input HepG2 200100617   | loaded |      17 | 
| 1609 | DNCT UTA Input HeLa-S3 200100617 | loaded |      17 | 
| 1652 |  DNCT UTA PolII ProgFib 20100618 | loaded |      17 | 
| 1657 | DNCT UTA CTCF ProgFib 20100619   | loaded |      17 | 
| 1832 | DNCT UTA Input ProgFib 20100621  | loaded |      17 | 
| 1833 | DNCT UTA PolII H1_hESC 20100621  | loaded |      17 | 
| 1834 | DNCT UTA Input MCF-7 20100621    | loaded |      17 | 
+------+----------------------------------+--------+---------+
33 rows in set (0.00 sec)

# load up the trackDb...
rm /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1229/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1478/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1490/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1491/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1499/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1500/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1501/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1504/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1505/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1516/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1517/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1518/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1525/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1526/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1527/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1536/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1537/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1538/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1539/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1540/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1541/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1542/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1543/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1580/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1606/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1607/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1608/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1609/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1652/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1657/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1832/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1833/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1834/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra 

cd /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/
raToLines tmp.ra tmp.txt
grep compositeTrack tmp.txt > tmpC.txt
grep view=Peaks tmp.txt > tmpP.txt
grep view=Base tmp.txt > tmpB.txt
grep view=Signal tmp.txt > tmpS.txt
wl tmp?.txt
   26 tmpB.txt
   33 tmpC.txt
   26 tmpP.txt
   33 tmpS.txt
  118 total
wl tmp.txt
118 tmp.txt
# No replicates
e tmpP.txt tmpS.txt tmpB.txt # Fix view references
linesToRa tmpP.txt tmpP.ra
linesToRa tmpS.txt tmpS.ra
linesToRa tmpB.txt tmpB.ra
e tmpP.ra tmpS.ra tmpB.ra

cd ..
cp ../hg18/wgEncodeChromatinMap.ra wgEncodeOpenChromChip.ra
cp ../hg18/wgEncodeChromatinMap.html wgEncodeOpenChromChip.html
e wgEncodeOpenChromChip.html wgEncodeUwHistone.html # mark it as preliminary
e trackDb.wgEncode.ra # include wgEncodeOpenChromChip.ra
e wgEncodeOpenChromChip.ra # add tmpP.ra tmpS.ra tmpB.ra
make DBS=hg19 # till working
git add wgEncodeOpenChromChip.ra wgEncodeOpenChromChip.html trackDb.wgEncode.ra
git commit; pull; push


# now metadata
mdbUpdate hg19 1229/out/mdb.txt
mdbUpdate hg19 1478/out/mdb.txt
mdbUpdate hg19 1490/out/mdb.txt
mdbUpdate hg19 1491/out/mdb.txt
mdbUpdate hg19 1499/out/mdb.txt
mdbUpdate hg19 1500/out/mdb.txt
mdbUpdate hg19 1501/out/mdb.txt
mdbUpdate hg19 1504/out/mdb.txt
mdbUpdate hg19 1505/out/mdb.txt
mdbUpdate hg19 1516/out/mdb.txt
mdbUpdate hg19 1517/out/mdb.txt
mdbUpdate hg19 1518/out/mdb.txt
mdbUpdate hg19 1525/out/mdb.txt
mdbUpdate hg19 1526/out/mdb.txt
mdbUpdate hg19 1527/out/mdb.txt
mdbUpdate hg19 1536/out/mdb.txt
mdbUpdate hg19 1537/out/mdb.txt
mdbUpdate hg19 1538/out/mdb.txt
mdbUpdate hg19 1539/out/mdb.txt
mdbUpdate hg19 1540/out/mdb.txt
mdbUpdate hg19 1541/out/mdb.txt
mdbUpdate hg19 1542/out/mdb.txt
mdbUpdate hg19 1543/out/mdb.txt
mdbUpdate hg19 1580/out/mdb.txt
mdbUpdate hg19 1606/out/mdb.txt
mdbUpdate hg19 1607/out/mdb.txt
mdbUpdate hg19 1608/out/mdb.txt
mdbUpdate hg19 1609/out/mdb.txt
mdbUpdate hg19 1652/out/mdb.txt
mdbUpdate hg19 1657/out/mdb.txt
mdbUpdate hg19 1832/out/mdb.txt
mdbUpdate hg19 1833/out/mdb.txt
mdbUpdate hg19 1834/out/mdb.txt
Using table named 'hg19.metaDb_tdreszer'.
Read 2 metadata objects from hg19
Affected 38 row(s) in hg19.metaDb_tdreszer

# Now update dates
cd /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/metaDb/alpha/testing
mdbPrint hg18 -table=metaDb -vars="composite=wgEncodeChromatinMap dataType=ChIPseq" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="grant,dataType,cell,antibody,view,replicate" -updVars="dateSubmitted,dateUnrestricted" > utaDates.txt
objects:250  vars:4729
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="subId" -updVars="dateSubmitted" > utaResub.txt
objects:144  vars:2526
e utaDates.txt # Add origAssembly=hg18, change select /grant,dataType/composite=wgEncodeOpenChromChip/
chmod 755 uta*.txt
./utaDates.txt
Affected 2 row(s) in hg19.metaDb_tdreszer
Affected 0 row(s) in hg19.metaDb_tdreszer
...

e utaResub.txt # Add select origAssembly=hg18, change dateSubmitted to dateResubmitted
./utaResub.txt
Affected 5 row(s) in hg19.metaDb_tdreszer
Affected 0 row(s) in hg19.metaDb_tdreszer # not remapped!
...

cd ..
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
Using table named 'hg19.metaDb_tdreszer'.
objects:144  vars:2670
mdbUpdate hg19 -table=metaDb wgEncodeOpenChromChip.ra
Read 144 metadata objects from hg19
Affected 2670 row(s) in hg19.metaDb

e makefile # add wgEncodeOpenChromChip.ra
git add makefile wgEncodeOpenChromChip.ra 
git commit -m "Metadata for UTA Open Chrom ChIPseq June 2010 freeze"
git pull; git push
make alpha DBS=hg19

# Now downloads:
cd /usr/local/apache/htdocs-hgdownload/goldenPath/hg19/encodeDCC/wgEncodeOpenChromChip
e preamble.html ../wgEncodeUwHistone/preamble.html
encodeDownloadsPage.pl -db=hg19 index.html

# Mark as displayed:
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1229 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1478 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1490 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1491 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1499 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1500 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1501 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1504 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1505 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1516 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1517 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1518 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1525 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1526 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1527 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1536 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1537 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1538 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1539 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1540 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1541 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1542 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1543 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1580 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1606 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1607 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1608 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1609 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1652 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1657 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1832 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1833 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1834 displayed

select id,name,status,user_id from projects where status = "loaded" and user_id = 17 and name like "%UTA%" order by id;
Empty set (0.00 sec)


2010-06-24 Duke DNase for hg19 June Freeze
==========================================
select id,name,status,user_id from projects where status = "loaded" and user_id = 17 and name like "%Duke%" order by id;
+------+---------------------------------------------+--------+---------+
| id   | name                                        | status | user_id |
+------+---------------------------------------------+--------+---------+
| 1412 | DNCT Duke DNaseHS Chorion 20100614          | loaded |      17 | 
| 1479 | DNCT Duke DNaseHS Medullo 20100615          | loaded |      17 | 
| 1487 | DNCT Duke DNaseHS GM12891 20100615          | loaded |      17 | 
| 1488 | DNCT Duke DNaseHS GM12892 20100615          | loaded |      17 | 
| 1489 | DNCT Duke DNaseHS GM19238 20100615          | loaded |      17 | 
| 1494 | DNCT Duke DNaseHS GM12878 20100615          | loaded |      17 | 
| 1495 | DNCT Duke DNaseHS H1-hESC 20100615          | loaded |      17 | 
| 1498 | DNCT Duke DNaseHS HeLa-S3 20100615          | loaded |      17 | 
| 1506 | DNCT Duke DNaseHS GM19239 20100615          | loaded |      17 | 
| 1507 | DNCT Duke DNaseHS GM18507 20100615          | loaded |      17 | 
| 1509 | DNCT Duke DNaseHS GM19240 20100615          | loaded |      17 | 
| 1519 | DNCT Duke DNaseHS H9ES 20100615             | loaded |      17 | 
| 1528 | DNCT Duke DNaseHS HepG2 20100616            | loaded |      17 | 
| 1532 | DNCT Duke DNaseHS HUVEC 20100616            | loaded |      17 | 
| 1533 | DNCT Duke DNaseHS NHEK 20100616             | loaded |      17 | 
| 1534 | DNCT Duke DNaseHS K562 20100616             | loaded |      17 | 
| 1535 | DNCT Duke DNaseHS LHSR androgen 20100616    | loaded |      17 | 
| 1544 |        DNCT Duke DNaseHS HeLa-S3 IFNa4h 20100616 | loaded |      17 | 
| 1545 | DNCT Duke DNaseHS MCF-7 20100616            | loaded |      17 | 
| 1575 | DNCT Duke DNaseHS LHSR 20100616             | loaded |      17 | 
| 1650 | DNCT Duke DNaseHS ProgFib 20100618          | loaded |      17 | 
| 1651 | DNCT Duke DNaseHS FibroP 20100618           | loaded |      17 | 
| 1653 | DNCT Duke DNaseHS Fibrobl 20100618          | loaded |      17 | 
| 1654 | DNCT Duke DNaseHS HSMM 20100618             | loaded |      17 | 
| 1655 | DNCT Duke DNaseHS Myometr 20100618          | loaded |      17 | 
| 1656 | DNCT Duke DNaseHS PanIslets 20100618        | loaded |      17 | 
| 1678 | DNCT Duke DNaseHS AoSMC 20100619            | loaded |      17 | 
| 1679 | DNCT Duke DNaseHS HSMMtube 20100619         | loaded |      17 | 
+------+---------------------------------------------+--------+---------+
28 rows in set (0.00 sec)

# load up the trackDb...
rm /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1412/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1479/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1487/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1488/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1489/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1494/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1495/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1498/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1506/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1507/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1509/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1519/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1528/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1532/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1533/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1534/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1535/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1544/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1545/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1575/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1650/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1651/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1653/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1654/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1655/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1656/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1678/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1679/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra

cd /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/
raToLines tmp.ra tmp.txt
grep compositeTrack tmp.txt > tmpC.txt
grep view=Peaks tmp.txt > tmpP.txt
grep view=Base tmp.txt > tmpB.txt
grep view=Signal tmp.txt > tmpS.txt
wl tmp?.txt
   28 tmpB.txt
   28 tmpC.txt
   28 tmpP.txt
   28 tmpS.txt
  112 total
wl tmp.txt
112 tmp.txt
# No replicates
e tmpP.txt tmpS.txt tmpB.txt # Fix view references
linesToRa tmpP.txt tmpP.ra
linesToRa tmpS.txt tmpS.ra
linesToRa tmpB.txt tmpB.ra
e tmpP.ra tmpS.ra tmpB.ra

cd ..
cp ../hg18/wgEncodeChromatinMap.ra wgEncodeOpenChromDnase.ra
cp wgEncodeOpenChromChip.html wgEncodeOpenChromDnase.html
e trackDb.wgEncode.ra # include wgEncodeOpenChromDnase.ra
e wgEncodeOpenChromDnase.ra # add tmpP.ra tmpS.ra tmpB.ra
make DBS=hg19 # till working
git add wgEncodeOpenChromDnase.ra wgEncodeOpenChromDnase.html trackDb.wgEncode.ra
git commit; pull; push


# now metadata
mdbUpdate hg19 1412/out/mdb.txt
mdbUpdate hg19 1479/out/mdb.txt
mdbUpdate hg19 1487/out/mdb.txt
mdbUpdate hg19 1488/out/mdb.txt
mdbUpdate hg19 1489/out/mdb.txt
mdbUpdate hg19 1494/out/mdb.txt
mdbUpdate hg19 1495/out/mdb.txt
mdbUpdate hg19 1498/out/mdb.txt
mdbUpdate hg19 1506/out/mdb.txt
mdbUpdate hg19 1507/out/mdb.txt
mdbUpdate hg19 1509/out/mdb.txt
mdbUpdate hg19 1519/out/mdb.txt
mdbUpdate hg19 1528/out/mdb.txt
mdbUpdate hg19 1532/out/mdb.txt
mdbUpdate hg19 1533/out/mdb.txt
mdbUpdate hg19 1534/out/mdb.txt
mdbUpdate hg19 1535/out/mdb.txt
mdbUpdate hg19 1544/out/mdb.txt
mdbUpdate hg19 1545/out/mdb.txt
mdbUpdate hg19 1575/out/mdb.txt
mdbUpdate hg19 1650/out/mdb.txt
mdbUpdate hg19 1651/out/mdb.txt
mdbUpdate hg19 1653/out/mdb.txt
mdbUpdate hg19 1654/out/mdb.txt
mdbUpdate hg19 1655/out/mdb.txt
mdbUpdate hg19 1656/out/mdb.txt
mdbUpdate hg19 1678/out/mdb.txt
mdbUpdate hg19 1679/out/mdb.txt
Read 6 metadata objects from hg19
Affected 99 row(s) in hg19.metaDb_tdreszer
...

# Add treatement=None
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase treatment!=" -countObjs
137 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase treatment=" -countObjs
15 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" -countObjs
152 objects
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase treatment!=" -setVars="treatment=None"
Using table named 'hg19.metaDb_tdreszer'.
Affected 137 row(s) in hg19.metaDb_tdreszer

# Now update dates
cd /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/metaDb/alpha/testing
mdbPrint hg18 -table=metaDb -vars="composite=wgEncodeChromatinMap dataType=DNase%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="grant,dataType,cell,treatment,antibody,view,replicate" -updVars="dateSubmitted,dateUnrestricted" > dukeDates.txt
objects:223  vars:3767
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="subId" -updVars="dateSubmitted" > dukeResub.txt
objects:152  vars:2650
e dukeDates.txt # Add origAssembly=hg18, change select /grant,dataType/composite=wgEncodeOpenChromChip/
chmod 755 duke*.txt
./dukeDates.txt
Affected 2 row(s) in hg19.metaDb_tdreszer
Affected 0 row(s) in hg19.metaDb_tdreszer
...

e dukeResub.txt # Add select origAssembly=hg18, change dateSubmitted to dateResubmitted
./dukeResub.txt
Affected 5 row(s) in hg19.metaDb_tdreszer
...

cd ..
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
mdbUpdate hg19 -table=metaDb wgEncodeOpenChromDnase.ra
Read 152 metadata objects from hg19
Affected 2802 row(s) in hg19.metaDb

e makefile # add wgEncodeOpenChromDnase.ra
git add makefile wgEncodeOpenChromDnase.ra 
git commit -m "Metadata for Open Chrom Duke DNase June 2010 freeze"
git pull; git push
make alpha DBS=hg19

# Now downloads:
cd /usr/local/apache/htdocs-hgdownload/goldenPath/hg19/encodeDCC/wgEncodeOpenChromDnase
e preamble.html ../wgEncodeOpenChromChip/preamble.html
encodeDownloadsPage.pl -db=hg19 index.html
encodeDownloadsPage.pl -db=hg19 -checksum index.html . &

# Mark as displayed:
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1412 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1479 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1487 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1488 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1489 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1494 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1495 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1498 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1506 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1507 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1509 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1519 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1528 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1532 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1533 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1534 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1535 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1544 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1545 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1575 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1650 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1651 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1653 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1654 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1655 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1656 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1678 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1679 displayed
select id,name,status,user_id from projects where status = "loaded" and user_id = 17 and name like "%Duke%" order by id;
Empty set (0.00 sec)

2010-06-24 UNC FAIRE for hg19 June Freeze
=========================================
select id,name,status,user_id from projects where status = "loaded" and user_id = 17 and name like "%Duke%" order by id;
+------+--------------------------------------------+--------+---------+
| id   | name                                       | status | user_id |
+------+--------------------------------------------+--------+---------+
| 1480 | DNCT UNC FAIRE-Seq GM12878 20100615        | loaded |      17 | 
| 1496 | DNCT UNC FAIRE-Seq H1-hESC 20100615        | loaded |      17 | 
| 1497 | DNCT UNC FAIRE-Seq HeLa-S3 20100615        | loaded |      17 | 
| 1508 | DNCT UNC FAIRE-Seq GM19239 20100615        | loaded |      17 | 
| 1513 | DNCT UNC FAIRE-Seq GM18507 20100615        | loaded |      17 | 
| 1515 | DNCT UNC FAIRE-Seq HepG2 20100615          | loaded |      17 | 
| 1529 | DNCT UNC FAIRE-Seq HUVEC 20100616          | loaded |      17 | 
| 1530 | DNCT UNC FAIRE-Seq NHEK 20100616           | loaded |      17 | 
| 1531 | DNCT UNC FAIRE-Seq K562 20100616           | loaded |      17 | 
| 1546 | DNCT UNC FAIRE-Seq PanIslets 20100616      | loaded |      17 | 
| 1547 | DNCT UNC FAIRE-Seq LHSR 20100616           | loaded |      17 | 
| 1574 | DNCT UNC FAIRE-Seq NHBE 20100616           | loaded |      17 | 
| 1610 | DNCT UNC FAIRE-Seq LHSR androgen 20100617  | loaded |      17 | 
| 1611 | DNCT UNC FAIRE-Seq HeLa-S3 IFNa4h 20100617 | loaded |      17 | 
| 1612 | DNCT UNC FAIRE-Seq HeLa-S3 IFNg4h 20100617 | loaded |      17 | 
+------+--------------------------------------------+--------+---------+
15 rows in set (0.00 sec)

# load up the trackDb...
rm /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1480/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1496/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1497/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1508/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1513/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1515/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1529/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1530/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1531/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1546/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1547/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1574/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1610/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1611/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra
cat 1612/out/trackDb.ra >> /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/tmp.ra

cd /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/testing/
raToLines tmp.ra tmp.txt
grep compositeTrack tmp.txt > tmpC.txt
grep view=Peaks tmp.txt > tmpP.txt
grep view=Base tmp.txt > tmpB.txt
grep view=Signal tmp.txt > tmpS.txt
wl tmp?.txt
   15 tmpB.txt
   15 tmpC.txt
   15 tmpP.txt
   15 tmpS.txt
   60 total
wl tmp.txt
60 tmp.txt
# No replicates
e tmpP.txt tmpS.txt tmpB.txt # Fix view references
linesToRa tmpP.txt tmpP.ra
linesToRa tmpS.txt tmpS.ra
linesToRa tmpB.txt tmpB.ra
e tmpP.ra tmpS.ra tmpB.ra

cd ..
cp wgEncodeOpenChromDnase.ra wgEncodeOpenChromFaire.ra
cp wgEncodeOpenChromDnase.html wgEncodeOpenChromFaire.html
e trackDb.wgEncode.ra # include wgEncodeOpenChromFaire.ra
e wgEncodeOpenChromFaire.ra # add tmpP.ra tmpS.ra tmpB.ra
make DBS=hg19 # till working
git add wgEncodeOpenChromFaire.ra wgEncodeOpenChromFaire.html trackDb.wgEncode.ra
git commit; pull; push

# now metadata
mdbUpdate hg19 1480/out/mdb.txt
mdbUpdate hg19 1496/out/mdb.txt
mdbUpdate hg19 1497/out/mdb.txt
mdbUpdate hg19 1508/out/mdb.txt
mdbUpdate hg19 1513/out/mdb.txt
mdbUpdate hg19 1515/out/mdb.txt
mdbUpdate hg19 1529/out/mdb.txt
mdbUpdate hg19 1530/out/mdb.txt
mdbUpdate hg19 1531/out/mdb.txt
mdbUpdate hg19 1546/out/mdb.txt
mdbUpdate hg19 1547/out/mdb.txt
mdbUpdate hg19 1574/out/mdb.txt
mdbUpdate hg19 1610/out/mdb.txt
mdbUpdate hg19 1611/out/mdb.txt
mdbUpdate hg19 1612/out/mdb.txt

# Now update dates
cd /cluster/home/tdreszer/kent/src/hg/makeDb/trackDb/human/hg19/metaDb/alpha/testing
mdbPrint hg18 -table=metaDb -vars="composite=wgEncodeChromatinMap dataType=FAIRE%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="grant,dataType,cell,treatment,antibody,view,replicate" -updVars="dateSubmitted,dateUnrestricted" > uncDates.txt
objects:142  vars:2412
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="subId" -updVars="dateSubmitted" > uncResub.txt
e uncDates.txt # Add origAssembly=hg18, change select /grant,dataType/composite=wgEncodeOpenChromChip/
chmod 755 unc*.txt
./uncDates.txt
Affected 2 row(s) in hg19.metaDb_tdreszer
Affected 0 row(s) in hg19.metaDb_tdreszer
...

e uncResub.txt # Add select origAssembly=hg18, change dateSubmitted to dateResubmitted
./uncResub.txt
Affected 5 row(s) in hg19.metaDb_tdreszer
...

cd ..
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
Using table named 'hg19.metaDb_tdreszer'.
objects:76  vars:1338
mdbUpdate hg19 -table=metaDb wgEncodeOpenChromFaire.ra
Read 76 metadata objects from hg19
Affected 1338 row(s) in hg19.metaDb

e makefile # add wgEncodeOpenChromFaire.ra
git add makefile wgEncodeOpenChromFaire.ra 
git commit -m "Metadata for Open Chrom UNC FAIRE ChIPseq June 2010 freeze"
git pull; git push
make alpha DBS=hg19

# Now downloads:
cd /usr/local/apache/htdocs-hgdownload/goldenPath/hg19/encodeDCC/wgEncodeOpenChromFaire
e preamble.html ../wgEncodeOpenChromChip/preamble.html
encodeDownloadsPage.pl -db=hg19 index.html
encodeDownloadsPage.pl -db=hg19 -checksum index.html . &

# Mark as displayed:
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1480 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1496 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1497 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1508 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1513 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1515 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1529 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1530 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1531 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1546 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1547 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1574 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1610 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1611 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 1612 displayed
select id,name,status,user_id from projects where status = "loaded" and user_id = 17 and name like "%FAIRE%" order by id;
Empty set (0.00 sec)


2010-07-26 Including hg18 mdb update here
=========================================
### UW Chip
cd ../../wgEncodeUwChIPSeq/release1 
grep parentTable fileDb.ra > ~/kent/src/hg/makeDb/trackDb/human/hg18/metaDb/alpha/testing/uwChip.txt

grep metadata ../../../wgEncodeUwChIPSeq.ra >> uwChip.txt
mdbUpdate hg18 -table=tmpMdb -recreate uwChip.txt 

cp ../wgEncodeUwChIPSeq.ra uwChipMdb.ra
mdbUpdate hg18 -table=tmpMdb uwChipMdb.ra -test -verbose=2 > uwChipUpd.txt 2>&1

grep update uwChipUpd.txt | grep -v Requesting > uwChipUpd2.txt
        update tmpMdb set varType = 'txt', val = '304' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf' and var = 'subId';
        update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562Ctcf' and var = 'dataVersion';
 
grep -v subId uwChipUpd2.txt | grep -v Freeze > uwChipUpd3.txt 
update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf' and var = 'labVersion';
        update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf' and var = 'labVersion';
        update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3' and var = 'labVersion';
        update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf' and var = 'labVersion';
        update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf' and var = 'labVersion';
        update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562Ctcf' and var = 'labVersion';
        update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3' and var = 'labVersion';
        update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf' and var = 'labVersion';

	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf' and var = 'labVersion';
	update tmpMdb set varType = 'txt', val = '298' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf' and var = 'labVersion';
	update tmpMdb set varType = 'txt', val = '301' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3' and var = 'labVersion';
	update tmpMdb set varType = 'txt', val = '302' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf' and var = 'labVersion';
	update tmpMdb set varType = 'txt', val = '303' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf' and var = 'labVersion';
	update tmpMdb set varType = 'txt', val = '304' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562Ctcf' and var = 'labVersion';
	update tmpMdb set varType = 'txt', val = '307' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3' and var = 'labVersion';
	update tmpMdb set varType = 'txt', val = '308' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = 'Hotspot-v5.0' where obj = 'wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf' and var = 'labVersion';
	update tmpMdb set varType = 'txt', val = '406' where obj = 'wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = '298' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = '301' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = '302' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = '303' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = '304' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1K562Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = '307' where obj = 'wgEncodeUwChIPSeqRawSignalRep1K562Ctcf' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = '308' where obj = 'wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3' and var = 'subId';
	update tmpMdb set varType = 'txt', val = 'ENCODE July 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf' and var = 'dataVersion';
	update tmpMdb set varType = 'txt', val = '406' where obj = 'wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf' and var = 'subId';

rm tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf -var=labVersion      -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf -var=labVersion      -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3 -var=dataVersion  -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3 -var=labVersion   -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3 -var=subId        -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf -var=dataVersion      -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf -var=labVersion       -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf -var=subId            -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf -var=dataVersion      -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf -var=labVersion       -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf -var=subId            -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1K562Ctcf -var=dataVersion        -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1K562Ctcf -var=labVersion         -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1K562Ctcf -var=subId              -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3 -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3 -var=labVersion      -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3 -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf -var=dataVersion       -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf -var=labVersion        -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf -var=subId             -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf -var=dataVersion    -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf -var=subId          -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf -var=dataVersion    -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf -var=subId          -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3 -var=dataVersion -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3 -var=subId       -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1K562Ctcf -var=dataVersion       -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1K562Ctcf -var=subId             -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3 -var=dataVersion    -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3 -var=subId          -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf -var=dataVersion      -line >> tmp.txt
        mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf -var=subId            -line >> tmp.txt

        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf -var=labVersion      -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf -var=labVersion      -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3 -var=dataVersion  -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3 -var=labVersion   -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3 -var=subId        -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf -var=dataVersion      -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf -var=labVersion       -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf -var=subId            -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf -var=dataVersion      -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf -var=labVersion       -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf -var=subId            -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1K562Ctcf -var=dataVersion        -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1K562Ctcf -var=labVersion         -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1K562Ctcf -var=subId              -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3 -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3 -var=labVersion      -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3 -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf -var=dataVersion       -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf -var=labVersion        -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf -var=subId             -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf -var=dataVersion    -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf -var=subId          -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf -var=dataVersion    -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf -var=subId          -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3 -var=dataVersion -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3 -var=subId       -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf -var=dataVersion     -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf -var=subId           -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1K562Ctcf -var=dataVersion       -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1K562Ctcf -var=subId             -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3 -var=dataVersion    -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3 -var=subId          -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf -var=dataVersion      -line >> tmp.txt
        mdbPrint hg18 -table=metaDb -obj=wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf -var=subId            -line >> tmp.txt
sort < tmp.txt > uwChipChanges.txt

mdbUpdate hg18 -table=metaDb_tdreszer uwChip.txt -test -verbose=2 > uwChipFix.txt 2>&1
grep update uwChipFix.txt | grep -v Requesting > uwChipFix2.txt
mdbPrint hg18 -vars="composite=wgEncodeUwChIPSeq" > ../wgEncodeUwChIPSeq.ra 

hgswl hg18
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = 'Hotspot-v5.1' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf' and var = 'labVersion';
	update metaDb_tdreszer set varType = 'txt', val = '520' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm06990Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = 'Hotspot-v5.1' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf' and var = 'labVersion';
	update metaDb_tdreszer set varType = 'txt', val = '690' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = 'Hotspot-v5.1' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3' and var = 'labVersion';
	update metaDb_tdreszer set varType = 'txt', val = '699' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Gm12878H3k4me3' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = 'Hotspot-v5.1' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf' and var = 'labVersion';
	update metaDb_tdreszer set varType = 'txt', val = '626' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Hek293Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = 'Hotspot-v5.1' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf' and var = 'labVersion';
	update metaDb_tdreszer set varType = 'txt', val = '691' where obj = 'wgEncodeUwChIPSeqHotspotsRep1Helas3Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = 'Hotspot-v5.1' where obj = 'wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf' and var = 'labVersion';
	update metaDb_tdreszer set varType = 'txt', val = '608' where obj = 'wgEncodeUwChIPSeqHotspotsRep2Hepg2Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = 'Hotspot-v5.1' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562Ctcf' and var = 'labVersion';
	update metaDb_tdreszer set varType = 'txt', val = '659' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = 'Hotspot-v5.1' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3' and var = 'labVersion';
	update metaDb_tdreszer set varType = 'txt', val = '660' where obj = 'wgEncodeUwChIPSeqHotspotsRep1K562H3k4me3' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = '520' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm06990Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = '690' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm12878Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = '699' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Gm12878H3k4me3' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = '626' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Hek293Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = '691' where obj = 'wgEncodeUwChIPSeqRawSignalRep1Helas3Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = '608' where obj = 'wgEncodeUwChIPSeqRawSignalRep2Hepg2Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1K562Ctcf' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = '659' where obj = 'wgEncodeUwChIPSeqRawSignalRep1K562Ctcf' and var = 'subId';
	update metaDb_tdreszer set varType = 'txt', val = 'ENCODE Sep 2009 Freeze' where obj = 'wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3' and var = 'dataVersion';
	update metaDb_tdreszer set varType = 'txt', val = '660' where obj = 'wgEncodeUwChIPSeqRawSignalRep1K562H3k4me3' and var = 'subId';



### UW DNase
cd ../../wgEncodeUwDnaseSeq/release3 
grep parentTable fileDb.ra > ~/kent/src/hg/makeDb/trackDb/human/hg18/metaDb/alpha/testing/uwDnase.txt

grep metadata ../../../wgEncodeUwDnaseSeq.ra >> uwDnase.txt
mdbUpdate hg18 -table=tmpMdb -recreate uwDnase.txt 

cp ../wgEncodeUwDnaseSeq.ra uwDnaseMdb.ra
mdbUpdate hg18 -table=tmpMdb uwDnaseMdb.ra -test -verbose=2 > uwDnaseUpd.txt 2>&1

grep update uwDnaseUpd.txt | grep -v Requesting > uwDnaseUpd2.txt

rm tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqAlignmentsRep1Bjtert -var=cell -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqAlignmentsRep2Bjtert -var=cell -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep1Gm12878 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep1Gm12878 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep1Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep1Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep1Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep1Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep1Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep1Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Bjtert -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Bjtert -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Caco2 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Caco2 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqHotspotsRep2Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep1Gm12878 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep1Gm12878 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep1Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep1Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep1Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep1Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep1Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep1Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Bjtert -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Bjtert -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Caco2 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Caco2 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqPeaksRep2Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawDataRep1Bjtert -var=cell -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawDataRep2Bjtert -var=cell -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep1Gm12878 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep1Gm12878 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep1Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep1Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep1Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep1Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep1Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep1Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Bjtert -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Bjtert -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Caco2 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Caco2 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=tmpMdb -obj=wgEncodeUwDnaseSeqRawSignalRep2Hre -var=dateUnrestricted -line >> tmp.txt

mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqAlignmentsRep1Bjtert -var=cell -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqAlignmentsRep2Bjtert -var=cell -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep1Gm12878 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep1Gm12878 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep1Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep1Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep1Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep1Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep1Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep1Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Bjtert -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Bjtert -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Caco2 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Caco2 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqHotspotsRep2Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep1Gm12878 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep1Gm12878 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep1Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep1Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep1Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep1Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep1Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep1Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Bjtert -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Bjtert -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Caco2 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Caco2 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqPeaksRep2Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawDataRep1Bjtert -var=cell -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawDataRep2Bjtert -var=cell -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep1Gm12878 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep1Gm12878 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep1Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep1Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep1Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep1Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep1Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep1Hre -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Bjtert -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Bjtert -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Caco2 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Caco2 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Helas3 -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Helas3 -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Hrcepic -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Hrcepic -var=dateUnrestricted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Hre -var=dateSubmitted -line >> tmp.txt
mdbPrint hg18 -table=metaDb -obj=wgEncodeUwDnaseSeqRawSignalRep2Hre -var=dateUnrestricted -line >> tmp.txt
sort < tmp.txt > uwDnaseChanges.txt

### UW DGF
cd ../../wgEncodeUwDGF/release1 
grep parentTable fileDb.ra > ~/kent/src/hg/makeDb/trackDb/human/hg18/metaDb/alpha/testing/uwDgf.txt

grep metadata ../../../wgEncodeUwDGF.ra >> uwDfg.txt
mdbUpdate hg18 -table=tmpMdb -recreate uwDgf.txt 

cp ../wgEncodeUwDGF.ra uwDgfMdb.ra
mdbUpdate hg18 -table=tmpMdb uwDgfMdb.ra -test -verbose=2 > uwDgfUpd.txt 2>&1

grep update uwDgfUpd.txt | grep -v Requesting > uwDgfUpd2.txt
wl uwDgfUpd2.txt
0

### Broad
cd ../../wgEncodeBroadChipSeq/release3/
grep parentTable fileDb.ra > ~/kent/src/hg/makeDb/trackDb/human/hg18/metaDb/alpha/testing/broad.txt

grep metadata ../../../wgEncodeBroadChipSeq.ra >> broad.txt
mdbUpdate hg18 -table=tmpMdb -recreate broad.txt 

cp ../wgEncodeBroadChipSeq.ra broadMdb.ra
mdbUpdate hg18 -table=tmpMdb broadMdb.ra -test -verbose=2 > broadUpd.txt 2>&1

grep update broadUpd.txt | grep -v Requesting > broadUpd2.txt
wl broadUpd2.txt 
0 broadUpd2.txt

grep -v inputType broadUpd.txt | grep -v setType > broadUpd2.txt 
grep -v Requesting broadUpd2.txt | grep -v select > broadUpd3.txt
wl broadUpd3.txt 
2 broadUpd3.txt
m broadUpd3.txt 
Read 549 metadata objects from hg18
Command would affected 1098 row(s) in hg18.tmpMdb

### OpenChrom
cd ../../wgEncodeChromatinMap/release3/
grep parentTable fileDb.ra > ~/kent/src/hg/makeDb/trackDb/human/hg18/metaDb/alpha/testing/openChrom.txt

grep metadata ../../../wgEncodeChromatinMap.ra >> openChrom.txt
mdbUpdate hg18 -table=tmpMdb -recreate openChrom.txt 

cp ../wgEncodeChromatinMap.ra openChromMdb.ra
mdbUpdate hg18 -table=tmpMdb openChromMdb.ra -test -verbose=2 > openChromUpd.txt 2>&1

grep update openChromUpd.txt | grep -v Requesting > openChromUpd2.txt
wl openChromUpd2.txt
143 openChromUpd2.txt
        update tmpMdb set varType = 'txt', val = 'wgEncodeChromatinMap' where obj = 'wgEncodeDukeDNaseSeqPeaksH9es' and var = 'composite';

grep -v composite openChromUpd2.txt | wl
1
        update tmpMdb set varType = 'txt', val = 'Crawford' where obj = 'wgEncodeUtaChIPseqPeaksHelas3CtcfV3' and var = 'grant';

2011-01-10 Fastq's added
========================
select id,name,status,user_id from projects where status = "loaded" and user_id = 17; 
+------+---------------------------+--------+---------+
| id   | name                      | status | user_id |
+------+---------------------------+--------+---------+
| 3141 | DNCT UTA Fastq's 20101221 | loaded |      17 | 
| 3153 | DNCT UNC Fastq's 20101221 | loaded |      17 | 
+------+---------------------------+--------+---------+
cd ~/kent/src/hg/makeDb/trackDb/human/hg19/metaDb/alpha/testing/
cp /hive/groups/encode/dcc/pipeline/encpipeline_prod/3141/out/mdb.txt .
cat /hive/groups/encode/dcc/pipeline/encpipeline_prod/3153/out/mdb.txt >> mdb.txt
e mdb.txt # dateSubmitted to dateResubmitted  dateUnrestricted/submitted toprevious
metadata project=wgEncode grant=Crawford lab=UT-A(Iyer) dataType=ChipSeq cell=HepG2 antibody=Pol2 setType=exp controlId=HepG2/Input view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3141 dateSubmitted=2009-09-29 dateUnrestricted=2010-06-29 dateResubmitted=2010-12-23 composite=wgEncodeOpenChromChip  fileName=wgEncodeOpenChromChipHepg2Pol2RawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UT-A(Iyer) dataType=ChipSeq cell=MCF-7 antibody=c-Myc setType=exp controlId=MCF-7/Input view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3141 dateSubmitted=2009-12-28 dateUnrestricted=2010-09-28 dateResubmitted=2010-12-23 composite=wgEncodeOpenChromChip  fileName=wgEncodeOpenChromChipMcf7CmycRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UT-A(Iyer) dataType=ChipSeq cell=HeLa-S3 antibody=Pol2 setType=exp controlId=HeLa-S3/Input view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3141 dateSubmitted=2009-12-28 dateUnrestricted=2010-09-28 dateResubmitted=2010-12-23 composite=wgEncodeOpenChromChip  fileName=wgEncodeOpenChromChipHelas3Pol2RawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UT-A(Iyer) dataType=ChipSeq cell=MCF-7 antibody=c-Myc setType=exp controlId=MCF-7/Input view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3141 dateResubmitted=2010-12-23 composite=wgEncodeOpenChromChip  fileName=wgEncodeOpenChromChipMcf7CmycRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=PanIslets treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFairePanisletsRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=GM12878 treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireGm12878RawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=GM18507 treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireGm18507RawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=GM19239 treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireGm19239RawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=H1-hESC treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireH1hescRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HeLa-S3 treatment=IFNa4h view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHelas3Ifna4hRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HeLa-S3 treatment=IFNg4h view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHelas3Ifng4hRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HeLa-S3 treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHelas3RawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HepG2 treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHepg2RawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HUVEC treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHuvecRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=K562 treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireK562RawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=LHSR treatment=androgen view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireLhsrAndroRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=LHSR treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireLhsrRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=NHBE treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireNhbeRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=NHEK treatment=None view=RawData replicate=1 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireNhekRawDataRep1.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=GM12878 treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireGm12878RawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=GM18507 treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireGm18507RawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=GM19239 treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireGm19239RawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=H1-hESC treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireH1hescRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HeLa-S3 treatment=IFNa4h view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHelas3Ifna4hRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HeLa-S3 treatment=IFNg4h view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHelas3Ifng4hRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HeLa-S3 treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHelas3RawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HepG2 treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHepg2RawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HUVEC treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHuvecRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=K562 treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireK562RawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=LHSR treatment=androgen view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireLhsrAndroRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=LHSR treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireLhsrRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=NHBE treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireNhbeRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=NHEK treatment=None view=RawData replicate=2 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireNhekRawDataRep2.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HeLa-S3 treatment=None view=RawData replicate=3 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHelas3RawDataRep3.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=HepG2 treatment=None view=RawData replicate=3 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireHepg2RawDataRep3.fastq.gz
metadata project=wgEncode grant=Crawford lab=UNC(Lieb) dataType=FaireSeq cell=K562 treatment=None view=RawData replicate=3 origAssembly=hg18 dataVersion="ENCODE Jan 2011 Freeze" subId=3153 dateResubmitted=2010-12-31 composite=wgEncodeOpenChromFaire  fileName=wgEncodeOpenChromFaireK562RawDataRep3.fastq.gz

# use mdbPrint -upd to get dates from hg18:
mdbPrint hg18 -vars="grant=Crawford dataType=ChipSeq cell=HepG2 antibody=Pol2 view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,antibody,setType,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford dataType=ChipSeq cell=MCF-7 antibody=c-Myc setType=exp view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,antibody,setType,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford dataType=ChipSeq cell=HeLa-S3 antibody=Pol2 setType=exp view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,antibody,setType,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford dataType=ChipSeq cell=MCF-7 antibody=c-Myc setType=exp view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,antibody,setType,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=PanIslets  view=RawData" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=GM12878  view=RawData replicate=1 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=GM18507  view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=GM19239  view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=H1-hESC  view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HeLa-S3 treatment=IFNa4h view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,treatment,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HeLa-S3 treatment=IFNg4h view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,treatment,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HeLa-S3  view=RawData replicate=1 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HepG2  view=RawData replicate=1 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HUVEC  view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=K562  view=RawData replicate=1 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=LHSR treatment=androgen view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,treatment,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=LHSR treatment!=  view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=NHBE  view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=NHEK  view=RawData replicate=1" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=GM12878  view=RawData replicate=2 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=GM18507  view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=GM19239  view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=H1-hESC  view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HeLa-S3 treatment=IFNa4h view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,treatment,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HeLa-S3 treatment=IFNg4h view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,treatment,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HeLa-S3  view=RawData replicate=2 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt 
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HepG2  view=RawData replicate=2 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt 
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HUVEC  view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=K562  view=RawData replicate=2 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=LHSR treatment=androgen view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,treatment,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=LHSR treatment!=  view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=NHBE  view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=NHEK  view=RawData replicate=2" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HeLa-S3  view=RawData replicate=3 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=HepG2  view=RawData replicate=3 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt
mdbPrint hg18 -vars="grant=Crawford  dataType=FaireSeq cell=K562  view=RawData replicate=3 submittedDataVersion=V2%" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect=grant,dataType,cell,view,replicate -updVars=dateSubmitted,dateUnrestricted >> crawford.txt

 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=ChipSeq cell=HepG2 antibody=Pol2 setType=exp view=RawData replicate=1 " -setVars="dateSubmitted=2009-09-29 dateUnrestricted=2010-06-29 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=ChipSeq cell=MCF-7 antibody=c-Myc setType=exp view=RawData replicate=1 " -setVars="dateSubmitted=2009-12-28 dateUnrestricted=2010-09-28 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=ChipSeq cell=HeLa-S3 antibody=Pol2 setType=exp view=RawData replicate=2 " -setVars="dateSubmitted=2009-12-28 dateUnrestricted=2010-09-28 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=ChipSeq cell=MCF-7 antibody=c-Myc setType=exp view=RawData replicate=2 " -setVars="dateSubmitted=2009-12-28 dateUnrestricted=2010-09-28 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=PanIslets treatment=None view=RawData replicate=1" -setVars="dateSubmitted=2009-10-14 dateUnrestricted=2010-07-14"
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=GM12878 treatment=None view=RawData replicate=1" -setVars="dateSubmitted=2009-04-20 dateUnrestricted=2010-01-20"
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=GM18507 treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2009-12-20 dateUnrestricted=2010-09-19 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=GM19239 treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2009-12-18 dateUnrestricted=2010-09-18 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=H1-hESC treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2009-09-30 dateUnrestricted=2010-06-30 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HeLa-S3 treatment=IFNa4h view=RawData replicate=1 " -setVars="dateSubmitted=2009-12-20 dateUnrestricted=2010-09-20 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HeLa-S3 treatment=IFNg4h view=RawData replicate=1 " -setVars="dateSubmitted=2009-12-20 dateUnrestricted=2010-09-20 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HeLa-S3 treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2009-03-22 dateUnrestricted=2009-12-22 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HepG2 treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2009-04-17 dateUnrestricted=2010-01-17 " 
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HUVEC treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2009-09-24 dateUnrestricted=2010-06-24 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=K562 treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2008-12-09 dateUnrestricted=2009-08-09 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=LHSR treatment=androgen view=RawData replicate=1 " -setVars="dateSubmitted=2009-12-23 dateUnrestricted=2010-09-23 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=LHSR treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2009-12-23 dateUnrestricted=2010-09-23 " 
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=NHBE treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2010-01-09 dateUnrestricted=2010-10-09 " -test 
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=NHEK treatment=None view=RawData replicate=1 " -setVars="dateSubmitted=2009-09-30 dateUnrestricted=2010-06-30 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=GM12878 treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-04-20 dateUnrestricted=2010-01-20 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=GM18507 treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-12-20 dateUnrestricted=2010-09-19 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=GM19239 treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-12-18 dateUnrestricted=2010-09-18 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=H1-hESC treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-09-30 dateUnrestricted=2010-06-30 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HeLa-S3 treatment=IFNa4h view=RawData replicate=2 " -setVars="dateSubmitted=2009-12-20 dateUnrestricted=2010-09-20 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HeLa-S3 treatment=IFNg4h view=RawData replicate=2 " -setVars="dateSubmitted=2009-12-20 dateUnrestricted=2010-09-20 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HeLa-S3 treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-03-22 dateUnrestricted=2009-12-22 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HepG2 treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-04-17 dateUnrestricted=2010-01-17 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HUVEC treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-09-24 dateUnrestricted=2010-06-24 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=K562 treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2008-12-09 dateUnrestricted=2009-08-09 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=LHSR treatment=androgen view=RawData replicate=2 " -setVars="dateSubmitted=2009-12-23 dateUnrestricted=2010-09-23 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=LHSR treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-12-23 dateUnrestricted=2010-09-23 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=NHBE treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2010-01-09 dateUnrestricted=2010-10-09 " -test
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=NHEK treatment=None view=RawData replicate=2 " -setVars="dateSubmitted=2009-09-30 dateUnrestricted=2010-06-30 " -test 
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HeLa-S3 treatment=None view=RawData replicate=3 " -setVars="dateSubmitted=2009-03-22 dateUnrestricted=2009-12-22 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=HepG2 treatment=None view=RawData replicate=3 " -setVars="dateSubmitted=2009-04-17 dateUnrestricted=2010-01-17 "
 mdbUpdate hg19 table=metaDb_tdreszer -vars="grant=Crawford dataType=FaireSeq cell=K562 treatment=None view=RawData replicate=3 " -setVars="dateSubmitted=2009-04-20 dateUnrestricted=2010-01-20 "

# Check in changes:
cd .. {mdb/alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
e wgEncodeOpenChromChip.ra # standardize lab to UT-A
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
e wgEncodeOpenChromFaire.ra # standardize lab to UNC
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
grep "lab Duke" wgEncodeOpenChromDnase.ra | sort | uniq -c # Nothing actually changes
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd  {hg19 downloads}
cd wgEncodeOpenChromFaire/
encodeDownloadsPage.pl -db=hg19 index.html
cd ../wgEncodeOpenChromChip/
encodeDownloadsPage.pl -db=hg19 index.html
cd ../wgEncodeOpenChromDnase/
encodeDownloadsPage.pl -db=hg19 index.html

### TODO mdb5sum, check file counts, release1, pushQ

### File counts
cd ../wgEncodeOpenChromChip/
# Experiments
ls -1 *BaseOverlapSignal.bigWig | wl  34
ls -1 *Sig.bigWig | wl                43 - ls -1 *InputSig.bigWig | wl 9
ls -1 *.narrowPeak.gz | wl            34
# Peaks and Sigs as expected.  34 experiments
# Replicated things:
ls -1 *.bam | wl           78
ls -1 *.bam.bai | wl       78
ls -1 *.fastq.gz | wl      72  ### Where are 6?
ls -1 | grep -v \.bai | grep -v \.bigWig | grep -v \.narrowPeak | wl

ls -1 wgEncodeOpenChromChipGm12878Ctcf*Rep1*.fastq*
ls -1 wgEncodeOpenChromChipGm12878Ctcf*Rep2*.fastq*
ls -1 wgEncodeOpenChromChipGm12878Ctcf*Rep3*.fastq*
# All are with V2!
ls -1 wgEncodeOpenChromChipGm12878Ctcf*Rep?V2.fastq*
# Should rename!!! update mdb

ls -1 wgEncodeOpenChromChipHelas3Cmyc*Rep1.fastq*
ls -1 wgEncodeOpenChromChipHelas3Cmyc*Rep2.fastq*
ls -1 wgEncodeOpenChromChipHelas3Ctcf*Rep1.fastq*
ls -1 wgEncodeOpenChromChipHelas3Ctcf*Rep2.fastq*
# V2s
# Should rename!!! update mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=GM12878 antibody=CTCF view=RawData" -count
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HeLa-S3 antibody=c-Myc view=RawData" -count
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HeLa-S3 antibody=CTCF view=RawData" -count

ls -1 wgEncodeOpenChromChipHepg2Cmyc*Rep1.fastq*
ls -1 wgEncodeOpenChromChipHepg2Cmyc*Rep2.fastq*
ls -1 wgEncodeOpenChromChipHepg2Cmyc*Rep3.fastq*
ls -1 wgEncodeOpenChromChipHepg2Ctcf*Rep1.fastq*
ls -1 wgEncodeOpenChromChipHepg2Ctcf*Rep2.fastq*
# V2s
# Should rename!!! update mdb

ls -1 wgEncodeOpenChromChipK562Cmyc*Rep1.fastq*
ls -1 wgEncodeOpenChromChipK562Cmyc*Rep2.fastq*
ls -1 wgEncodeOpenChromChipK562Cmyc*Rep3.fastq*
ls -1 wgEncodeOpenChromChipK562Ctcf*Rep1.fastq*
ls -1 wgEncodeOpenChromChipK562Ctcf*Rep2.fastq*
ls -1 wgEncodeOpenChromChipK562Ctcf*Rep3.fastq*
# V2s
# Should rename!!! update mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=GM12878 antibody=CTCF view=RawData" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HeLa-S3 antibody=c-Myc view=RawData" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HeLa-S3 antibody=CTCF view=RawData" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HepG2 antibody=c-Myc view=RawData" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HepG2 antibody=CTCF view=RawData" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=K562 antibody=c-Myc view=RawData" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=K562 antibody=CTCF view=RawData" >> tmp.mdb

mv wgEncodeOpenChromChipGm12878CtcfRawDataRep1V2.fastq.gz wgEncodeOpenChromChipGm12878CtcfRawDataRep1.fastq.gz
mv wgEncodeOpenChromChipGm12878CtcfRawDataRep2V2.fastq.gz wgEncodeOpenChromChipGm12878CtcfRawDataRep2.fastq.gz
mv wgEncodeOpenChromChipGm12878CtcfRawDataRep3V2.fastq.gz wgEncodeOpenChromChipGm12878CtcfRawDataRep3.fastq.gz
mv wgEncodeOpenChromChipHelas3CmycRawDataRep1V2.fastq.gz  wgEncodeOpenChromChipHelas3CmycRawDataRep1.fastq.gz
mv wgEncodeOpenChromChipHelas3CmycRawDataRep2V2.fastq.gz  wgEncodeOpenChromChipHelas3CmycRawDataRep2.fastq.gz
mv wgEncodeOpenChromChipHelas3CtcfRawDataRep1V2.fastq.gz  wgEncodeOpenChromChipHelas3CtcfRawDataRep1.fastq.gz
mv wgEncodeOpenChromChipHelas3CtcfRawDataRep2V2.fastq.gz  wgEncodeOpenChromChipHelas3CtcfRawDataRep2.fastq.gz
mv wgEncodeOpenChromChipHepg2CmycRawDataRep1V2.fastq.gz   wgEncodeOpenChromChipHepg2CmycRawDataRep1.fastq.gz
mv wgEncodeOpenChromChipHepg2CmycRawDataRep2V2.fastq.gz   wgEncodeOpenChromChipHepg2CmycRawDataRep2.fastq.gz
mv wgEncodeOpenChromChipHepg2CmycRawDataRep3V2.fastq.gz   wgEncodeOpenChromChipHepg2CmycRawDataRep3.fastq.gz
mv wgEncodeOpenChromChipHepg2CtcfRawDataRep1V2.fastq.gz   wgEncodeOpenChromChipHepg2CtcfRawDataRep1.fastq.gz
mv wgEncodeOpenChromChipHepg2CtcfRawDataRep2V2.fastq.gz   wgEncodeOpenChromChipHepg2CtcfRawDataRep2.fastq.gz
mv wgEncodeOpenChromChipK562CmycRawDataRep1V2.fastq.gz    wgEncodeOpenChromChipK562CmycRawDataRep1.fastq.gz
mv wgEncodeOpenChromChipK562CmycRawDataRep2V2.fastq.gz    wgEncodeOpenChromChipK562CmycRawDataRep2.fastq.gz
mv wgEncodeOpenChromChipK562CmycRawDataRep3V2.fastq.gz    wgEncodeOpenChromChipK562CmycRawDataRep3.fastq.gz
mv wgEncodeOpenChromChipK562CtcfRawDataRep1V2.fastq.gz    wgEncodeOpenChromChipK562CtcfRawDataRep1.fastq.gz
mv wgEncodeOpenChromChipK562CtcfRawDataRep2V2.fastq.gz    wgEncodeOpenChromChipK562CtcfRawDataRep2.fastq.gz
mv wgEncodeOpenChromChipK562CtcfRawDataRep3V2.fastq.gz    wgEncodeOpenChromChipK562CtcfRawDataRep3.fastq.gz

rm tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=GM12878 antibody=CTCF view=RawData" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HeLa-S3 antibody=c-Myc view=RawData" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HeLa-S3 antibody=CTCF view=RawData" >> tmp.mdb

ls -1 wgEncodeOpenChromChipHuvecCmyc*Rep1.fastq*
# No "Rep"
wgEncodeOpenChromChipHuvecCmycRawData.fastq.gz
# Should rename, update mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip cell=HUVEC antibody=c-Myc view=RawData" > tmp.mdb
mv wgEncodeOpenChromChipHuvecCmycRawData.fastq.gz wgEncodeOpenChromChipHuvecCmycRawDataRep1.fastq.gz
######## Missing!
ls -1 wgEncodeOpenChromChipFibroblCtcf*Rep1*.fastq*
ls -1 wgEncodeOpenChromChipFibroblCtcf*Rep2*.fastq*
ls -1 wgEncodeOpenChromChipFibroblInput*.fastq*
ls -1 wgEncodeOpenChromChipProgfibCtcf*Rep1.fastq*
ls -1 wgEncodeOpenChromChipProgfibCtcf*Rep2.fastq*
ls -1 wgEncodeOpenChromChipProgfibInput*.fastq*
ls -1 wgEncodeOpenChromChipProgfibPol2*Rep1.fastq*
ls -1 wgEncodeOpenChromChipProgfibPol2*Rep2.fastq*
######## Missing!

### More file counts
cd ../wgEncodeOpenChromDnase/
# Experiments
ls -1 *BaseOverlapSignal.bigWig | wl  45
ls -1 *Sig.bigWig | wl                45
ls -1 *.narrowPeak.gz | wl            45
# Peaks and Sigs as expected.         45 experiments
# Replicated things:
ls -1 *.bam | wl           105
ls -1 *.bam.bai | wl       105
ls -1 *.fastq.gz | wl      70  ### Where are 35?

rm tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep1V2 >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep2V2 >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep3V2 >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep1V2  >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep2V2  >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep3V2  >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep1V2   >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep2V2   >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep3V2   >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseK562RawDataRep1V2    >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromDnaseK562RawDataRep2V2    >> tmp.mdb
e tmp.mdb

mdbUpdate hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep1 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep2 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep3 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep1  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep2  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep3  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep1   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep2   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep3   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseK562RawDataRep1    -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseK562RawDataRep2    -delete 

mdbUpdate hg19 tmp.mdb

mdbUpdate hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep1V2 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep2V2 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseGm12878RawDataRep3V2 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep1V2  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep2V2  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHelas3RawDataRep3V2  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep1V2   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep2V2   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseHepg2RawDataRep3V2   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseK562RawDataRep1V2    -delete
mdbUpdate hg19 obj=wgEncodeOpenChromDnaseK562RawDataRep2V2    -delete 

######## Missing!
ls -1 wgEncodeOpenChromDnaseAosmcSerumfree*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseAosmcSerumfree*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseCll*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseCll*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseCll*Rep3.fastq.*
ls -1 wgEncodeOpenChromDnaseFibrobl*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseFibrobl*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseFibrop*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseFibrop*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseFibrop*Rep3.fastq.*
ls -1 wgEncodeOpenChromDnaseGm12878*Rep4.fastq.*
ls -1 wgEncodeOpenChromDnaseGm12878*Rep5.fastq.*
ls -1 wgEncodeOpenChromDnaseHmec*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseHmec*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseHsmm*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseHsmm*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseHsmm*Rep3.fastq.*
ls -1 wgEncodeOpenChromDnaseHsmmt*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseHsmmt*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseHsmmt*Rep3.fastq.*
ls -1 wgEncodeOpenChromDnaseIps*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseIps*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseIps*Rep3.fastq.*
ls -1 wgEncodeOpenChromDnaseMyometr*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseMyometr*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnasePanisd*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnasePanisd*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnasePanisd*Rep3.fastq.*
ls -1 wgEncodeOpenChromDnasePanislets*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnasePanislets*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnasePanislets*Rep3.fastq.*
ls -1 wgEncodeOpenChromDnasePhte*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnasePhte*Rep2.fastq.*
ls -1 wgEncodeOpenChromDnaseProgfib*Rep1.fastq.*
ls -1 wgEncodeOpenChromDnaseProgfib*Rep2.fastq.*
######## Missing!

### More file counts
cd ../wgEncodeOpenChromFaire/
# Experiments
ls -1 *BaseOverlapSignal.bigWig | wl  20
ls -1 *Sig.bigWig | wl                20
ls -1 *.narrowPeak.gz | wl            20
# Peaks and Sigs as expected.         20 experiments
# Replicated things:
ls -1 *.bam | wl           42
ls -1 *.bam.bai | wl       42
ls -1 *.fastq.gz | wl      48  ### Extra 6 ?

ls -1 *V2*
wgEncodeOpenChromFaireGm12878RawDataRep1V2.fastq.gz
wgEncodeOpenChromFaireGm12878RawDataRep2V2.fastq.gz
wgEncodeOpenChromFaireGm12878RawDataRep3V2.fastq.gz
wgEncodeOpenChromFaireHelas3RawDataRep1V2.fastq.gz
wgEncodeOpenChromFaireHelas3RawDataRep2V2.fastq.gz
wgEncodeOpenChromFaireHepg2RawDataRep1V2.fastq.gz
wgEncodeOpenChromFaireHepg2RawDataRep2V2.fastq.gz
wgEncodeOpenChromFaireHepg2RawDataRep3V2.fastq.gz
wgEncodeOpenChromFaireK562RawDataRep1V2.fastq.gz
wgEncodeOpenChromFaireK562RawDataRep2V2.fastq.gz

mkdir ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireGm12878RawDataRep1.fastq.gz ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireGm12878RawDataRep2.fastq.gz ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireGm12878RawDataRep3.fastq.gz ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireHelas3RawDataRep1.fastq.gz  ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireHelas3RawDataRep2.fastq.gz  ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireHepg2RawDataRep1.fastq.gz   ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireHepg2RawDataRep2.fastq.gz   ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireHepg2RawDataRep3.fastq.gz   ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireK562RawDataRep1.fastq.gz    ../obsolete/wgEncodeOpenChromatinFaire
mv wgEncodeOpenChromFaireK562RawDataRep2.fastq.gz    ../obsolete/wgEncodeOpenChromatinFaire

mv wgEncodeOpenChromFaireGm12878RawDataRep1V2.fastq.gz wgEncodeOpenChromFaireGm12878RawDataRep1.fastq.gz
mv wgEncodeOpenChromFaireGm12878RawDataRep2V2.fastq.gz wgEncodeOpenChromFaireGm12878RawDataRep2.fastq.gz
mv wgEncodeOpenChromFaireGm12878RawDataRep3V2.fastq.gz wgEncodeOpenChromFaireGm12878RawDataRep3.fastq.gz
mv wgEncodeOpenChromFaireHelas3RawDataRep1V2.fastq.gz  wgEncodeOpenChromFaireHelas3RawDataRep1.fastq.gz
mv wgEncodeOpenChromFaireHelas3RawDataRep2V2.fastq.gz  wgEncodeOpenChromFaireHelas3RawDataRep2.fastq.gz
mv wgEncodeOpenChromFaireHepg2RawDataRep1V2.fastq.gz   wgEncodeOpenChromFaireHepg2RawDataRep1.fastq.gz
mv wgEncodeOpenChromFaireHepg2RawDataRep2V2.fastq.gz   wgEncodeOpenChromFaireHepg2RawDataRep2.fastq.gz
mv wgEncodeOpenChromFaireHepg2RawDataRep3V2.fastq.gz   wgEncodeOpenChromFaireHepg2RawDataRep3.fastq.gz
mv wgEncodeOpenChromFaireK562RawDataRep1V2.fastq.gz    wgEncodeOpenChromFaireK562RawDataRep1.fastq.gz
mv wgEncodeOpenChromFaireK562RawDataRep2V2.fastq.gz    wgEncodeOpenChromFaireK562RawDataRep2.fastq.gz

rm tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep1V2 >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep2V2 >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep3V2 >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireHelas3RawDataRep1V2  >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireHelas3RawDataRep2V2  >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep1V2   >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep2V2   >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep3V2   >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireK562RawDataRep1V2    >> tmp.mdb
mdbPrint hg19 obj=wgEncodeOpenChromFaireK562RawDataRep2V2    >> tmp.mdb
e tmp.mdb

mdbUpdate hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep1 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep2 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep3 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHelas3RawDataRep1  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHelas3RawDataRep2  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep1   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep2   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep3   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireK562RawDataRep1    -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireK562RawDataRep2    -delete

mdbUpdate hg19 tmp.mdb

mdbUpdate hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep1V2 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep2V2 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireGm12878RawDataRep3V2 -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHelas3RawDataRep1V2  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHelas3RawDataRep2V2  -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep1V2   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep2V2   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireHepg2RawDataRep3V2   -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireK562RawDataRep1V2    -delete
mdbUpdate hg19 obj=wgEncodeOpenChromFaireK562RawDataRep2V2    -delete

######## Extras
ls -1 wgEncodeOpenChromFaireHelas3*Rep3.bam
ls -1 wgEncodeOpenChromFaireK562*Rep3.bam
ls -1 wgEncodeOpenChromFaireLhsrAndro*Rep1.bam
ls -1 wgEncodeOpenChromFaireLhsrAndro*Rep2.bam
ls -1 wgEncodeOpenChromFaireLhsr*Rep1.bam
ls -1 wgEncodeOpenChromFaireLhsr*Rep2.bam
######## Extras

# Check in changes:
cd .. {hg19/metaDb.alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
e wgEncodeOpenChromChip.ra # standardize lab to UT-A
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
e wgEncodeOpenChromFaire.ra # standardize lab to UNC
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
grep "lab Duke" wgEncodeOpenChromDnase.ra | sort | uniq -c # Nothing actually changes
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd  {hg19 downloads}
cd ../wgEncodeOpenChromChip/
encodeDownloadsPage.pl -db=hg19 index.html
# 339 file. No Missing metadata

cd ../wgEncodeOpenChromDnase/
encodeDownloadsPage.pl -db=hg19 index.html
# 415 files. No Missing metadata

cd ../wgEncodeOpenChromFaire/
encodeDownloadsPage.pl -db=hg19 index.html
# 192 files. No Missing metadata

## TODO: mdb5sum, Contact Terry about missing fastqs

## Fastqs missing:
DNase/AoSMC/SerumFree Rep1,Rep2
DNase/CLL Rep1,Rep2,Rep3
DNase/Fibrobl Rep1,Rep2
DNase/FibroP Rep1,Rep2,Rep3
DNase/GM12878 Rep4,Rep5
DNase/HMEC Rep1,Rep2
DNase/HSMM Rep1,Rep2,Rep3
DNase/HSMMtube Rep1,Rep2,Rep3
DNase/iPS Rep1,Rep2,Rep3
DNase/Myometr Rep1,Rep2
DNase/PanIsletD Rep1,Rep2,Rep3
DNase/PanIslets Rep1,Rep2,Rep3
DNase/pHTE Rep1,Rep2
DNase/ProgFib Rep1,Rep2
ChIPseq/Fibrobl/CTCF Rep1,Rep2
ChIPseq/Fibrobl/Input Rep1
ChIPseq/ProgFib/CTCF Rep1,Rep2
ChIPseq/ProgFib/Input Rep1
ChIPseq/ProgFib/Pol2 Rep1,Rep2

### Extras
FAIRE/HeLa-S3 Rep3
FAIRE/K562 Rep3
FAIRE/LHSR Rep1,Rep2
FAIRE/LHSR/androgen Rep1,Rep2

### Extras
FAIRE/HeLa-S3 Rep3
FAIRE/K562 Rep3
FAIRE/LHSR Rep1,Rep2
FAIRE/LHSR/androgen Rep1,Rep2

/cluster/data/encode/pipeline/bin/encodeStatus.pl 3141 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 3153 displayed

# Extras are abandoned/revoked data and should be moved:
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=HeLa-S3 replicate=3" -delete
Using table named 'hg19.metaDb_tdreszer'.
Affected 35 row(s) in hg19.metaDb_tdreszer
mv wgEncodeOpenChromFaireHelas3*Rep3.* ../obsolete/wgEncodeOpenChromFaire/

mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=K562 replicate=3" -delete
Using table named 'hg19.metaDb_tdreszer'.
Affected 35 row(s) in hg19.metaDb_tdreszer
mv wgEncodeOpenChromFaireK562*Rep3.* ../obsolete/wgEncodeOpenChromFaire/

mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=LHSR" -delete
Using table named 'hg19.metaDb_tdreszer'.
Affected 68 row(s) in hg19.metaDb_tdreszer
mv wgEncodeOpenChromFaireLhsr* ../obsolete/wgEncodeOpenChromFaire/

# Check in changes:
cd .. {hg19/metaDb.alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
gold wgEncodeOpenChromFaire.ra # standardize lab to UNC
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd ../wgEncodeOpenChromFaire/
encodeDownloadsPage.pl -db=hg19 index.html
# 186 files.  No Missing metadata  ### 171 in hgFileUi (Where are missing 15?)

# Private data should be marked in mdb:
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=AoSMC" -setVars="privacy=noSequence"
Affected 5 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=CLL" -setVars="privacy=noSequence"
Affected 6 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Fibrobl" -setVars="privacy=noSequence"      
Affected 5 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=FibroP" -setVars="privacy=noSequence"      
Affected 6 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HMEC" -setVars="privacy=noSequence"      
Affected 5 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HSMM" -setVars="privacy=noSequence"
Affected 6 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HSMMtube" -setVars="privacy=noSequence"
Affected 6 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=iPS" -setVars="privacy=noSequence"      
Affected 6 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Myometr" -setVars="privacy=noSequence"      
Affected 5 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=PanIsletD" -setVars="privacy=noSequence"      
Affected 6 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=PanIslets" -setVars="privacy=noSequence"      
Affected 6 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=pHTE" -setVars="privacy=noSequence"      
Affected 5 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=ProgFib" -setVars="privacy=noSequence"      
Affected 5 row(s) in hg19.metaDb_tdreszer

mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip cell=Fibrobl antibody=CTCF" -setVars="privacy=noSequence"      
Affected 5 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip cell=Fibrobl antibody=Input" -setVars="privacy=noSequence"      
Affected 2 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip cell=ProgFib antibody=CTCF" -setVars="privacy=noSequence"      
Affected 5 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip cell=ProgFib antibody=Input" -setVars="privacy=noSequence"      
Affected 2 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip cell=ProgFib antibody=Pol2" -setVars="privacy=noSequence"      
Affected 5 row(s) in hg19.metaDb_tdreszer

# Check in changes:
cd .. {hg19/metaDb.alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
gold wgEncodeOpenChromDnase.ra 
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra 
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd ../wgEncodeOpenChromDnase/
encodeDownloadsPage.pl -db=hg19 index.html
# 415 files.  No Missing metadata  ### 372 found in hgFileUi ?? (where are missing 43??)

cd ../wgEncodeOpenChromChip/
encodeDownloadsPage.pl -db=hg19 index.html
# 339 files.  No Missing metadata  ### 320 found in hgFileUi ?? (where are missing 19??)
### Probably bai

mdbPrint hg19 -count -vars="composite=wgEncodeOpenChromChip fileIndex=?"Using table named 'hg19.metaDb_tdreszer'.
59 objects
mdbPrint hg19 -count -vars="composite=wgEncodeOpenChromChip fileName=%bam"
Using table named 'hg19.metaDb_tdreszer'.
78 objects
# diff 19 !
mdbPrint hg19 -count -vars="composite=wgEncodeOpenChromDnase fileName=%bam"
105 objects
mdbPrint hg19 -count -vars="composite=wgEncodeOpenChromDnase fileIndex=?"
62 objects
# diff 43 !
mdbPrint hg19 -count -vars="composite=wgEncodeOpenChromFaire fileName=%bam"
42 objects
mdbPrint hg19 -count -vars="composite=wgEncodeOpenChromFaire fileIndex=?"
27 objects
# diff 15 !
## Need to update bai for a lot of objects 

rm tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase fileName=%bam fileIndex!=" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="composite,fileName,fileIndex" -updVars="fileName" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire fileName=%bam fileIndex!=" -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="composite,fileName,fileIndex" -updVars="fileName" >> tmp.mdb
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip fileName=%bam fileIndex!="  -updDb=hg19 -updMdb=metaDb_tdreszer -updSelect="composite,fileName,fileIndex" -updVars="fileName" >> tmp.mdb
e tmp.mdb # edit to add fileIndex
chmod tmp.mdb
./tmp.mdb
Affected 1 row(s) in hg19.metaDb_tdreszer
...
rm tmp.mdb

# Check in changes:
cd .. {hg19/metaDb.alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
gold wgEncodeOpenChromDnase.ra 
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
gold wgEncodeOpenChromFaire.ra 
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra 
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd ../wgEncodeOpenChromDnase/
encodeDownloadsPage.pl -db=hg19 index.html
# 415 files.  No Missing metadata  # 415 found in hgFileUi

cd ../wgEncodeOpenChromChip/
encodeDownloadsPage.pl -db=hg19 index.html
# 339 files.  No Missing metadata  # 339 found in hgFileUi
### Probably bai

cd ../wgEncodeOpenChromFaire/
encodeDownloadsPage.pl -db=hg19 index.html
# 186 files.  No Missing metadata  ### 186 found in hgFileUi

# Missing DNase/GM12878 rep4 and rep5 fastqs found
cd {pip}/1494
e *.DDF # were marked as reps 1 and 2
e out.load.ra mdb.txt
cd ..
doEncodeLoad.pl x 1494
# fastqs now in place

mdbUpdate hg19 mdb.txt
Read 2 metadata objects from hg19
Affected 30 row(s) in hg19.metaDb_tdreszer

# Check in changes:
cd .. {hg19/metaDb.alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
gold wgEncodeOpenChromDnase.ra 
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd ../wgEncodeOpenChromDnase/
encodeDownloadsPage.pl -db=hg19 index.html
# 416 files.  No Missing metadata  # 416 found in hgFileUi
### Expected 417

### Oops.  Running deEncodeLoad.pl by hand caused problems.
From pipeline pages 1494 => unload
e 1494/*.DDF # not rep1 and rep2 but rep 4 and rep5
e 1494/*.DAF # DnaseSeq and allowReloads;skiupValidation
From pipeline pages 1494 => validate (load)
# mdb should already be up-to-date

cd ../wgEncodeOpenChromDnase/
encodeDownloadsPage.pl -db=hg19 index.html
# 417 files.  No Missing metadata  # 417 found in hgFileUi
# All good

/cluster/data/encode/pipeline/bin/encodeStatus.pl 1494 displayed

2011-01-12 Work on openChrom combo tracks
=========================================
# Terry says the fields for the combo bed will be:
chrom
2 - chromStart
3 - chromEnd
4 - unique name 
5 - score (set to "1000" always)
6 - strand (set to ".." to indicate no strand)
7 - thickStart (set to chromStart) 
8 - thickEnd (set to chromEnd)
9 - color:
           validated, peaks in both DNase and FAIRE: set to "0,0,0" (black) 
           open chromatin, fisher combined p-value < 0.01, not validated: set to "0,0,255" (blue)
           dnase-only, peak in Dnase but combined > 0.01: set to "0,255,0"  (green)
           faire-only, peak in FAIRE but combined > 0.01: set to "255,0,0" (red)
           chip-only, peak in one of the ChIP assays, not in DNase or FAIRE: set to "255,0,255" (pinkish)
10 - Open chromatin combined -log10(p-value) based on Fisher's method
11 - DNase-seq max parzen score
12 - DNase-seq -log10(p-value)
13 - FAIRE-seq max parzen score
14 - FAIRE-seq -log10(p-value)
15 - Pol II ChIP-seq max parzen score
16 - Pol II ChIP-seq -log10(p-value)
17 - CTCF ChIP-seq max parzen score
18 - CTCF ChIP-seq -log10(p-value)
19 - c-Myc ChIP-seq max parzen score
20 - c-Myc ChIP-seq -log10(p-value)
21 - validated (boolean)
22 - open chromatin code:
set to 1 if peak in DNase and FAIRE
set to 2 if peak in DNase-only
set to 3 if peak in FAIRE-only
set to 4 if peak in neither

cd {pip}../ftp/prod/tsfurey
mv mv K562_OC.bed.tgz ~/kent/src/hg/makeDb/trackDb/human/hg19/metaDb/alpha/testing/
cd {m19}/testing
tar -xzf K562_OC.bed.tgz
K562_OC.bed
openChromatin.sql
#Locations of regions of open chromatin as determined by DNaseI HS and FAIRE experiments
CREATE TABLE K562_OpenChromatin (
    chrom varchar(255) not null,        # Human chromosome number
    chromStart int unsigned not null,   # Start position in genoSeq
    chromEnd int unsigned not null,     # End position in genoSeq
    name varchar(255) not null, # Name of cytogenetic band
    score int(10) unsigned not null, # Always 1000
    strand char(1) not null, # Always .
    thickStart int(10) unsigned not null, # Same as chromStart
    thickEnd int(10) unsigned not null, # Same as chromEnd     
    color int(10) unsigned not null, # Encodes validated, open chromatin, DNase-only, FAIRE-only, ChIP-
only
    pvalue float unsigned not null, # Combined DNase-seq and FAIRE-seq -log10(p-value)
    dnaseSignal float unsigned not null, # Max signal value for DNase-seq
    dnasePvalue float unsigned not null, # DNase-seq -log10(p-value) 
    faireSignal float unsigned not null, # Max signal value for FAIRE-seq
    fairePvalue float unsigned not null, # FAIRE-seq -log10(p-value) 
    polIISignal float unsigned, # Max signal value for PolII ChIP-seq
    polIIPvalue float unsigned, # PolII ChIP-seq -log10(p-value) 
    ctcfSignal float unsigned, # Max signal value for CTCF ChIP-seq
    ctcfPvalue float unsigned, # CTCF ChIP-seq -log10(p-value) 
    cmycSignal float unsigned, # Max signal value for c-Myc ChIP-seq
    cmycPvalue float unsigned, # c-Myc ChIP-seq -log10(p-value) 
    ocCode int(10) unsigned not null, # Open Chromatin code for validated (=1), DNase-only (=2), FAIRE-
only (=3), ChIP-only (=4)

              #Indices
    PRIMARY KEY(chrom(12),chromStart),
    UNIQUE(chrom(12),chromStart)
);
cp openChromatin.sql ~/kent/src/hg/lib/encode/openChromCombinedPeaks.sql
cd ~/kent/src/hg/lib/encode/
e openChromCombinedPeaks.sql
cp openChromCombinedPeaks.sql /cluster/bin/sqlCreate/
# test load:
/cluster/bin/x86_64/hgLoadBed -noNameIx $assembly $tableName stdin -tmpDir=$tempDir -sqlTable=$Encode::sqlCreate/${sqlTable}.sql -renameSqlTable $fillInArg");
            $fillInArg = "-fillInScore=signalValue -minScore=500 " if $tableName =~ /^wgEncodeUwDnaseSeq/;
/cluster/bin/x86_64/hgLoadBed -noNameIx hg19 tempK562Oc K562_OC.bed -tmpDir=/data/tmp -sqlTable=/cluster/bin/sqlCreate/openChromCombinedPeaks.sql -renameSqlTable -fillInScore=pValue -minScore=500 &
/cluster/bin/x86_64/hgLoadBed -noNameIx hg19 tempK562Oc K562_OC.bed -tmpDir=/data/tmp -sqlTable=/cluster/bin/sqlCreate/openChromCombinedPeaks.sql -renameSqlTable &
# Works
#Now try pipeline
# mkdir zipper and load DAF/DDF and bed
tar -czf testIt.tgz K562_OC.bed openChromCombo.daf openChromCombo.ddf
tar -tzf testIt.tgz 
K562_OC.bed
openChromCombo.daf
openChromCombo.ddf
cd /hive/groups/encode/dcc/pipeline/ftp/prod/tdreszer
mv ~/kent/src/hg/makeDb/trackDb/human/hg19/metaDb/alpha/testing/zipper/testIt.tgz .
ll

# 4 submissions needing to be displayed:
select id,name,status from projects where user_id = 17 and status = "loaded";
+------+-----------------------------------------------+--------+
| id   | name                                          | status |
+------+-----------------------------------------------+--------+
| 3217 | DNCT Duke DNaseHS Urothelia 20110110          | loaded | 
| 3218 | DNCT Duke DNaseHS Urothelia UT189 20110110    | loaded | 
| 3241 | DNCT UTA CTCF K562 Signal and Peaks 20110112  | loaded | 
| 3242 | DNCT UTA PolII K562 Signal and Peaks 20110112 | loaded | 
# First 3241 and 3242 which are reloads
# Wrong name for peaks!
rename table wgEncodeOpenChromChipK562CtcfPk to wgEncodeOpenChromChipK562CtcfPk_old;
rename table wgEncodeOpenChromChipK562CtcfPkRep1 to wgEncodeOpenChromChipK562CtcfPk;
drop table wgEncodeOpenChromChipK562CtcfPk_old;
rename table wgEncodeOpenChromChipK562Pol2Pk to wgEncodeOpenChromChipK562Pol2Pk_old;
rename table wgEncodeOpenChromChipK562Pol2PkRep1 to wgEncodeOpenChromChipK562Pol2Pk;
drop table wgEncodeOpenChromChipK562Pol2Pk_old;
mdbUpdate hg19 -obj=wgEncodeOpenChromChipK562CtcfPk -setVars="dateResubmitted=2011-01-12"
mdbUpdate hg19 -obj=wgEncodeOpenChromChipK562CtcfSig -setVars="dateResubmitted=2011-01-12"
mdbUpdate hg19 -obj=wgEncodeOpenChromChipK562Pol2Pk -setVars="dateResubmitted=2011-01-12"
mdbUpdate hg19 -obj=wgEncodeOpenChromChipK562Pol2Sig -setVars="dateResubmitted=2011-01-12"
cd {downloadsDir}
mkdir ../obsolete/wgEncodeOpenChromChip
mv wgEncodeOpenChromChipK562CtcfPk.* ../obsolete/wgEncodeOpenChromChip/
mv wgEncodeOpenChromChipK562Pol2Pk.* ../obsolete/wgEncodeOpenChromChip/
mv wgEncodeOpenChromChipK562CtcfPkRep1.narrowPeak.gz wgEncodeOpenChromChipK562CtcfPk.narrowPeak.gz
mv wgEncodeOpenChromChipK562Pol2PkRep1.narrowPeak.gz wgEncodeOpenChromChipK562Pol2Pk.narrowPeak.gz

# Check in changes:
cd .. {hg19/metaDb.alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra 
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd ../wgEncodeOpenChromChip/
encodeDownloadsPage.pl -db=hg19 index.html
# 339 files.  No Missing metadata  # 339 found in hgFileUi

# Now 3217, 3218
cd  pip/3217/out
e trackDb.ra ../../3218/out/trackDb.ra # edit for trackDb subGroups, composite name
cd {tdb}/hg19
encodePatchTdb /hive/groups/encode/dcc/pipeline/encpipeline_prod/3217/out/trackDb.ra wgEncodeOpenChromDnase.ra
encodePatchTdb /hive/groups/encode/dcc/pipeline/encpipeline_prod/3217/out/trackDb.ra wgEncodeOpenChromDnase.ra
gold wgEncodeOpenChromDnase.ra
git: up, add, ci, up, push

cd  pip/3217/out
e mdb.txt ../../3218/out/mdb.txt # Look fine, no editing
mdbUpdate hg19 mdb.txt
Read 7 metadata objects from hg19
Affected 103 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 ../../3218/out/mdb.txt
Using table named 'hg19.metaDb_tdreszer'.
Read 7 metadata objects from hg19
Affected 110 row(s) in hg19.metaDb_tdreszer

# Check in changes:
cd .. {hg19/metaDb.alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
gold wgEncodeOpenChromDnase.ra
### Ouch, missing bai's.  Must fix pipeline!
e wgEncodeOpenChromDnase.ra # add bai's
mdbUpdate hg19 wgEncodeOpenChromDnase.ra
 
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd ../wgEncodeOpenChromDnase/
encodeDownloadsPage.pl -db=hg19 index.html
# 435 files.  No Missing metadata  # 435 found in hgFileUi

/cluster/data/encode/pipeline/bin/encodeStatus.pl 3217 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 3218 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 3241 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 3242 displayed

2011-01-18 First try of "Combo" wgEncodeOpenChromSynth load
===========================================================
Using config path /hive/groups/encode/dcc/pipeline/encpipeline_prod/3273/../config
Loading project in directory /hive/groups/encode/dcc/pipeline/encpipeline_prod/3273
set1/HepG2_OC.bed loaded into wgEncodeOpenChromSynthHepg2Pk
ERROR: File(s) 'set1/GM12878_OC.bed' failed bed load:
Reading stdin
Loaded 231413 elements of size 21
Sorted
Creating table definition for wgEncodeOpenChromSynthGm12878Pk
Saving /data/tmp/loadBed_hgwdev_2c60_4955b0.tab
Loading hg19
load of wgEncodeOpenChromSynthGm12878Pk did not go as planned: 231413 record(s), 11 row(s) skipped, 0 warning(s) load
ing /data/tmp/loadBed_hgwdev_2c60_4955b0.tab
### Load error on second bed.  Try hand load with verbose?
cd {pip}/3273
wl /data/tmp/loadBed_hgwdev_2c60_4955b0.tab  231413
wl set1/GM12878_OC.bed                       231413

select count(*) from select count(*) from wgEncodeOpenChromSynthGm12878Pk;  |   231402 |  
# "11 row(s) skipped"
ll /data/tmp/loadBed_hgwdev_2c60_4955b0.tab
-rw-rw-r-- 1 encodeteam protein 33988533 Jan 17 11:15 /data/tmp/loadBed_hgwdev_2c60_4955b0.tab
ll set1/GM12878_OC.bed 
-rw-rw-r-- 2 encodeteam protein 33317166 Jan 17 11:03 set1/GM12878_OC.bed
# Files are different
sort < set1/GM12878_OC.bed > tmp.bed
uniq < tmp.bed > tmp2.bed
[hgwdev:tdreszer 3273> ll tmp*
-rw-rw-r-- 1 tdreszer protein 33317166 Jan 18 09:03 tmp.bed
-rw-rw-r-- 1 tdreszer protein 33317166 Jan 18 09:04 tmp2.bed
# No dups
head -2 set1/GM12878_OC.bed 
chr1    10166   10376   FAIREOnly_1     1000    .       10166   10376   153,0,0 0.99    0.00160 0.00    0.01580 1.680.02650  1.51    0.00840 0.00    0.03360 0.00    3
chr1    91363   91505   ChIPOnly_1      1000    .       91363   91505   255,0,255       0.24    0.01320 0.62    0.00320      0.00    0.00000 0.00    0.22470 3.79    0.01890 0.00    4
head -2 /data/tmp/loadBed_hgwdev_2c60_4955b0.tab
585     chr1    10166   10376   FAIREOnly_1     1000    .       10166   10376   10027008        0.99    0.00160 0.000.01580  1.68    0.02650 1.51    0.00840 0.00    0.03360 0.00    3
585     chr1    91363   91505   ChIPOnly_1      1000    .       91363   91505   16711935        0.24    0.01320 0.620.00320  0.00    0.00000 0.00    0.22470 3.79    0.01890 0.00    4
# Bins added in tab

/cluster/bin/x86_64/hgLoadBed -noNameIx $assembly $tableName stdin -tmpDir=$tempDir -sqlTable=$Encode::sqlCreate/${sqlTable}.sql -renameSqlTable $fillInArg"
/cluster/bin/x86_64/hgLoadBed -noNameIx hg19 wgEncodeOpenChromSynthGm12878Pk_tmp set1/GM12878_OC.bed -tmpDir=/data/tmp/ -sqlTable=/cluster/bin/sqlCreate/openChromCombinedPeaks.sql -renameSqlTable  -verbose=1 > tryLoad.txt 2>&1 &
LOAD DATA INFILE '/data/tmp/loadBed_hgwdev_2c60_4955b0.tab' REPLACE INTO TABLE wgEncodeOpenChromSynthGm12878Pk_tmp;
Deletes all and seems to accept all.  However, table still has 11 missing.
delete from wgEncodeOpenChromSynthGm12878Pk_tmp;
LOAD DATA INFILE '/data/tmp/loadBed_hgwdev_2c60_4955b0.tab' INTO TABLE wgEncodeOpenChromSynthGm12878Pk_tmp;
ERROR 1062 (23000): Duplicate entry 'chr21-48022706' for key 1
grep chr21 set1/GM12878_OC.bed | grep 48022706
chr21   48022706        48022858        FAIREOnly_71110 1000    .       48022706        48022858        153,0,0 1.110.01280  0.59    0.01310 1.24    0.00170 0.00    0.01750 0.00    0.03410 0.00    3
chr21   48022706        48022858        FAIREOnly_71113 1000    .       48022706        48022858        153,0,0 1.110.01280  0.59    0.01310 1.24    0.00170 0.00    0.01750 0.00    0.03410 0.00    3

delete from wgEncodeOpenChromSynthGm12878Pk_tmp;
LOAD DATA INFILE '/data/tmp/loadBed_hgwdev_2c60_4955b0.tab' REPLACE INTO TABLE wgEncodeOpenChromSynthGm12878Pk_tmp;
Query OK, 231424 rows affected (8.61 sec)
Records: 231413  Deleted: 11  Skipped: 0  Warnings: 0
## Now we know, it is duplicates!!

Cleverness would awk print $1 $2 $3 and then uniq to find the culprits
### Terry fixed his data, but now there are errors when -1 is put into the unsigned float
/cluster/bin/x86_64/hgLoadBed -noNameIx hg19 wgEncodeOpenChromSynthNhekPk_tmp set1/NHEK_OC.bed -tmpDir=/data/tmp/ -sqlTable=/cluster/bin/sqlCreate/openChromCombinedPeaks.sql -renameSqlTable  -verbose=1 > tryLoad.txt 2>&1 &

# Fixed .sql and reloaded.  Awaiting creation of trackDb.ra

# Updated three existing hg19 composites for long and short label standards

2011-01-19 Catch up with UTA TFBS and UNC FAIRE 
===============================================
select id,name,status from projects where user_id = 17 and status = "loaded";
| 3271 | DNCT UTA Input Monocytes-CD14+ 20110116           | loaded | 
| 3272 | DNCT UTA PolII Gliobla 20110117                   | loaded | 
| 3273 | DNCT OpenChromCombo Set1 20110117                 | loaded | 
| 3277 | DNCT UNC FAIRE-Seq Urothelia 20110117             | loaded | 
| 3278 | DNCT UNC FAIRE-Seq Urothelia UT189 20110117          | loaded | 
| 3378 | DNCT UNC FAIRE-Seq MCF-7 Hypoxia_LacAcid 20110119 | loaded | 
| 3379 | DNCT UNC FAIRE-Seq HTR8svn 20110119               | loaded | 

cd {pip}/3271
e out/trackDb.ra ../3272/out/trackDb.ra # edit for labels, subgroups etc.
cd {tdb19}
encodePatchTdb /hive/groups/encode/dcc/pipeline/encpipeline_prod/3272/out/trackDb.ra wgEncodeOpenChromChip.ra

cd {pip}/3277
e out/trackDb.ra ../3278/out/trackDb.ra ../3378/out/trackDb.ra ../3379/out/trackDb.ra # edit for labels, subgroups etc.
encodePatchTdb /hive/groups/encode/dcc/pipeline/encpipeline_prod/3379/out/trackDb.ra wgEncodeOpenChromFaire.ra

# now metadata
cd {pip}/3272
e out/mdb.txt # remove rep1 from peaks
cd ..
mdbUpdate hg19 3271/out/mdb.txt
mdbUpdate hg19 3272/out/mdb.txt
mdbUpdate hg19 3277/out/mdb.txt
mdbUpdate hg19 3278/out/mdb.txt
mdbUpdate hg19 3378/out/mdb.txt
mdbUpdate hg19 3379/out/mdb.txt

# Check in changes:
cd .. {hg19/metaDb/alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
gold wgEncodeOpenChromFaire.ra

 mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" | grep -w lab | sort | uniq
Using table named 'hg19.metaDb_tdreszer'.
objects:173  vars:2862
lab UNC
lab UNC(Lieb)
[hgwdev:tdreszer alpha> mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" | grep -w lab | sort | uniq
Using table named 'hg19.metaDb_tdreszer'.
objects:275  vars:4996
lab UT-A
lab UT-A(Iyer)

mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire lab=UNC(Lieb)" -setVars="lab=UNC"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip lab=UT-A(Iyer)" -setVars="lab=UT-A"

mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
gold wgEncodeOpenChromFaire.ra
 
git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd ../wgEncodeOpenChromChip/
encodeDownloadsPage.pl -db=hg19 index.html
# 352 files.  No Missing metadata  # 352 found in hgFileUi

cd ../wgEncodeOpenChromFaire/
encodeDownloadsPage.pl -db=hg19 index.html
# 222 files.  Missing metadata for 18!!!  # 204 found in hgFileUi

### Brian!
submissions 3378 and 3378 have doc id file and table names, but mdb obj names are old style.
### Brian!

/cluster/data/encode/pipeline/bin/encodeStatus.pl 3271 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 3272 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 3277 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 3278 displayed

wgEncodeOpenChromFaire000004008 wgEncodeOpenChromFaireMcf7HypoxlacRawDataRep1
wgEncodeOpenChromFaire000004009 wgEncodeOpenChromFaireMcf7HypoxlacRawDataRep2
wgEncodeOpenChromFaire000004010 wgEncodeOpenChromFaireMcf7HypoxlacAlnRep1
wgEncodeOpenChromFaire000004011 wgEncodeOpenChromFaireMcf7HypoxlacAlnRep2
wgEncodeOpenChromFaire000004012 wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal
wgEncodeOpenChromFaire000004013 wgEncodeOpenChromFaireMcf7HypoxlacPk
wgEncodeOpenChromFaire000004014 wgEncodeOpenChromFaireMcf7HypoxlacSig
wgEncodeOpenChromFaire000003992 wgEncodeOpenChromFaireHtr8RawDataRep1
wgEncodeOpenChromFaire000003993 wgEncodeOpenChromFaireHtr8RawDataRep2
wgEncodeOpenChromFaire000003994 wgEncodeOpenChromFaireHtr8AlnRep1
wgEncodeOpenChromFaire000003995 wgEncodeOpenChromFaireHtr8AlnRep2
wgEncodeOpenChromFaire000003996 wgEncodeOpenChromFaireHtr8BaseOverlapSignal
wgEncodeOpenChromFaire000003997 wgEncodeOpenChromFaireHtr8Pk
wgEncodeOpenChromFaire000003998 wgEncodeOpenChromFaireHtr8Sig

rename table wgEncodeOpenChromFaire000004012 to wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal;
rename table wgEncodeOpenChromFaire000004013 to wgEncodeOpenChromFaireMcf7HypoxlacPk;
rename table wgEncodeOpenChromFaire000004014 to wgEncodeOpenChromFaireMcf7HypoxlacSig;
rename table wgEncodeOpenChromFaire000003996 to wgEncodeOpenChromFaireHtr8BaseOverlapSignal;
rename table wgEncodeOpenChromFaire000003997 to wgEncodeOpenChromFaireHtr8Pk;
rename table wgEncodeOpenChromFaire000003998 to wgEncodeOpenChromFaireHtr8Sig;
update wgEncodeOpenChromFaireHtr8BaseOverlapSignal set fileName = "/gbdb/hg19/bbi/wgEncodeOpenChromFaireHtr8BaseOverlapSignal.bigWig" ;
update wgEncodeOpenChromFaireHtr8Sig set fileName = "/gbdb/hg19/bbi/wgEncodeOpenChromFaireHtr8Sig.bigWig" ;
update wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal set fileName = "/gbdb/hg19/bbi/wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal.bigWig";
update wgEncodeOpenChromFaireMcf7HypoxlacSig set fileName = "/gbdb/hg19/bbi/wgEncodeOpenChromFaireMcf7HypoxlacSig.bigWig";

mv wgEncodeOpenChromFaire000004008.fastq.gz      wgEncodeOpenChromFaireMcf7HypoxlacRawDataRep1.fastq.gz
mv wgEncodeOpenChromFaire000004009.fastq.gz      wgEncodeOpenChromFaireMcf7HypoxlacRawDataRep2.fastq.gz
mv wgEncodeOpenChromFaire000004010.bam           wgEncodeOpenChromFaireMcf7HypoxlacAlnRep1.bam
mv wgEncodeOpenChromFaire000004011.bam           wgEncodeOpenChromFaireMcf7HypoxlacAlnRep2.bam
mv wgEncodeOpenChromFaire000004010.bam.bai       wgEncodeOpenChromFaireMcf7HypoxlacAlnRep1.bam.bai
mv wgEncodeOpenChromFaire000004011.bam.bai       wgEncodeOpenChromFaireMcf7HypoxlacAlnRep2.bam.bai
mv wgEncodeOpenChromFaire000004012.bigWig        wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal.bigWig
mv wgEncodeOpenChromFaire000004013.narrowPeak.gz wgEncodeOpenChromFaireMcf7HypoxlacPk.narrowPeak.gz
mv wgEncodeOpenChromFaire000004014.bigWig        wgEncodeOpenChromFaireMcf7HypoxlacSig.bigWig
mv wgEncodeOpenChromFaire000003992.fastq.gz      wgEncodeOpenChromFaireHtr8RawDataRep1.fastq.gz
mv wgEncodeOpenChromFaire000003993.fastq.gz      wgEncodeOpenChromFaireHtr8RawDataRep2.fastq.gz
mv wgEncodeOpenChromFaire000003994.bam           wgEncodeOpenChromFaireHtr8AlnRep1.bam
mv wgEncodeOpenChromFaire000003995.bam           wgEncodeOpenChromFaireHtr8AlnRep2.bam
mv wgEncodeOpenChromFaire000003994.bam.bai       wgEncodeOpenChromFaireHtr8AlnRep1.bam.bai
mv wgEncodeOpenChromFaire000003995.bam.bai       wgEncodeOpenChromFaireHtr8AlnRep2.bam.bai
mv wgEncodeOpenChromFaire000003996.bigWig        wgEncodeOpenChromFaireHtr8BaseOverlapSignal.bigWig
mv wgEncodeOpenChromFaire000003997.narrowPeak.gz wgEncodeOpenChromFaireHtr8Pk.narrowPeak.gz
mv wgEncodeOpenChromFaire000003998.bigWig        wgEncodeOpenChromFaireHtr8Sig.bigWig

mv /gbdb/hg19/bbi/wgEncodeOpenChromFaire000003996.bigWig /gbdb/hg19/bbi/wgEncodeOpenChromFaireHtr8BaseOverlapSignal.bigWig
mv /gbdb/hg19/bbi/wgEncodeOpenChromFaire000003998.bigWig /gbdb/hg19/bbi/wgEncodeOpenChromFaireHtr8Sig.bigWig
mv /gbdb/hg19/bbi/wgEncodeOpenChromFaire000004012.bigWig /gbdb/hg19/bbi/wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal.bigWig
mv /gbdb/hg19/bbi/wgEncodeOpenChromFaire000004014.bigWig /gbdb/hg19/bbi/wgEncodeOpenChromFaireMcf7HypoxlacSig.bigWig

mv /gbdb/hg19/bbi/wgEncodeOpenChromFaire000003996.bigWig /gbdb/hg19/bbi/wgEncodeOpenChromFaireHtr8BaseOverlapSignal.bigWig
mv /gbdb/hg19/bbi/wgEncodeOpenChromFaire000003998.bigWig /gbdb/hg19/bbi/wgEncodeOpenChromFaireHtr8Sig.bigWig
mv /gbdb/hg19/bbi/wgEncodeOpenChromFaire000004012.bigWig /gbdb/hg19/bbi/wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal.bigWig
mv /gbdb/hg19/bbi/wgEncodeOpenChromFaire000004014.bigWig /gbdb/hg19/bbi/wgEncodeOpenChromFaireMcf7HypoxlacSig.bigWig
# Oops
rm /gbdb/hg19/bbi/wgEncodeOpenChromFaireHtr8BaseOverlapSignal.bigWig
rm /gbdb/hg19/bbi/wgEncodeOpenChromFaireHtr8Sig.bigWig
rm /gbdb/hg19/bbi/wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal.bigWig
rm /gbdb/hg19/bbi/wgEncodeOpenChromFaireMcf7HypoxlacSig.bigWig
cd /gbdb/hg19/bbi
ln -sf /usr/local/apache/htdocs-hgdownload/goldenPath/hg19/encodeDCC/wgEncodeOpenChromFaire/wgEncodeOpenChromFaireHtr8BaseOverlapSignal.bigWig wgEncodeOpenChromFaireHtr8BaseOverlapSignal.bigWig
ln -sf /usr/local/apache/htdocs-hgdownload/goldenPath/hg19/encodeDCC/wgEncodeOpenChromFaire/wgEncodeOpenChromFaireHtr8Sig.bigWig wgEncodeOpenChromFaireHtr8Sig.bigWig
ln -sf /usr/local/apache/htdocs-hgdownload/goldenPath/hg19/encodeDCC/wgEncodeOpenChromFaire/wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal.bigWig wgEncodeOpenChromFaireMcf7HypoxlacBaseOverlapSignal.bigWig
ln -sf /usr/local/apache/htdocs-hgdownload/goldenPath/hg19/encodeDCC/wgEncodeOpenChromFaire/wgEncodeOpenChromFaireMcf7HypoxlacSig.bigWig wgEncodeOpenChromFaireMcf7HypoxlacSig.bigWig

cd ../wgEncodeOpenChromFaire/
encodeDownloadsPage.pl -db=hg19 index.html
# 222 files.  No missing metadata # 222 found in hgFileUi

/cluster/data/encode/pipeline/bin/encodeStatus.pl 3378 displayed
/cluster/data/encode/pipeline/bin/encodeStatus.pl 3379 displayed


# synth is okay so work on that
cd {tdb}/hg19
cat /hive/groups/encode/dcc/pipeline/encpipeline_prod/3273/out/trackDb.ra >> wgEncodeOpenChromSynth.ra
e wgEncodeOpenChromSynth.ra
make DBS=hg19
# Looks fine
# Actually, remove color settings and add itemRgb on, play with filters

select max(pvalue), max(dnaseSignal), max(dnasePvalue), max(faireSignal), max(fairePvalue), max(polIISignal), max(polIIPvalue), max(ctcfSignal), max(ctcfPvalue), max(cmycSignal), max(cmycPvalue) from wgEncodeOpenChromSynthK562Pk;
select min(pvalue), min(dnaseSignal), min(dnasePvalue), min(faireSignal), min(fairePvalue), min(polIISignal), min(polIIPvalue), min(ctcfSignal), min(ctcfPvalue), min(cmycSignal), min(cmycPvalue) from wgEncodeOpenChromSynthK562Pk;
select min(score), max(score) from wgEncodeOpenChromSynthK562Pk;
### None of my filters are working.  Will need to investigate later.  Also hgc shows nothing useful, but I already knew that.

# now metadata
cd {pip}/3273
mdbUpdate hg19 out/mdb.txt

# Check in changes:
cd .. {hg19/metaDb/alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromSynth" > wgEncodeOpenChromSynth.ra
gold wgEncodeOpenChromChip.ra

git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd ../wgEncodeOpenChromSynth/
encodeDownloadsPage.pl -db=hg19 index.html
# 7 files.  Little metadata  # 7 found in hgFileUi
## Looks like mdb alpha was updated under my nose.
encodeDownloadsPage.pl -db=hg19 index.html
# 7 files.  No missing metadata  # 7 found in hgFileUi

/cluster/data/encode/pipeline/bin/encodeStatus.pl 3273 displayed

### controlId problems:
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" -count                     275 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip controlId=" -count           90 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip controlId!=" -count         185 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip controlId=modelled" -count   15 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip controlId!=modelled" -count  75 objects

mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" -count                     326 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase controlId=" -count           42 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase controlId!=" -count         284 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase controlId=modelled" -count   27 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase controlId!=modelled" -count  15 objects

mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" -count                     173 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire controlId=" -count           27 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire controlId!=" -count         146 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire controlId=modelled" -count   11 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire controlId!=modelled" -count  16 objects

2011-01-21 Update controlId in OpenChrom datasets
=================================================
# Questions from me, ansers from Terry:
>> - all of the ChIP data should have submitted Input data except NHEK and H1-hESC
>   I don't see input for any GM line except for GM12878.
>   QUESTION: Do these also use the "modelled" input?
Yes.  These are fairly "normal" cell lines.  And just one minor clarification, we have different modeled input for males and females.  In our submission files (DDF), you should see things like "iff_GM12878" or "iff_generic_male" or "iff_generic_female".  These indicate the input file used for processing.

>> - when available, DNase and FAIRE use models based on the input data generated.
> See controlId explanation below.
> QUESTION: So I should set the "controlId" to point to the available cell line's input in all Dnase and FAIRE cases?
Yes.

>> When not available, we have a composite input track from ~7 cell types (I think) that we use. 
> QUESTION: So I should set the "controlId" to point to "modelled" in all cases that do not have a cell specific input?
To stay consistent with our nomenclature, can you call these "generic_male" or "generic_female"?  Cell lines where the sex could not be determined used the generic_male model.

mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip view=Peaks cell= controlId!=" | grep cell | sort | uniq
cell Fibrobl
cell GM12878
cell GM12891
cell GM12892
cell GM19238
cell GM19239
cell GM19240
cell Gliobla
cell H1-hESC
cell HUVEC
cell HeLa-S3
cell HepG2
cell K562
cell MCF-7
cell NHEK
cell ProgFib
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip controlId!=" -count
185 objects
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=Fibrobl"         -setVars="controlId=Fibrobl/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=GM12878"         -setVars="controlId=GM12878/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=K562"            -setVars="controlId=K562/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=HeLa-S3"         -setVars="controlId=HeLa-S3/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=HepG2"           -setVars="controlId=HepG2/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=HUVEC"           -setVars="controlId=HUVEC/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=Gliobla"         -setVars="controlId=Gliobla/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=MCF-7"           -setVars="controlId=MCF-7/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=Monocytes-CD14+" -setVars="controlId=Monocytes-CD14+/Input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=ProgFib"         -setVars="controlId=ProgFib/Input"         
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip controlId!=" -count
42 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip controlId!=" | grep cell | sort | uniq
objects:42  vars:771
cell GM12891 male  iff_generic_male
cell GM12892 f     iff_generic_female
cell GM19238 f     iff_generic_female
cell GM19239 m     iff_generic_male
cell GM19240 f     iff_generic_female
cell H1-hESC m     iff_generic_male 
cell NHEK    f     iff_generic_female

mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=GM12891" -setVars="controlId=generic_male"   
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=GM12892" -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=GM19238" -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=GM19239" -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=GM19240" -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=H1-hESC" -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChrom% composite!=wgEncodeOpenChromSynth cell=NHEK"    -setVars="controlId=generic_female"
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip controlId!=" -count
0 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" | grep controlId | sort | uniq
controlId Fibrobl/Input
controlId GM12878/Input
controlId Gliobla/Input
controlId HUVEC/Input
controlId HeLa-S3/Input
controlId HepG2/Input
controlId K562/Input
controlId MCF-7/Input
controlId Monocytes-CD14+/Input
controlId ProgFib/Input
controlId generic_female
controlId generic_male

# Chip all done.  Pick up the pieces for FAIRE and DNase
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase controlId!=" -count
190 # was 284

mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase controlId!=" | grep cell | sort | uniq
cell 8988T
cell A549
cell AoSMC
cell CLL
cell Chorion
cell FibroP
cell GM18507
cell H9ES
cell HMEC
cell HPDE6-E6E7
cell HSMM
cell HSMMtube
cell HTR8svn
cell Hepatocytes
cell Huh-7
cell Huh-7.5
cell LNCaP
cell Medullo
cell Melano
cell Myometr
cell Osteobl
cell PanIsletD
cell PanIslets
cell Stellate
cell T-47D
cell Urothelia
cell iPS
cell pHTE


mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire controlId!=" -count
50  # was 146

mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire controlId!=" | grep cell | sort | uniq
cell Astrocy
cell GM18507
cell HTR8svn
cell Medullo
cell NHBE
cell PanIslets
cell Urothelia

mdbPrint hg19 -byVar -var=labVersion -val=%generic_male | grep -v Chip      
metaVariable labVersion fseq v 1.84, iff_generic_male
metaObject wgEncodeOpenChromDnaseA549Sig
metaObject wgEncodeOpenChromDnaseAosmcSerumfreeSig
metaObject wgEncodeOpenChromDnaseGm12891Sig
metaObject wgEncodeOpenChromDnaseGm18507Sig
metaObject wgEncodeOpenChromDnaseGm19239Sig
metaObject wgEncodeOpenChromDnaseH1hescSig
metaObject wgEncodeOpenChromDnaseHuh75Sig
metaObject wgEncodeOpenChromDnaseHuh7Sig
metaObject wgEncodeOpenChromDnaseIpsSig
metaObject wgEncodeOpenChromDnaseLncapAndroSig
metaObject wgEncodeOpenChromDnaseLncapSig
metaObject wgEncodeOpenChromDnaseMyometrSig
metaObject wgEncodeOpenChromDnasePanisdSig
metaObject wgEncodeOpenChromDnasePanisletsSig
metaObject wgEncodeOpenChromDnasePhteSig
metaObject wgEncodeOpenChromFaireAstrocySig
metaObject wgEncodeOpenChromFaireGm12891Sig
metaObject wgEncodeOpenChromFaireGm18507Sig
metaObject wgEncodeOpenChromFaireGm19239Sig
metaObject wgEncodeOpenChromFaireH1hescSig
metaObject wgEncodeOpenChromFaireNhbeSig
metaObject wgEncodeOpenChromFairePanisletsSig

mdbPrint hg19 -byVar -var=labVersion -val=%generic_female | grep -v Chip 
metaVariable labVersion fseq v 1.84, iff_generic_female
metaObject wgEncodeOpenChromDnase8988tSig
metaObject wgEncodeOpenChromDnaseChorionSig
metaObject wgEncodeOpenChromDnaseCllSig
metaObject wgEncodeOpenChromDnaseFibropSig
metaObject wgEncodeOpenChromDnaseGm12892Sig
metaObject wgEncodeOpenChromDnaseGm19238Sig
metaObject wgEncodeOpenChromDnaseGm19240Sig
metaObject wgEncodeOpenChromDnaseH9esSig
metaObject wgEncodeOpenChromDnaseHepatocytesSig
metaObject wgEncodeOpenChromDnaseHmecSig
metaObject wgEncodeOpenChromDnaseHpde6e6e7Sig
metaObject wgEncodeOpenChromDnaseHsmmSig
metaObject wgEncodeOpenChromDnaseHsmmtSig
metaObject wgEncodeOpenChromDnaseHtr8Sig
metaObject wgEncodeOpenChromDnaseMedulloSig
metaObject wgEncodeOpenChromDnaseMelanoSig
metaObject wgEncodeOpenChromDnaseNhekSig
metaObject wgEncodeOpenChromDnaseOsteoblSig
metaObject wgEncodeOpenChromDnaseStellateSig
metaObject wgEncodeOpenChromDnaseT47dSig
metaObject wgEncodeOpenChromDnaseUrotsaSig
metaObject wgEncodeOpenChromDnaseUrotsaUt189Sig
metaObject wgEncodeOpenChromFaireGm12892Sig
metaObject wgEncodeOpenChromFaireHtr8Sig
metaObject wgEncodeOpenChromFaireMedulloSig
metaObject wgEncodeOpenChromFaireNhekSig
metaObject wgEncodeOpenChromFaireUrotsaSig
metaObject wgEncodeOpenChromFaireUrotsaUt189Sig

### Some discrepancies between cell gender in cv and labVersion reported by Terry
8988T            generic_female   Dnase
A549             generic_male     Dnase 
AoSMC         U* generic_male     Dnase
Astrocy       U* generic_male     Faire
Chorion       U  generic_female   Dnase
CLL           U  generic_female   Dnase
FibroP           generic_female   Dnase
GM12891          generic_male     Dnase Faire
GM12892          generic_female   Dnase Faire
GM18507          generic_male     Dnase Faire
GM19238          generic_female   Dnase
GM19239          generic_male     Dnase Faire
GM19240          generic_female   Dnase
H1-hESC          generic_male     Dnase Faire
H9ES             generic_female   Dnase
Hepatocytes   U  generic_female   Dnase
HMEC          U  generic_female   Dnase
HPDE6-E6E7       generic_female   Dnase
HSMM          U  generic_female   Dnase
HSMMtube      U  generic_female   Dnase
HTR8svn       U  generic_female   Dnase Faire
Huh-7.5          generic_male     Dnase
Huh-7            generic_male     Dnase
iPS           U* generic_male     Dnase
LNCaP            generic_male     Dnase
Medullo       U  generic_female   Dnase Faire
Melano        U  generic_female   Dnase
Myometr       F  generic_male     Dnase
NHBE          U* generic_male     Faire
NHEK             generic_female   Dnase Faire
Osteobl       U  generic_female   Dnase
PanIsletD     U* generic_male     Dnase
PanIslets        generic_male     Dnase Faire
pHTE          U* generic_male     Dnase
Stellate         generic_female   Dnase
T-47D            generic_female   Dnase
Urothelia        generic_female   Dnase Faire

## Will update according to labVersion until Terry reports back.
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=8988T"       -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=A549"        -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=AoSMC"       -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=CLL"         -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Chorion"     -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=FibroP"      -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=GM18507"     -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=H9ES"        -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HMEC"        -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HPDE6-E6E7 " -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HSMM"        -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HSMMtube"    -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HTR8svn"     -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Hepatocytes" -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Huh-7"       -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Huh-7.5"     -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=LNCaP"       -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Medullo"     -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Melano"      -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Myometr"     -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Osteobl"     -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=PanIsletD"   -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=PanIslets"   -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Stellate"    -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=T-47D"       -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Urothelia"   -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=iPS"         -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=pHTE"        -setVars="controlId=generic_male"

mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=Astrocy"   -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=GM18507"   -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=HTR8svn"   -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=Medullo"   -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE"      -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=PanIslets" -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=Urothelia" -setVars="controlId=generic_female"

mdbPrint hg19 -vars="composite=wgEncodeOpenChromFDnase controlId!=" -count
0 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire controlId!=" -count
0 objects

# Check in changes:
cd .. {hg19/metaDb/alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra
#missing setType
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip setType=" -count
90 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip setType!=" -count
185 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip setType!= antibody=Input" -count
2 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip setType!= antibody!=Input" -count
183 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip setType!= antibody!=Input" | grep antibody | sort | uniq
antibody CTCF
antibody Pol2
antibody c-Myc
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip setType!= antibody=Input" -setVars="setType=input"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip setType!= antibody!=Input" -setVars="setType=exp"

# Complete list of Open Chrom controlIds:
mdbPrint hg19 -vars="composite=wgEncodeOpenChrom%" | grep controlId | sort | uniq
controlId Fibrobl/Input
controlId GM12878/Input
controlId Gliobla/Input
controlId HUVEC/Input
controlId HeLa-S3/Input
controlId HepG2/Input
controlId K562/Input
controlId MCF-7/Input
controlId Monocytes-CD14+/Input
controlId ProgFib/Input
controlId generic_female
controlId generic_male

# Again check in changes:
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
gold wgEncodeOpenChromDnase.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
gold wgEncodeOpenChromFaire.ra

git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

cd {downloadsHg19}/wgEncodeOpenChromChip/
encodeDownloadsPage.pl -db=hg19 index.html
cd {downloadsHg19}/wgEncodeOpenChromDnase/
encodeDownloadsPage.pl -db=hg19 index.html
cd {downloadsHg19}/wgEncodeOpenChromFaire/
encodeDownloadsPage.pl -db=hg19 index.html

2011-01-24 Last submission for freeze
=====================================
cd {pip}/3496
e out/trackDb.ra
cd {tdb19}
encodePatchTdb /hive/groups/encode/dcc/pipeline/encpipeline_prod/3496/out/trackDb.ra wgEncodeOpenChromFaire.ra

# now metadata
cd {pip}/3496
e out/mdb.txt # no change needed
cd ..
mdbUpdate hg19 out/mdb.txt
Read 7 metadata objects from hg19
Affected 103 row(s) in hg19.metaDb_tdreszer

# Check in changes:
cd .. {hg19/metaDb/alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
gold wgEncodeOpenChromFaire.ra

git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=A459" | grep labVersion | sort | uniq
labVersion fseq v 1.84, iff_generic_male
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=A549" -setVars="controlId=generic_male"

cd {downloadsHg19}/wgEncodeOpenChromFaire/
encodeDownloadsPage.pl -db=hg19 index.html
# 352 files.  All have metadata  # 352 found in hgFileUi

/cluster/data/encode/pipeline/bin/encodeStatus.pl 3496 displayed

### Currently unresolved with Terry:
1) controlId v. labVersion discrepencies
2) Description of compo tracks
3) hgc (and hgTrackUi filtering) of combo tracks
4) Validation docs by cell

The following we seem to be in agreement on and were all submitted using the generic_male as they should have been:

AoSMC - Undetermined
Astrocy - Undetermined
iPS - Male (combined two males and one female)
PanIsletD - Male (combined two males and one female)
pHTE - Undetermined (combined one male and one undetermined)

The last one of this group, NHBE, was submitted as a "male" which I believe meant it was undetermined at the time of submission.  
But, I now see that Greg has this listed as "female" in our internal documents.  Greg - can you confirm?

NHBE - Female (submitted as male for FAIRE - screw up)

The following cell lines have different/incorrect sex assignments from what we have. I'm not sure if these were incompletely described 
when blessed as a tier 3 line or what happened, but according to our documents, they should all be female:

CLL - Female
Chorion - Female
HMEC - Female
HTR8svn - Female
Hepatocytes - Female
Osteobl - Female

The Melano cell line is of undetermined sex and was processed with the generic_male.  We have this incorrectly listed as generic_female in the DDF.

Melano - undetermined

The next two originally consisted of only female replicates, but then later a male replicate was added making this a "male".  
So, they were processed with the generic_male, but we forgot to update the DDF for this:

HSMM - Male (combined two females and one male)
HSMMtube - Male (combined two females and one male)

So, for the above three, it is an error in the DDF, but the data were submitted as they should have been.

For the last one, Medullo, when we submitted the DNase, we were under the impression it was a female.  
Later, we were told it was a male, and FAIRE was then correctly submitted as a male.  
We had intended to go back and re-process the DNase data, but obviously we forgot.  So, FAIRE is correct, but DNase is not.

Medullo - Male (submitted as female for DNaseHS - screw up)


In summary, I believe all but two of these can be fairly easily remedied, though I do profusely apologize the confusion on these.  
It has been a bit of a nightmare getting this information.

The problem kid are FAIRE NHBE (female submitted as male) and DNase Medullo (male submitted as female).  
We should re-submit data for both of these transvestites, as it were, so I am guessing the easiest thing to do is to pull 
them back from further processing on your end, and we'll update these when the submission pipeline re-opens.

How does this all work for you?  Greg - please chime in if I have any of the above wrong.  I am going off of information in the official cell lines doc.

Terry
Agree:
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=AoSMC"       -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=Astrocy"     -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=iPS"         -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=PanIsletD"   -setVars="controlId=generic_male"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=pHTE"        -setVars="controlId=generic_male"
Affected 0 row(s) in hg19.metaDb_tdreszer
# as expected!

Should be Female not U  Change cv.ra
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=CLL"         -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Chorion"     -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HMEC"        -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HTR8svn"     -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=HTR8svn"     -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Hepatocytes" -setVars="controlId=generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Osteobl"     -setVars="controlId=generic_female"
Affected 0 row(s) in hg19.metaDb_tdreszer
# as expected!

# Change labVersion and controlId from female to male Still U in cv
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase cell=Melano labVersion=%generic_female" | grep labVersion | sort | uniq
objects:1  vars:18
labVersion fseq v 1.84, iff_generic_female
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Melano labVersion=%generic_female" -var=labVersion -val="fseq v 1.84, iff_generic_male"
Affected 1 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Melano"      -setVars="controlId=generic_male"
Affected 7 row(s) in hg19.metaDb_tdreszer

# should be male though replicates were mixed!  Change labVerion, controlId and cv.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase cell=HSMM% labVersion=%generic_female" | grep labVersion
labVersion fseq v 1.84, iff_generic_female
labVersion fseq v 1.84, iff_generic_female
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HSMM% labVersion=%generic_female" -var=labVersion -val="fseq v 1.84, iff_generic_male"
Affected 2 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HSMM"        -setVars="controlId=generic_male"
Affected 6 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=HSMMtube"    -setVars="controlId=generic_male"
Affected 6 row(s) in hg19.metaDb_tdreszer

Should be F in cv and needs resubmission?? 
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE labVersion=%generic_male" | grep labVersion
labVersion fseq v 1.84, iff_generic_male
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE labVersion=%generic_male" -var=labVersion -val="fseq v 1.84, iff_generic_female"
Affected 1 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE"        -setVars="controlId=generic_female"
Affected 7 row(s) in hg19.metaDb_tdreszer
# Oops:
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE labVersion=%generic_female" -var=labVersion -val="fseq v 1.84, iff_generic_male, should have been female"
Affected 1 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE"        -setVars="controlId=generic_male"
Affected 7 row(s) in hg19.metaDb_tdreszer


# FAIRE correct need to change labVersion and controlId to male  NOTE:   DNase was incorrectly submitted  Need resubmission??
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=Medullo labVersion=%generic_female" | grep labVersion
labVersion fseq v 1.84, iff_generic_female
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=Medullo labVersion=%generic_female" -var=labVersion -val="fseq v 1.84, iff_generic_male"
Affected 1 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=Medullo"   -setVars="controlId=generic_male"
Affected 7 row(s) in hg19.metaDb_tdreszer

mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase cell=Medullo labVersion=%generic_female" | grep labVersion
labVersion fseq v 1.84, iff_generic_female
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Medullo labVersion=%generic_female" -var=labVersion -val="fseq v 1.84, iff_generic_female, should have been male"
Affected 1 row(s) in hg19.metaDb_tdreszer


And one cell line we have marked as female your labVersion reports using generic_male
Myometr

# Check in changes:
cd .. {hg19/metaDb/alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra
# identical
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
gold wgEncodeOpenChromDnase.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
gold wgEncodeOpenChromFaire.ra

git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19


## Will update according to labVersion until Terry reports back.
## mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Myometr"     -setVars="controlId=generic_male"


### Currently unresolved with Terry:
1) controlId v. labVersion discrepencies
   - Revoke DNase/Medulo ?
   - Revoke FAIRE/NHBE ?
   - What up Myometr
   - Verify that cv.ra is updated
2) Description of compo tracks
3) hgc (and hgTrackUi filtering) of combo tracks
4) Validation docs by cell


2011-01-26 More gender ambiguities
==================================
- Myometr 
Terry: This is female and we processed as female, but incorrectly reported generic_male.  
# should be female:  Change labVerion, controlId and cv.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase cell=Myometr labVersion=%generic_male" | grep labVersion
labVersion fseq v 1.84, iff_generic_male
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Myometr labVersion=%generic_male" -var=labVersion -val="fseq v 1.84, iff_generic_female"
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase cell=Myometr" -setVars="controlId=generic_female"
Affected 5 row(s) in hg19.metaDb_tdreszer
## Myometr done.

### HSMM, HSMMtube, Hepatocytes, iPS, PanIsletD are not M or F but mixed!  Resolution: cv change to 'B' for both.
### AoSMC is male (according to Greg).  No changes in mdb.  Need to change cv.ra
### NHBE - drop chrY  Resolution: female in cv, labVersion should say male.  Sigs and Peak should say male.  fastqs/bams female, No changes to data.
### Medullo - DNase missing chrY  Resolution: male in cv, labVersion should say female.  Sigs and Peak should say female.  fastqs/bams male, No changes to data.
### Hepatocytes - DNase missing chrY  Resolution: male in cv, labVersion should say female.  Sigs and Peak should say female.  fastqs/bams male, No chaanges to data.
### Release note??

# In cv:
AoSMC - M

CLL - F
Chorion - F
HMEC - F
HTR8svn - F
Osteobl - F
NHBE - F

Melano - U
Astrocy - U

Ambiguous:
Hepatocytes - Mixed
iPS - Male (combined two males and one female)
PanIsletD - Male (combined two males and one female)
pHTE - Male (combined one male and one undetermined)

### To be changed in cv:
AoSMC - M
Hepatocytes - M/B Mixed
iPS         - M/B Mixed (combined two males and one female)
PanIsletD   - M/B Mixed (combined two males and one female)
pHTE        - M/B Mixed (combined one male and one undetermined)

2011-01-27 Fix dataTypes
========================
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" | grep dataType | sort | uniq
dataType ChIP-seq
dataType ChipSeq
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" | grep dataType | sort | uniq
dataType DNase-seq
dataType DnaseSeq
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" | grep dataType | sort | uniq
dataType FAIRE-seq
dataType FaireSeq

mdbUpdate hg19 -vars="composite=wgEncodeOpenChromChip dataType!=ChipSeq" -setVars="dataType=ChipSeq"
Affected 7 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase dataType!=DnaseSeq" -setVars="dataType=DnaseSeq"
Affected 40 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire dataType!=FaireSeq" -setVars="dataType=FaireSeq"
Affected 14 row(s) in hg19.metaDb_tdreszer

mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" | grep dataType | sort | uniq
objects:275  vars:5366
dataType ChipSeq
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" | grep dataType | sort | uniq
objects:326  vars:5855
dataType DnaseSeq
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" | grep dataType | sort | uniq
objects:180  vars:3120
dataType FaireSeq

## Update bams lab version for two cross-gender experiments:
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase labVersion=%should%" | grep cell | sort | uniq
Using table named 'hg19.metaDb_tdreszer'.
cell Hepatocytes
cell Medullo
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase labVersion=%should% view=RawData" | grep labVersion
objects:4  vars:66
labVersion input was generic_female (should have been male)
labVersion input was generic_female (should have been male)
labVersion input was generic_female (should have been male)
labVersion input was generic_female (should have been male)
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromDnase labVersion=%should% view=RawData" -var=labVersion -val="aligned to female and input was generic_female (should have been male)" -test
Affected 4 row(s) in hg19.metaDb_tdreszer

## Revoke FAIRE/NHBE
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire labVersion=%should%" | grep cell | sort | uniq
cell NHBE
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire labVersion=%should%" | grep subId | sort | uniq
subId 1574, Alignments, Base_Overlap_Signal, Peaks, Signal
subId 3153, RawData
Can revoke 1574 and leave fastqs!  Do this by hand, since 1574 may have had fastqs which were resubmitted.
hgsql hg19
show tables like "wgEncodeOpenChromFaireNhbe%";
| wgEncodeOpenChromFaireNhbeBaseOverlapSignal  | 
| wgEncodeOpenChromFaireNhbePk                 | 
| wgEncodeOpenChromFaireNhbeSig                | 
drop table wgEncodeOpenChromFaireNhbeBaseOverlapSignal;
drop table wgEncodeOpenChromFaireNhbePk;
drop table wgEncodeOpenChromFaireNhbeSig;
exit
cd {downloads19}/wgEncodeOpenChromFaire
ll wgEncodeOpenChromFaireNhbe*
-rw-rw-r-- 1 braney     protein 2019197467 Jul 24  2010 wgEncodeOpenChromFaireNhbeAlnRep1.bam
-rw-rw-r-- 1 braney     protein    6768496 Jul 24  2010 wgEncodeOpenChromFaireNhbeAlnRep1.bam.bai
-rw-rw-r-- 1 braney     protein        102 Aug  2 16:56 wgEncodeOpenChromFaireNhbeAlnRep1.bam.bai.md5sum
-rw-rw-r-- 1 braney     protein         98 Aug  2 17:14 wgEncodeOpenChromFaireNhbeAlnRep1.bam.md5sum
-rw-rw-r-- 1 braney     protein 2115333089 Jul 24  2010 wgEncodeOpenChromFaireNhbeAlnRep2.bam
-rw-rw-r-- 1 braney     protein    6803696 Jul 24  2010 wgEncodeOpenChromFaireNhbeAlnRep2.bam.bai
-rw-rw-r-- 1 braney     protein        102 Aug  2 16:56 wgEncodeOpenChromFaireNhbeAlnRep2.bam.bai.md5sum
-rw-rw-r-- 1 braney     protein         98 Aug  2 17:15 wgEncodeOpenChromFaireNhbeAlnRep2.bam.md5sum
-rw-rw-r-- 1 braney     protein  726811915 Jul 24  2010 wgEncodeOpenChromFaireNhbeBaseOverlapSignal.bigWig
-rw-rw-r-- 1 braney     protein        111 Aug  2 17:02 wgEncodeOpenChromFaireNhbeBaseOverlapSignal.bigWig.md5sum
-rw-rw-r-- 3 qateam     protein    4191370 Jun 17  2010 wgEncodeOpenChromFaireNhbePk.narrowPeak.gz
-rw-rw-r-- 1 braney     protein        103 Aug  2 16:56 wgEncodeOpenChromFaireNhbePk.narrowPeak.gz.md5sum
-rw-rw-r-- 1 encodeteam protein 1799213535 Jan  7 19:09 wgEncodeOpenChromFaireNhbeRawDataRep1.fastq.gz
-rw-rw-r-- 1 encodeteam protein 1874957836 Jan  7 17:53 wgEncodeOpenChromFaireNhbeRawDataRep2.fastq.gz
-rw-rw-r-- 1 braney     protein 1493269395 Jul 24  2010 wgEncodeOpenChromFaireNhbeSig.bigWig
-rw-rw-r-- 1 braney     protein         97 Aug  2 17:10 wgEncodeOpenChromFaireNhbeSig.bigWig.md5sum
mv wgEncodeOpenChromFaireNhbeAln* ../obsolete/wgEncodeOpenChromFaire
mv wgEncodeOpenChromFaireNhbeBase* ../obsolete/wgEncodeOpenChromFaire
mv wgEncodeOpenChromFaireNhbePk* ../obsolete/wgEncodeOpenChromFaire
mv wgEncodeOpenChromFaireNhbeSig* ../obsolete/wgEncodeOpenChromFaire
ll wgEncodeOpenChromFaireNhbe*
-rw-rw-r-- 1 encodeteam protein 1799213535 Jan  7 19:09 wgEncodeOpenChromFaireNhbeRawDataRep1.fastq.gz
-rw-rw-r-- 1 encodeteam protein 1874957836 Jan  7 17:53 wgEncodeOpenChromFaireNhbeRawDataRep2.fastq.gz
cd /gbdb/hg19/bbi
ll wgEncodeOpenChromFaireNhbe*
lrwxrwxrwx 1 braney protein 121 Aug  4 20:32 wgEncodeOpenChromFaireNhbeBaseOverlapSignal.bigWig -> /hive/groups/encode/dcc/pipeline/downloads/hg19/wgEncodeOpenChromFaire/wgEncodeOpenChromFaireNhbeBaseOverlapSignal.bigWig
lrwxrwxrwx 1 braney protein 107 Aug  4 20:32 wgEncodeOpenChromFaireNhbeSig.bigWig -> /hive/groups/encode/dcc/pipeline/downloads/hg19/wgEncodeOpenChromFaire/wgEncodeOpenChromFaireNhbeSig.bigWig
# both broken as expected
rm wgEncodeOpenChromFaireNhbeBaseOverlapSignal.bigWig
rm wgEncodeOpenChromFaireNhbeSig.bigWig
ll wgEncodeOpenChromFaireNhbe*
ls: wgEncodeOpenChromFaireNhbe*: No such file or directory

mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE" -count
7 objects
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE view=Alignments" -count
2 objects
38 variables
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE view=Base_Overlap_Signal" -count
1 object
18 variables
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE view=Peaks" -count
1 object
18 variables
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE view=Signal" -count
1 object
18 variables

mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE view=Alignments" -delete
Affected 38 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE view=Base_Overlap_Signal" -delete
Affected 18 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE view=Peaks" -delete
Affected 18 row(s) in hg19.metaDb_tdreszer
mdbUpdate hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE view=Signal" -delete
Affected 18 row(s) in hg19.metaDb_tdreszer

mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire cell=NHBE" | grep view
2 objects
view RawData
view RawData

cd  {tdb}/hg19
e wgEncodeOpenChromFaire.ra # remove NHBE stanzas
gold wgEncodeOpenChromFaire.ra

# Check in changes:
gold wgEncodeOpenChromFaire.ra
gadd wgEncodeOpenChromFaire.ra
cd .. {hg19/metaDb/alpha}
mdbPrint hg19 -vars="composite=wgEncodeOpenChromChip" > wgEncodeOpenChromChip.ra
gold wgEncodeOpenChromChip.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromDnase" > wgEncodeOpenChromDnase.ra
gold wgEncodeOpenChromDnase.ra
mdbPrint hg19 -vars="composite=wgEncodeOpenChromFaire" > wgEncodeOpenChromFaire.ra
gold wgEncodeOpenChromFaire.ra

git: up, add, ci, up, push
cd ../../../../ (trackDb)
make DBS=hg19; make alpha DBS=hg19

hgsql encpipeline_prod
select id,name,status from projects where id = 1574;
| 1574 | DNCT UNC FAIRE-Seq NHBE 20100616 | displayed | 
update projects set status = "revoked" where id = 1574;
Rows matched: 1  Changed: 1  Warnings: 0
exit

cd {downloads19}/wgEncodeOpenChromChip
encodeDownloadsPage.pl -db=hg19 index.html
# 352 files.  All have metadata  # 352 found in hgFileUi
cd {downloads19}/wgEncodeOpenChromDnase
encodeDownloadsPage.pl -db=hg19 index.html
# 435 files.  All have metadata  # 435 found in hgFileUi
cd {downloads19}/wgEncodeOpenChromFaire
encodeDownloadsPage.pl -db=hg19 index.html
# 224 files.  All have metadata  # 224 found in hgFileUi


### Next step: prepare Chip,Dnase and Faire for release 
cd {downloads19}/wgEncodeOpenChromChip
encodeDownloadsPage.pl -db=hg19 -checksum index.html & 
cd {downloads19}/wgEncodeOpenChromDnase
encodeDownloadsPage.pl -db=hg19 -checksum index.html & 
cd {downloads19}/wgEncodeOpenChromFaire
encodeDownloadsPage.pl -db=hg19 -checksum index.html & 

