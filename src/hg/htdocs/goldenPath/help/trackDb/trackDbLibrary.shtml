<!-- trackDb documentation Library
  In order to reference trackDb type and setting descriptions in multiple documents, this library
  file is designed to hold the one definitive copy of the setting or type description.

  ALWAYS VIEW trackDbTestBlurbs.html AFTER MODIFYING THIS FILE !!!!!!!

  How to add/maintain this documentation:
  There are 2 essential parts to trackDb*.html DOCS: I) this LIBRARY and II) the HTML PAGES.

  I) This LIBRARY consists of DIVs that contain "blurbs" describing settings and types.
     Example:
        <DIV class="someSetting"><span class="types bed bigBed"></span>
        <div class="format"><code>someSetting &lt;minVal&gt;</code></div>
            <P>Both <code>bed</code> and <code>bigBed</code> type tracks
            use <code>someSetting</code> in combination with
            <A onclick="return jumpTo(this);" HREF="#">visibility</A> to accomplish something.</P>
            <P><B>Example:</B></P>
            <pre>   someSetting 100</pre>
        </DIV>
  - Each "blurb" DIV should have the class=<setting>.  There MUST be only one uniquely classed
    DIV for each setting or type.  NOTE: use class NOT id so that anchor links work.
    - Each "setting blurb" must contain a class="types..." SPAN that lists the track types that
      this blurb/setting is relevant to.
    - Each setting blurb MUST contain a class="format" DIV that gives the exact format of the
      setting, wrapped in <code> tags.
    - The setting blurb should also contain an <B>Example:</B> followed by a preferably real life
      example wrapped in <PRE> tags.  Remeber multi-line <PRE> text will include the indents
      found in this file!
    - Some settings may refer to other settings and your blurb should include a link to the other
      setting, especially if that setting's blurb will appear at some distance in the document.
      Since all settings should have an anchor by the setting name, a "jumpTo" link to
      visibility setting can be accomplished as:
          <A onclick="return jumpTo(this);" HREF="#">visibility</A>
      which is identical to
          <A HREF="#visibility">visibility</A>
    - Any setting or code that is not made into a <A> link should be wrapped with <code> tags.
  - "Type setting blurbs" are the same as other setting blurbs except that there should be a
     seperate "example blurb" DIV with class of type_example (e.g. <DIV class="bed_example">).
    This will allow a type definition to be followed by multiple type specific settings then
    be completed by the example that references those settings.
    - These example blurbs should also have a "class=format" DIV but in this case it contains a
      title to the example:  <div class="format"><B>Examples of item base types</B></div>.
    - Exmples should make use of <PRE> tags and preferrably multiple real live examples.
  - Document introductions and section introductions may also be shared by multiple documents
    and therefore may be included here as "intro blurb" DIVs as: <DIV class="bed_intro">.
    - intro DIVs do not contain a class="format" DIV.
  - Use trackDbTestBurbs.html to test blurbs you add or modify.  It runs javascript tests.
  HINT: It is the class=<setting> that ties things togther.  If there is a need for multiple
  descriptions of the same setting, then create multiple blurb DIVs with different classes as:
    <DIV class="parent"> and and <DIV class="parent_view">.

  II) Document HTML PAGES should include this trackDbLibrary.html with server side includes
  and wrapped in <DIV ID="library"> tags.
  - Documents may differ, but using trackDbDoc.html as the quintisential example, the setting
    documentation is organized into tables by trackDb "type", so that settings are documented in
    the context of their use.  The (usually) single cell rows contain the settings.
    Settings table row example:
        <TR VALIGN=TOP><TD class="someSetting"><A name="someSetting"><IMG class='toggle detail'>
            <div class="format"><code>someSetting</code></div>
        </TD></TR>
    - Any setting may be referenced multiple times.  To reference a setting blurb, place it in
      a table cell that contains class=<setting> and an "image toggle details" tag.
      When the user clicks on the [+] button toggle image, the library will be read to render
      the <DIV class="<setting>">.
    - The table cell should also contain the "format" DIV, so the user knows what they are
      requesting.  The format containd in the doc will be replaced by the one in the
      library at toggle, so the library has the final word on format.  In the example,
      <code>someSetting</code> is replaced by <code>someSetting &lt;minVal&gt;</code>.
    - The first (or best) reference to your library blurb should contain the one and only
      "named anchor" for that setting <A name="<setting>">.  This named anchor MUST be at
      the beginning of the cell, before the toggle image. NOTE: the named anchor for a type is
      often put at the start of the table that describes it.
    - Related settings can be grouped as a set of related rows by adding the "related" class
      to the TR.  The first such related row must have class="related1st" as:
          <TR class="related1st" VALIGN=TOP><TD class="directUrl"> ...
          <TR class="related" VALIGN=TOP><TD class="hgsid">
      Related rows toggle as a set and have faint dividers between them.  The final setting DIV
      of a related set should have an example for the whole set.
  - Each table of settings for a particular type or set of types should end in an example. The
    Example cell behaves similarly to the setting cells, except the row has a special class:
        <TR class="examples" VALIGN=TOP><TD class="bed_example">
            <A name="bed_Examples"><IMG class='toggle detail'>
  - Each table should be headed with an introduction as:
        <THEAD><TR><TD><DIV ID="bed_intro" class="intro"></DIV></TD></TR></THEAD>
    All DIVs of class "intro" will be read from the library (by ID) and rendered when the
    page is first loaded.
  - Each table of settings can begin with a "toggle oneSection" image as:
      <TR VALIGN=TOP><TH><IMG class='toggle oneSection'> bed/bigBed - Item or region track settings
    This toggle will toggle all cells in the table.
  - The document as a whole should contain a "toggle all" image as:
        <IMG class='toggle all' />&nbsp;<I>Open/close all details.</I>
    which will open and close all the table cells.
  - The document should include a "self-assembling table of contents".  This is table will be
    built if
    - There is an empty table of ID="toc": <TABLE class="settingsTable" id="toc"></TABLE>
    - The $(document).ready() event calls: tdbDoc.tocAssemble(<delay>,[<exclude>]);
      - delay (ms) greater than zero will delay the start of the assembly for user responsiveness
      - <exclude> can be a comma separated list of settings (class=<setting>) to exclude
    - The table will fill in a header and a row per settingsTable td that contains a "format" div.
      The table will include 3 columns: setting, types that call it (from the "types" span) and
      the ID of the table that includes the setting.  Use this ID to be descriptive:
      ID="Signal_Track_Settings".
  Additional text, table of contents, etc. may best be built into the document, not the library.
  Please make use of "named anchors" and "jumpTo" anchors.  Add uniquely named anchors and directly
  reference those anchors as needed.
-->


<!-- The trackDbLibrary.html has a <div>
     each setting organized roughly by track type  -->

<DIV class="trackDbDoc_intro">
<H1>Track Database Definition</H1>
<H2>How to declare Dataset Display Settings in the Genome Browser</H2>

    <P><I>Hub contributors should use the <A HREF="trackDbHub.html">Hub Track</A>
    specific version of this document.</I></P>

    <P>This document describes how to declare dataset display characteristics
    in the Genome Browser through trackDb settings.   Introducing new
    datasets for display in the Browser requires declaring the location
    and format of the data and defining initial display characteristics.
    In many cases, you may need to choose how the displayed data (aka
    "track") may be selected and configured.  These settings
    are declared in a simple text file format and stored in a database
    called the "track database",  or trackDb for short.</P>

    <P>The text file format
    for trackDb settings follow the simple "ra" rules which
    establish a "record" as a set of related settings in a
    "stanza" delimited by blank lines.  The first line of
    each stanza typically establishes the "key".  Each line
    in a stanza will contain a single word "setting" name and
    one or more words or numbers that follow are the setting's
    "value".   All trackDb stanzas are keyed by "track"
    and most will have certain common settings followed by track specific
    settings.  Here is an example:</P>

    <pre>
        track myFirstTrack
        type bed 6
        shortLabel Example Data
        longLabel The data in this track is format "bed 6".    </pre>

    <P>Every track should have
    these four settings.  The key of this track (<code>myFirstTrack</code>)
    is the name of the dataset.  If the data is loaded into a MySQL
    table then the track name is almost always the table name.  If the
    data is in one of the remote indexed file types (e.g. bigWig, bam,
    etc.)  then the name is typically the root file name.  However, this
    is a key to the track so it must be unique within the Genome Browser.
        (Data hubs need only declare track names unique to their hub.)
    After the "track" key, the most important setting for
    defining a track is the "type".  This tells the Browser
    which format the data is in, defines how to display it, and determines 
    which options are available for fine control of that display.
    </P>
</DIV>

<DIV class="trackDbHub_intro">
<H1>Hub Track Database Definition</H1>
<H2>How to declare Dataset Display Settings in Genome Browser Hubs</H2>
    <P>This document describes how to declare dataset display characteristics
    in a Genome Browser Hub through trackDb settings.   Introducing
    datasets for display in the Browser requires declaring the location
    and format of the data and defining initial display characteristics.
    In many cases, you may need to choose how the displayed data (aka
    "track") may be selected and configured.  These settings
    are declared in a simple text file format and loaded into the Browser's
    "track database",  or trackDb for short.</P>

    <P>The text file format
    for trackDb settings follow the simple "ra" rules which
    establish a "record" as a set of related settings in a
    "stanza" delimited by blank lines.  The first line of
    each stanza typically establishes the "key".  Each line
    in a stanza will contain a single word "setting" name and
    one or more words or numbers that follow are the setting's
    "value".   All trackDb stanzas are keyed by "track"
    and most will have certain common settings followed by track specific
    settings.  Here is an example:</P>

    <pre>
        track myFirstTrack
        type bigBed 3
        bigDataUrl myFirstTrack.bb
        shortLabel Example Data
        longLabel The data in this track is format "bigBed 3".    </pre>

    <P>Every hub track should have these five settings.  
    The key of this track (<code>myFirstTrack</code>)
    is the name of the dataset and is typically the root file name.  However, this
    is a key to the track so it must be unique within your data hub.
    After the "track" key, the most important setting for
    defining a track is the "type".  This tells the Browser
    which format the data is in, defines how to display it, and determines 
    which options are available for fine control of that display.
    </P>
</DIV>

<!-- - - - - - - - COMMON settings - - - - - - - -->
<DIV class="commonSettings_intro">
    The following settings, which must be defined for each trackDb record, are common to all
    data format types.  The first few settings are required for all tracks.  Some type-specific
    requirements will be mentioned in the appropriate sections to follow.
</DIV>

<DIV class="track"><span class="types all"></span>
    <div class="format all"><code>track</code></div>
    <P>Required: <span class="red">Yes</span></P>
    <P>This is the name of
    the dataset and must be unique within the Genome Browser or
    dataHub.  Typically this is the MySQL table name or remote data
    file root name (without path or suffix).  Must begin with a letter
    and contain only the following chars:
    [<code>a-zA-Z0-9-_</code>].</P>
    <P><B>Example:</B></P>
    <pre>   track myFirstTrack</pre>
</DIV>

<DIV class="type"><span class="types all"></span>
    <div class="format"><code>type</code></div>
    <P>Required: <span class="red">Yes</span></P>
    <P>Declares the format of the data and is used to
    determine display methods and options.</P>
    <P>Valid settings:</P>
    <P>
    <A onclick="return jumpTo(this);" HREF="#">altGraphX</A>,
    <A onclick="return jumpTo(this);" HREF="#">bam</A>,
    <A onclick="return jumpTo(this);" HREF="#">bed</A>,
    <A onclick="return jumpTo(this);" HREF="#">bed5FloatScore</A>,
    <A onclick="return jumpTo(this);" HREF="#">bedGraph</A>,
    <A onclick="return jumpTo(this);" HREF="#">bedRnaElements</A>,
    <A onclick="return jumpTo(this);" HREF="#">bigBed</A>,
    <A onclick="return jumpTo(this);" HREF="#">bigWig</A>,
    <A onclick="return jumpTo(this);" HREF="#">broadPeak</A>,
    <A onclick="return jumpTo(this);" HREF="#">chain</A>,
    <A onclick="return jumpTo(this);" HREF="#">clonePos</A>,
    <A onclick="return jumpTo(this);" HREF="#">coloredExon</A>,
    <A onclick="return jumpTo(this);" HREF="#">ctgPos</A>,
    <A onclick="return jumpTo(this);" HREF="#">downloadsOnly</A>,
    <A onclick="return jumpTo(this);" HREF="#">encodeFiveC</A>,
    <A onclick="return jumpTo(this);" HREF="#">expRatio</A>,
    <A onclick="return jumpTo(this);" HREF="#">factorSource</A>,
    <A onclick="return jumpTo(this);" HREF="#">genePred</A>,
    <A onclick="return jumpTo(this);" HREF="#">gvf</A>,
    <A onclick="return jumpTo(this);" HREF="#">ld2</A>,
    <A onclick="return jumpTo(this);" HREF="#">narrowPeak</A>,
    <A onclick="return jumpTo(this);" HREF="#">netAlign</A>,
    <A onclick="return jumpTo(this);" HREF="#">peptideMapping</A>,
    <A onclick="return jumpTo(this);" HREF="#">psl</A>,
    <A onclick="return jumpTo(this);" HREF="#">rmsk</A>,
    <A onclick="return jumpTo(this);" HREF="#">snake</A>,
    <A onclick="return jumpTo(this);" HREF="#">vcfTabix</A>,
    <A onclick="return jumpTo(this);" HREF="#">wig</A>,
    <A onclick="return jumpTo(this);" HREF="#">wigMaf</A></P>
    <P>Detailed descriptions of each type can be found
    below.  In many cases the type setting includes additional
    parameters to further specify the data format.  Some track types
    have additional setting requirements, to be discussed
    below.</P>
    <P><B>Example:</B>
    </P>
    <pre>   type bed 6 +</pre>
</DIV>

<DIV class="type_for_hubs"><span class="types all"></span>
    <div class="format"><code>type</code></div>
    <P>Required: <span class="red">Yes</span></P>
    <P>Declares the format of the data and is used to
    determine display methods and options.</P>
    <P>Valid settings:</P>
    <P>
    <A onclick="return jumpTo(this);" HREF="#">bam</A>,
    <A onclick="return jumpTo(this);" HREF="#">bigBed</A>,
    <A onclick="return jumpTo(this);" HREF="#">bigWig</A>,
    <A onclick="return jumpTo(this);" HREF="#">vcfTabix</A>,
    <P>Detailed descriptions of each type can be found
    below.  In many cases the type setting includes additional
    parameters to further specify the data format.  Some track types
    have additional setting requirements, to be discussed
    below.</P>
    <P><B>Example:</B>
    </P>
    <pre>   type bigBed 6 +</pre>
</DIV>

<DIV class="shortLabel"><span class="types all"></span>
<div class="format"><code>shortLabel</code></div>
    <P>Required: <span class="red">Yes</span></P>
    <P>Specifies the track's "short label", which is used in a
    number of places in the Browser to identify the track.  For
    example, the short label is displayed alongside the track in the Browser image.
    This label must be brief and
    is limited to 17 printable characters.</P>
    <P><B>Example:</B>
    </P>
    <pre>   shortLabel Human mRNAs</pre>
</DIV>

<DIV class="longLabel"><span class="types all"></span>
<div class="format"><code>longLabel</code></div>
    <P>Required: <span class="red">Yes</span></P>
    <P>Specifies the track's "long label", which is also used in
    numerous places in the Browser to identify a track.  For instance,
    the long label is displayed above the track's data in the Browser image.
    This label should be descriptive enough to
    allow users to uniquely identify the track within the Browser.  It
    is limited to 76 printable characters.</P>
    <P><B>Example:</B></P>
    <pre>   longLabel Human mRNAs from GenBank</pre>
</DIV>

<DIV class="visibility"><span class="types all"></span>
<div class="format"><code>visibility</code></div>
    <P>Required: No</P>
    <P>Visibility (i.e. "display mode") specifies which of 5 modes (including 'hide')
    should be used to display the track within the Browser image.  This setting is
    almost always dynamically customizable by each user.  The exact configuration of the
    display for each mode depends upon the track's type, and some modes may not be supported
    for certain track types.  Be sure to experiment with this setting to verify that it works 
    as expected for your track type.</P>
    <P>Valid settings:</P>
    <UL>
    <LI><code>hide</code>: DEFAULT. The track is not displayed in the Browser image unless
    the user changes the display setting.</LI>
    <LI><code>dense</code>: The track is displayed as a single line or
    ribbon.  In many cases multiple items are summarized or drawn on top of
    one another, and the long labels are not displayed.</LI>
    <LI><code>squish</code>: Each item is drawn individually, but at half height
    and without a label.  <i>(Not supported for all types.)</i></LI>
    <LI><code>pack</code>: Items are displayed individually at full height, but
    in a much more compact vertical space than in full mode.
    <i>(Not supported for all types.)</i></LI>
    <LI><code>full</code>: Each item is displayed as a separate line in the
    Browser image.  Graphed signals may be displayed in varying heights.</LI>
    </UL>
    <P><B>Example:</B>
    </P>
    <pre>   visibility dense</pre>
</DIV>

<DIV class="html"><span class="types all"></span>
<div class="format"><code>html</code></div>
    <P>Required: No</P>
    <P>Specifies a file that contains the
    complete description of a track in HTML format.  The path of this
    file name is relative to the path of the trackDb file.  The
    ".html" suffix is implied.</P>
    <P>To be consisent with standard Genome Browser track descriptions, this description
    should contain several sections:</P>
    <P><B>Description</B></P>
    <P class="indent1">A few sentences describing the contents of the track and what
    it attempts to show.  The description can include additional
    paragraphs giving further details and can include links to outside
    sources.</P>
    <P><B>Display Conventions and Configuration</B></P>
    <P class="indent1">A description of what the display represents. This
    includes a description of conventions for coloring and any special glyphs used in the track.
    It may describe how to interpret scores or full signal values.  This
    section can also be used to describe how to customize the display
    by using configuration controls.</P>
    <P><B>Methods</B></P>
    <P class="indent1">A
    description of how the data was generated, which may include how
    physical samples were treated as well as explanations of data-handling algorithms.</P>
    <P><B>Credits</B></P>
    <P class="indent1">Names
    and institutions of those who performed the experiments and/or
    prepared the data as well as any funding sources.  This section
    should include a contact email address for questions concerning
    the data.</P>
    <P><B>References</B></P>
    <P class="indent1">References
    to any published work referring to or dependent upon this data as
    well as any sources upon which the work is based or can be
    understood.</P>
    <P><B>Example:</B></P>
    <pre>    html docs/myFirstTrack</pre>
</DIV>

<DIV class="lessCommon_intro">
    <H3>Common, though less frequently used settings</H3>
    The following settings are available for many or all track types but are less frequently used.
    Most are optional, but some may be required for specific track
    types or in specific situations.<BR><BR>
    <div class="hintBox">
        <I><B>Inside hint:</B></I><I> The ra file
        format supports  '<code>\</code>' continuation characters.  If the
        setting is long or complex, break it into several lines using
        terminating '<code>\</code>' characters to make it more readable.
        </I>
    </div>
    <BR>
</DIV>

<DIV class="bigDataUrl"><span class="types bigBed bigWig bam vcfTabIx"></span>
<div class="format"><code>bigDataUrl &lt;url/relativePath&gt;</code></div>
    <P>Required: <span class="red">For Hubs</span></P>
    <P>The location of a remote data file containing the bulk of the data for the track.
    This setting is required for all data tracks in a track hub.  It is currently not
    supported for local tracks.</P>  
<!-- THIS SHOULD BE FIXED for local tracks! -->
    <P>The setting is either the full URL (including <code>http:</code> or another protocol)
    or it is relative to the directory in which the trackDb file containing this setting
    is located.  The file must be in one of
    the supported remote data file formats: bam, bigBed, bigWig or
    vcfTabIx.  Note that bam and vcfTabIx types require a separate
    index file that must have the same name as the data file plus a
    standard suffix (".bai" and ".tbi" respectively).</P>
    <P><B>Example:</B></P>
    <pre>   bigDataUrl http://vizhub.wustl.edu/VizHub/hg19/biBrainH3K4me1.bb</pre>
    &nbsp;&nbsp;or
    <pre>   bigDataUrl biBrainH3K4me1.bb</pre>
</DIV>

<DIV class="boxedCfg"><span class="types all"></span>
<div class="format"><code>boxedCfg &lt;on/off&gt;</code></div>
    <!-- <P><I>NOT FOR HUBS</I></P> says Jim, but why not. Already used. -->
    <P>Configuration controls can be placed inside a
    box on the configuration page.  This setting is decorative only,
    but can make a busy page look more cohesive.  Not all
    track types currently support this feature, but the most common types do, including
    wig, bigWig, bed, and bigBed. DEFAULT: off.</P>
    <P><B>Example:</B></P>
    <pre>   boxedCfg on</pre>
</DIV>

<DIV class="canPack"><span class="types all"></span>
<div class="format"><code>canPack &lt;off/on&gt;</code></div>
    <P><I>NOT FOR HUBS.  Deprecated.</I></P>
    <P>Most tracks can be displayed in all five
    visibilities modes.  However on some track types such as
    wiggles, the <code>squish</code> and <code>pack</code> modes offer no real advantage
    over the <code>dense</code> and <code>full</code> modes. By default, these tracks will
    not offer the <code>squish</code> and <code>pack</code> vilibility settings.
    Nevertheless, you can make your track offer
    these visibilility choices by turning canPack on.  Note: subtracks
    of composites will always offer all five choices.</P>
    <P><B>Example:</B></P>
    <pre>   canPack on</pre>
</DIV>

<DIV class="color"><span class="types all"></span>
<div class="format"><code>color &lt;red,green,blue&gt;</code></div>
    <P>Many track types allow the color of the data displayed in the image to be specified with 
    this setting.  The setting accepts
    red, green and blue values, each in the range of 0-255 and delimited by commas.  
    Though this setting is widely supported, some track types in certain display modes
    ignore it, such as the EST tracks in dense mode.</P>
    <P><B>Example:</B></P>
    <pre>   color 255,0,0</pre>
    <P>This example sets the color to red.</P>
</DIV>

<DIV class="altColor"><span class="types all"></span>
<div class="format"><code>altColor &lt;red,green,blue&gt;</code></div>
    <P>Many track types allow setting a color range that varies from <code>color</code> to
    <code>altColor</code>.  For instance the CpG Island tracks use the <code>altColor</code>
    setting to display the weaker islands, while the stronger ones are rendered in
    <code>color</code>.  If <code>altColor</code> is not specified, the system will
    use a color halfway between that specified in the <code>color</code> tag
    and white instead.</P>
    <P><B>Example:</B></P>
    <pre>   altColor 0,0,255</pre>
    <P>This example sets the alternate color to blue.</P>
</DIV>

<DIV class="chromosomes"><span class="types all"></span>
<div class="format"><code>chromosomes &lt;chr1,chr2,...&gt;</code></div>
    <P>Some datasets do not contain data for all
    chromosomes of a genome.  When this is true, use this setting as a
    comma-separated list of the chromosomes that are covered. The system
    displays a message that no data is available when the user browses
    chromosomes not included in this list.</P>
    <P><B>Example:</B></P>
    <pre>   chromosomes chr1,chr7,chr18,chr19,chr22,chrX,chrM</pre>
</DIV>

<DIV class="configureByPopup"><span class="types all"></span>
<div class="format"><code>configureByPopup &lt;on/off&gt;</code></div>
    <P><I>NOT FOR HUBS.</I></P>
    <P>Most track displays that can be configured by a user can also be
    configured from directly within the
    Browser image through a right-click option that pops up
    a configuration dialog.  While this functionality works on the
    majority of track types, some configuration dialogs are too
    complex or have too much embedded javascript control to be reliably
    configured through a pop-up.  To turn off the ability to configure the track
    via right-click, change this setting to "off".  The user will still be able to
    configure the track on the track's configuration page. DEFAULT: on.</P>
    <P><B>Example:</B></P>
    <pre>   configureByPopup off</pre>
</DIV>

<DIV class="dataVersion"><span class="types all"></span>
<div class="format"><code>dataVersion &lt;str&gt;</code></div>
    <P>Many tracks undergo multiple revisions over time.  In some cases,
    the older versions should be retained, but even if they are not, it can be
    useful to declare the current version of the track.  Use
    this setting to display a version statement on the track
    configuration page and item details page of a track.  The string
    will support limited HTML.</P>
    <P><B>Example:</B></P>
    <pre>   dataVersion May 2011 &lt;em&gt;beta&lt;/em&gt;</pre>
</DIV>

<DIV class="directUrl"><span class="types all"></span>
<div class="format"><I>Related settings:</I><BR>
    <code>directUrl &lt;url&gt;</code></div>
    <P>By default, items shown in the Browser image can be linked to a details page giving
    information about that item.  The link can
    instead go to the URL declared here.  The URL is formatted as a
    printf line including the following fields in this order:</P>
    <UL>
    <LI>%s - item name</LI>
    <LI>%s - chromosome name</LI>
    <LI>%d - chromosome start position (relative to zero)</LI>
    <LI>%d - chromosome end position (relative to one)</LI>
    <LI>%s - track name</LI>
    <LI>%s - database name</LI>
    </UL>
    <P><I>Not all fields need be present, but those present must be in this
    order, and if a later field is present, all earlier fields must be used.</I>
    The URL can either be a full external URL or local to the web site.</P>
    <P><B>Examples:</B></P>
    <pre>   directUrl http://mygenes.org/cgi-bin/geneView/%s</pre>
    &nbsp;&nbsp;or
    <pre>   directUrl /cgi-bin/hgGene?hgg_gene=%s&hgg_chrom=%s&hgg_start=%d&hgg_end=%d&hgg_type=%s&db=%s</pre>
</DIV>

<DIV class="hgsid"><span class="types all"></span>
<div class="format"><code>hgsid on</code></div>
    <P><I>NOT FOR HUBS.</I></P>
    <P>The "cart" is a hidden table
    that contains the persistent selections that users have
    made in the Genome Browser.  To ensure your directUrl has
    access to these cart settings, include the user's
    Browser ID with this setting.</P>
    <P><hr class="example" /><B>Example:</B></P>
    <pre>
    directUrl /cgi-bin/hgGene?hgg_gene=%s&amp;hgg_chrom=%s&amp;hgg_start=%d&amp;hgg_end=%d&amp;hgg_type=%s&amp;db=%s
    hgsid on    </pre>
    <P>In this example the URL specified by <code>directUrl</code> will have the user's
    Browser ID appended so that cart settings will be available.</P>
</DIV>

<DIV class="directUrl_for_hubs"><span class="types all"></span>
<div class="format"><code>directUrl &lt;url&gt;</code></div>
    <P>By default, items shown in the Browser image can be linked to a details page giving
    information about that item.  The link can
    instead go to the URL declared here.  The URL is formatted as a
    printf line including the following fields in this order:</P>
    <UL>
    <LI>%s - item name</LI>
    <LI>%s - chromosome name</LI>
    <LI>%d - chromosome start position (relative to zero)</LI>
    <LI>%d - chromosome end position (relative to one)</LI>
    <LI>%s - track name</LI>
    <LI>%s - database name</LI>
    </UL>
    <P><I>Not all fields need be present, but those present must be in this
    order, and if a later field is present, all earlier fields must be used.</I>
    The URL can either be a full external URL or local to the web site.</P>
    <P><B>Example:</B></P>
    <pre>   directUrl http://mygenes.org/cgi-bin/geneView/%s</pre>
</DIV>

<DIV class="otherDb"><span class="types all"></span>
<div class="format"><code>otherDb &lt;otherDb&gt;</code></div>
    <P>Track types that show pairwise alignments often need to declare the other
    species/assembly included in the alignment. Types that use this setting include
    bed, chain, netAlign, psl and snake.</P>
    <P><B>Example:</B></P>
    <pre>   otherDb mm10</pre>
    <P>This example sets the second assembly in the alignment to the mouse mm10 assembly.</P>
</DIV>

<DIV class="origAssembly"><span class="types all"></span>
<div class="format"><code>origAssembly &lt;db&gt;</code></div>
    <P><I>NOT FOR HUBS.</I></P>
    <P>The original assembly version for which the dataset was
    generated.  Datasets generated by mapping to one genome
    assembly may prove useful enough to map to a more recent assembly.
    Ideally datasets will be regenerated to map
    to the new assemblies coordinates, but sometimes this is not
    practical or expedient. Therefore, the dataset may have its genome
    coordinates "lifted over" to the more recent assembly.
        In some cases this results in an inferior but nevertheless useful
    representation.  Such datasets should have their original assembly
    defined with this setting.</P>
    <P><B>Example: </B>
    </P>
    <pre>   origAssembly hg18</pre>
</DIV>

<DIV class="pennantIcon"><span class="types all"></span>
<div class="format"><code>pennantIcon &lt;icon&gt; [html [tip]]</code></div>
    <P>Certain tracks can be visually flagged in the Browser by use of an icon and
    a link to a description of the icon's meaning.  The icon is displayed next to the track's
    short label in the track groups section below the Browser image, and on the track's 
    description and configuration pages.
    This setting has three parts:</P>
    <UL>
    <LI>icon -  Currently must refer to an icon in the Browser's images directory in the 
    Browser source tree.</LI>
    <LI>html - A relative or full html path to a description document explaining the
    icon's meaning.  This page displays when the user clicks on the icon.</LI>
    <LI>Tip - A "quoted string" tip that will be seen
    when the user's mouse pointer hovers over the icon.</LI>
    </UL>
    <P><B>Example:</B></P>
    <pre>    pennantIcon 18.jpg ../goldenPath/help/liftOver.html "lifted from hg18"</pre>
</DIV>

<DIV class="priority"><span class="types all"></span>
<div class="format"><code>priority &lt;float&gt;</code></div>
    <P>The priority is used to define the order of a track within its track group or 
    data hub, as well as its default order within the Browser image.  
    The order within the image can be dynamically changed by the user and
    will always depend upon which other tracks are currently visible.
    Typically the priority is set only for tracks that are on by default in order to move them 
    ahead of other tracks. 
    Prioritized tracks within a group or data hub are displayed in ascending priority order, 
    followed by unprioritized tracks sorted alphabetically by short label. Tracks of the same 
    priority within a group or hub are sorted by short label.  
    Priority is a floating point number. Default: 0.</P>
    <P><B>Example:</B></P>
    <pre>   priority 50</pre>
</DIV>

<DIV class="release"><span class="types all"></span>
<div class="format"><code>release &lt;alpha/beta/public&gt;[,beta/public]</code></div>
    <P><I>NOT FOR HUBS.</I></P>
    <P>This specifies the version of the Browser where the
    track will be displayed. It can contain any combination of the three
    values:</P>
    <UL>
    <LI>alpha - displayed on the alpha Browser (aka
    genome-test, hgwdev)</LI>
    <LI>beta - displayed on the beta Browser (aka
    hgwbeta)</LI>
    <LI>public - released on the public Browser
    (aka genome.ucsc.edu)</LI>
    </UL>
    <P>Default: alpha,beta,public (all three Browsers).</P>
    <P><B>Example:</B></P>
    <pre>   release alpha,beta</pre>
</DIV>

<DIV class="table"><span class="types all"></span>
<div class="format"><code>table &lt;tableName&gt;</code></div>
    <P><I>NOT FOR HUBS.</I></P>
    <P>The track setting of most tracks is the same as
    the table name. However, in some cases it is desirable to
    reference the same table in more than one track.
    An example of this is showing a table as a single signal track and
    as part of a combination overlay track, as described later in this
    document.  For data contained in MySQL tables, this setting must be used
    if the <code>track</code> setting is not the name of the table.</P>
    <P><B>Example:</B></P>
    <pre>
    track mySecondTrack
    table myFirstTable    </pre>
</DIV>

<DIV class="tableBrowser"><span class="types all"></span>
<div class="format"><code>tableBrowser &lt;off/on&gt; [table1 ...]</code></div>
    <P><I>NOT FOR HUBS.</I></P>
    <P>The Table Browser typically allows querying and downloading of some or all 
    of the raw data for a track. This setting can be used to block Table Browser access to datasets 
    with restrictions (for example, those with confidentiality or licensing limitations).  
    By naming additional tables in this setting, access to those 
    tables can be denied as well.</P>
    <P><B>Example:</B></P>
    <pre>   tableBrowser off decipherRaw knownToDecipher</pre>
    <P>The table for this track, as well as the decipherRaw and knownToDecipher tables, 
    are blocked from Table Browser access.</P>
</DIV>

<DIV class="url"><span class="types all"></span>
<div class="format">
    <code>url &lt;url&gt;</code><BR>
    <code>urlLabel &lt;label&gt;</code><BR>
    <code>idInUrlSql &lt;sql for id&gt;</code></div>
    <P>Many tracks allow an external link when an
    individual track data item is examined.  Use this setting to put a
    link to an external URL on the details page.  The url may include
    wildcards that will be substituted with values from the track data
    or other Browser variables:</P>
    <UL>
    <LI>$$ - ID, will be replaced by the <code>name</code>
    of an item or other string id depending upon the fields in the
    given track's type.</LI>
    <LI>$T - database table name</LI>
    <LI>$S - chromomosome name (scaffold name on
    scaffold assemblies)</LI>
    <LI>$[ - chromStart location (relative to zero)</LI>
    <LI>$] - chromEnd location (relative to one)</LI>
    <LI>$s - chromosome name without <i>chr</i> prefix (or without <i>scaffold_</i> or 
    <i>Scaffold_</i> prefix on scaffold assemblies)</LI>
    <LI>  $D - database name (e.g. "hg19")</LI>
    <LI>  $P - item name portion before first : in name</LI>
    <LI>  $p - item name portion after first : in name
    up to next colon</LI>
    </UL>
    <P>The default prompt the user will see for this url is "outside link:".  Use
    <code>urlLabel</code> to provide a more informative prompt.
    </P>
    <P>For local (non-hub) tracks, an additional setting can be used to find an ID
    from another table based upon the item name or id from the track's
    table.  The value found will replace the "<code>$$</code>" token in the <code>url</code>.
        Note that the format of this trackDb setting is a normal C
    language format so that the item will replace the "%s"
    token in the sql statement.</P>
    <!-- DONNA - I don't quite understand the idInUrlSql usage 
    TIM responds: By default the ID is the bed column 'name'.  That is what the $$ token
    gets replaced with in the url provided.  The idInUrlSql allows having a separate table
    in the mysql database that holds an alternate id.  No doubt this setting was for a 
    special case added by one engineer for one specific result.  Nevertheless, it is now one 
    of our many settings I needed to document.  So if a wrangler has a case where the 
    'name' in their bed table can be used to look up a different name in a different table, 
    AND that different name is what they need use as an id in their url, THEN this is 
    the obscure setting for them. -->
    <P><B>Example:</B></P>
    <pre>
    url http://www.ncbi.nlm.nih.gov/htbin-post/Entrez/query?form=4&amp;db=n&amp;term=$$
    urlLabel NCBI Details:
    idInUrlSql select name from sibTxGraph where id=%s    </pre>
</DIV>

<DIV class="url_for_hubs"><span class="types all"></span>
<div class="format">
    <code>url &lt;url&gt;</code><BR>
    <code>urlLabel &lt;label&gt;</code></div>
    <P>Many tracks allow an external link when an
    individual track data item is examined.  Use this setting to put a
    link to an external URL on the details page.  The url may include
    wildcards that will be substituted with values from the track data
    or other Browser variables:</P>
    <UL>
    <LI>$$ - ID, will be replaced by the <code>name</code>
    of an item or other string id depending upon the fields in the
    given track's type.</LI>
    <LI>$S - chromomosome name (scaffold name on
    scaffold assemblies)</LI>
    <LI>$[ - chromStart location (relative to zero)</LI>
    <LI>$] - chromEnd location (relative to one)</LI>
    <LI>$s - chromosome name without <i>chr</i> prefix (or without <i>scaffold_</i> or 
    <i>Scaffold_</i> prefix on scaffold assemblies)</LI>
    <LI>  $D - database name (e.g. "hg19")</LI>
    <LI>  $P - item name portion before first : in name</LI>
    <LI>  $p - item name portion after first : in name
    up to next colon</LI>
    </UL>
    <P>The default prompt the user will see for this url is "outside link:".  Use
    <code>urlLabel</code> to provide a more informative prompt.
    </P>
    <P><B>Example:</B></P>
    <pre>
    url http://www.ncbi.nlm.nih.gov/htbin-post/Entrez/query?form=4&amp;db=n&amp;term=$$
    urlLabel NCBI Details:    </pre>
</DIV>

<DIV class="wgEncode"><span class="types all"></span>
<div class="format"><code>wgEncode on</code></div>
    <P><I>NOT FOR HUBS.</I></P>
    <P>This setting designates an ENCODE track. It activates the following special features:
    <UL>
    <li>Special thumbnail (NHGRI helix) is displayed before the track label in the brower track menu</li>
    <li>ENCODE logo is displayed on track configuration page
    <li>'Downloads' and 'Preview' browser links shown in upper right portion of track configuration page
    <li>Track description includes a note about data on preview browser
    <li>'downloads' and 'metadata' links appear after 'View table:' on track details page
    </UL>
    </P>
    <P><B>Example:</B></P>
    <pre>   wgEncode on</pre>
</DIV>


<!-- - - - - - - - BED/BIGBED settings - - - - - - - -->
<DIV class="bed_intro">
<H3>bed/bigBed: Item or region tracks</H3>
    <P>Some of the most
    common track types are those that highlight regions or items of
    varying size in a genome assembly.  There are many variations to the
    "items" track, most of which are specified with a bed or
    bigBed format.  These two formats are really a cluster of many
    formats all starting with three common fields (chromosome start end)
    and having optionally many more fields.  For complete bed or bigBed
    format definitions please see the
    <A HREF="../../../FAQ/FAQformat.html">FAQ</A>.</P>
</DIV>

<DIV class="bigBed_intro">
<H3>bigBed: Item or region tracks</H3>
    <P>Some of the most
    common track types are those that highlight regions or items of
    varying size in a genome assembly.  There are many variations to the
    "items" track, most of which can be represented with a bigBed format.  
    This format is really a cluster of many
    formats all starting with three common fields (chromosome start end)
    and having optionally many more fields.  For complete bigBed
    format definitions please see the 
    <A HREF="../bigBed.html">bigBed help page</A>.</P>
</DIV>

<DIV class="bed"><span class="types bed bigBed"></span>
<div class="format">
    <code>type bed &lt;3-12&gt; [+/.]</code><BR>
    <code>type bigBed &lt;3-12&gt; [+/.]</code></div>
    <P>Both bed and bigBed
    declare the number of standard bed fields in the data.  
    Additional fields may follow these standard ones.  If so, the
    type should end with a '<code>+</code>' (plus).  Even if there are not
    additional non-standard fields, the additional parameter '<code>.</code>' (dot)
    is needed, if this track is meant to be configurable.</P>
    <P><em>Examples can be found below.</em></P>
</DIV>

<DIV class="bigBed"><span class="types bigBed"></span>
<div class="format">
    <code>type bigBed &lt;3-12&gt; [+/.]</code></div>
    <P>Type bigBed declares the number of standard "bed" fields in the data.  
    There may be additional fields following these standard ones.  If so, the
    type should end with a '<code>+</code>' (plus).  Even if there are no
    additional non-standard fields, the parameter '<code>.</code>' (dot)
    must be specified if this track is meant to be configurable.</P>
    <P><em>Examples can be found below.</em></P>
</DIV>

<DIV class="bed_flavors"><span class="types bed5FloatScore bedRnaElements broadPeak coloredExon gvf ld2 narrowPeak peptideMapping"></span>
<div class="format">
    <code>type bed5FloatScore</code><BR>
    <code>type bedRnaElements</code><BR>
    <code>type broadPeak</code><BR>
    <code>type coloredExon</code><BR>
    <code>type gvf</code><BR>
    <code>type ld2</code><BR>
    <code>type narrowPeak</code><BR>
    <code>type peptideMapping</code></div>
    <P>Each of these is a
    specialized variation of the bed format.  Their
    specialized definitions should be sought elsewhere.  However,
    these item tracks share many of the same configuration options
    available to bed tracks.</P>
    <!--DONNA - rewrite above -->
    <P><em>An example can be found below.</em></P>
</DIV>

<DIV class="bigDataUrl2"><span class="types bigBed bigWig bam vcfTabIx"></span>
<div class="format">
    <code>bigDataUrl &lt;url/relativePath&gt;</code></div>
    <P>This setting is for remote data file type
    tracks (e.g. bigWig) and is fully described in the "<A HREF="#bigDataUrl">Common
    trackDb settings</A>" portion of this document.</P>
</DIV>

<DIV class="colorByStrand"><span class="types bed bigBed"></span>
<div class="format"><code>colorByStrand &lt;red,green,blue&gt; &lt;red,green,blue&gt;</code></div>
    <P>To color items
    differently by the strand they align to, use the colorByStrand
    setting.  The first color will be used for plus strand alignments
    and the second for the minus strand.  This setting is incompatible with <code>spectrum</code>
    and all items on the same strand will have the same color, regardless of the item's
    <code>score</score>.</P>
    <P><B>Example:</B></P>
    <pre>   colorByStrand 255,0,0 0,0,255</pre>
    <P>Plus strand alignments will be colored red, and minus
    strand alignments will be blue. This setting is incompatible with <code>spectrum</code>, 
    and therefore all items on the same strand will have the same color, regardless of the item's
    <code>score</score>.</P>
</DIV>

<DIV class="compareGenomeLinks"><span class="types bed"></span>
<div class="format"><code>compareGenomeLinks &lt;db[.table[.column]]=label&gt;
            [db[.table[.column] =label &hellip;]</code></div>
    <P><I>NOT FOR HUBS</I></P>
    <P>Sometimes the
    features that a bed track highlights in one genome are also
    displayed in tracks of other genomes.  If an item of the same name
    exists in the bed tracks of two or more genomes, a bridge can be
    readily made between them through links on the item's detail page. To establish
    this association, the feature must have the same name in each genome, and the name 
    must be unique within the bed track of each genome.  The components of this
    setting are a genome assembly database, an optional table and column,  
    with a label for the link.  If the column parameter is omitted, it is
    assumed to be <code>name</code>. If the table is omitted, it
    is assumed to be the same as the current table.  Links to multiple
    genomes can be established with this setting, as each pair is
    joined by '<code>=</code>' and delimited by space.  Be sure to use
    '<code>_</code>' as a substitute for spaces in the labels.</P>
    <P><B>Example:</B></P>
    <pre>
    compareGenomeLinks panTro2=Chimpanzee_(March_2006) rheMac2=Rhesus_(January_2006) \
                       mm9=Mouse_(July_2007) rn4=Rat_(November_2004) canFam2=Dog_(May_05) \
                       bosTau4=Cow_(October_2007)    </pre>
    <P>In this example for
    the hg18 ENCODE bi-directional promoter track, each genome has a
    track of the same name, and the names are unique within each track.
    However, a named bi-directional promoter will not be found in
    every genome; therefore, only links to genomes where the name is actually
    found will be displayed.</P>
    <!-- DONNA -- reread -->
<!--
    <P><I>TODO: Bug alert: this was coded narrowly and
    may have some problems when the table or column names differ from
    default.  This feature could be extended to simply provide a link
    to the top hit of liftOver, if there is no named table found.</I></P>
-->
</DIV>

<DIV class="denseCoverage"><span class="types bigBed"></span>
<div class="format"><code>denseCoverage &lt;maxVal&gt;</code></div>
    <P><I>bigBed specific</I></P>
    <P>Type bigBed tracks
    in dense mode do a density plot based on maximum coverage seen at
    each pixel.  The maxVal corresponds to the count at which the plot
    reaches maximum darkness.  If maxVal is 0 then this will be
    calculated from the data itself.</P>
    <P><B>Example:</B></P>
    <pre>   denseCoverage 100</pre>
</DIV>

<DIV class="exonArrows"><span class="types genePred bed broadPeak"></span>
<div class="format"><code>exonArrows &lt;on/off&gt;</code></div>
    <P>On tracks that show
    exons or blocks within features, exon arrows allow the user to jump to
    the next exon or block outside the image. Exon arrows are typically shown by default
    in these types of tracks, with the exception of tracks in the Regulation group. 
    The arrows can be explicitly shown or hidden using this setting.
    </P>
    <P><B>Example:</B></P>
    <pre>   exonArrows off</pre>
</DIV>

<DIV class="Filter"><span class="types bed narrowPeak broadPeak"></span>
<div class="format">
    <code>&lt;column&gt;Filter &lt;low&gt;[:&lt;high&gt;]</code><BR>
    <code>scoreFilter &lt;low&gt;[:&lt;high&gt;]</code><BR>
    <code>pValueFilter</code><BR>
    <code>qValueFilter</code><BR>
    <code>signalFilter</code><BR>
    <code>&lt;column&gt;FilterLimits &lt;low&gt;[:&lt;high&gt;]</code><BR>
    <code>&lt;column&gt;FilterByRange &lt;off/on&gt;</code>
    </div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>A number of
    numerical filters are available for bed tracks.  These are
    conveniently named by the field that is filtered on.  The most
    common numerical filter is based on the standard bed field
    <code>score</code>, and is thus controlled by the <code>scoreFilter</code>
    setting.  Other examples are pValueFilter, qValueFilter and
    signalFilter, which are filters on non-standard bed fields defined
    in the broadPeak and narrowPeak formats.  These numerical filter
    settings should include the default value.  If the numeric field
    is floating point, the default should contain at least one decimal
    place.
    </P>
    <P>By default the range
    of values for a numeric filter is 0 to 1000.  However, you
    can explicitly set the upper and lower limits of the filter by
    setting <code>&lt;column&gt;FilterLimits</code>.
    </P>
    <P>The numeric filters
    will exclude items that fall below the setting. That is, a
    scoreFilter of 800 will  exclude all items with a score below 800.
    You can also filter for values within a range, by including the
    <code>&lt;column&gt;FilterByRange</code> setting.  For example, a 
    <code>scoreFilter</code> range of
    800-900 will include only items with scores at or above 800 and
    below 900.</P>
    <P>Note: multiple
    filters of different fields are allowed.</P>
    <P><B>Examples:</B></P>
    <pre>   scoreFilter 100</pre>
    <P>In this example, the standard bed
    field <code>score</code>, which is an integer, will be used to filter items
    in the track.  By default, items with scores below 100 will be
    excluded.  Also by default the limits of the scoreFilter are
    0-1000.</P>
    <pre>
    pValueFilter 3.0:15.0
    pValueFilterLimits 0.0:15.0
    pValueFilterByRange on    </pre>
    <P>The non-standard bed field <code>pValue</code>, which
    is floating-point, will be filtered by range.  The expected data
    range is 0.0 to 15.0, and by default only items with pValues within the 3.0 to 15.0
    range will be displayed.</P>
</DIV>

<DIV class="scoreFilter"><span class="types bigBed"></span>
<div class="format">
    <code>scoreFilter &lt;low&gt;[:&lt;high&gt;]</code><BR>
    <code>scoreFilterLimits &lt;low&gt;[:&lt;high&gt;]</code><BR>
    </div>
    <P>Type <code>bigBed</code> tracks can be filtered on the standard bed field
    <code>score</code>.  This numerical filter is requested by the 
    <code>scoreFilter</code> setting, which should include the default value.  
    </P>
    <P>By default the range
    of values for a score filter is from 0 to 1000.  However, you
    can explicitly set the upper and lower limit of the filter by
    setting <code>scoreFilterLimits</code>.
    </P>
    <P>The score filter will exclude items that fall below the setting. That is, a
    scoreFilter of 800 will exclude all items with a score below 800.</P>
    <P><B>Example:</B></P>
    <pre>
    scoreFilter 300
    scoreFilterLimits 200:1000</pre>
    <P>The standard bed
    field of <code>score</code>, which is an integer will be used to filter items
    in the track.  By default, items with scores below 300 will be
    excluded.  The filter cannot be set to less than 200 or more than 1000..</P>
</DIV>

<DIV class="filterBy"><span class="types bed genePred psl"></span>
<div class="format"><code>filterBy  &lt;field1:title=[+]opt1a...&gt;
                            [field2:title=[+]opt2a...]</code></div>
    <!-- DONNA -- redo -->
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>Another method of
    filtering items relies upon discrete values.  One or more fields
    such as <code>name</code> or <code>score</code> may contain a limited number
    of discrete values that can be filtered on. These discrete values will be
    displayed in a dropdown list from which the user can choose one or
    more options.  While the maximum number of options in the list is
    not limited, displaying too many options can be confusing for the user.
    </P>
    <P><I>Setting complexities:</I></P>
    <UL>
    <LI> Because filters for different fields are delimited by whitespace, any
    whitespace in titles and labels should be replaced by the '<code>_</code>'
    (underscore) character.</LI>
    <LI> Each field/option pair is joined by '<code>=</code>' (equal sign).</LI>
    <LI> The field portion
    can have a title that is delimited from the field name by '<code>:</code> (colon)'.</LI>
    <LI> A single field
    filter will have multiple options delimited by commas.</LI>
    <LI> If the options are
    a 1-based index (1,2,3...) then the option list can be preceded
    with a '<code>+</code>' (plus sign) and the options themselves are only labels.</LI>
    <LI> Otherwise, each
    option will be a value and optional label delimited by '<code>|</code>' (vertical bar).
    Note that if one option has a label then all options of that filter
    must have a label.</LI>
    <LI><em>Finally,
    options may have CSS style wrapped in {curly} brackets and
    appended to the end.</em></LI>
    </UL>
    <P><I>Because of this
    complexity, please remember to use the '<code>\</code>' continuation line to
    ensure the setting is readable:  </I>
    </P>
    <pre>
    filterBy {field1}[:{Title1}]=[+]\
             option1a[|label1a[{style1a}]],\
             option1b[|label1b[{style1b}]],... \
             [{field2}[:{Title2}]=[+]\
             option2a[|label2a[{style2a}]],,...]    </pre>
    <P><I>It is probable
    that this setting will be redefined at some point, given that it
    is very complicated. However, this current format will
    be supported until entirely replaced.</I></P><BR>
    <div class="hintBox">
        <I class="red">Secret tricks:</I>
        <OL>
        <LI>Avoid the use of the delimiter chars <code> ,|:={}</code> in titles and
        labels.  (These characters can be included via HTML codes.)  
        Spaces can be included by using the '<code>_</code>' character.</LI>
        <LI>The option labels
        can be in color or have other CSS style attributes. Append the style 
        enclosed in curly brackets and containing no spaces. For example:
        <code>Pull_Over{color:#AA0000;text-decoration:blink;}</code>.
        If one option has CSS style, then all options of that
        filter must include a style definition.</LI>
        <LI>The filterBy option is implemented in the code using an SQL <code>where</code> clause.
        For instance, filtering on the <code>name</code> field for "Fred" and
        "Ethyl" would result in an SQL where clause of
        "<code>where name in ('Fred','Ethyl')</code>".  In <code>type genePred</code>
        tracks, this knowledge is used to define filters on fields in a separate table!
        This is done by defining the field as <code>{otherTableName}.{fieldName}</code>.</LI>
        </OL>
    </div>
    <P>The best way to
    understand this setting is with an example.  This is an operational
    example in the hg19 "Open Chrom Synth" track.</P>
    <P><B>Example:</B></P>
    <pre>
    filterBy color:Validation_Level=\
             0|Validated_(OC_1){color:#000000},\
             255|Open_Chromatin_(OC_2-3){color:#0000FF},\
             39168|DNase_low_(OC_2){color:#009900},\
             10027008|FAIRE_low_(OC_3){color:#990000},\
             16711935|ChIP-seq_(OC_4){color:#FF00FF} \
             ocCode:OC_Code=+\
             One&amp;#58;_Validated_(all),\
             Two&amp;#58;_DNase_(all),\
             Three&amp;#58;_FAIRE_(all),\
             Four&amp;#58;_ChIP_(all)    </pre>
    <P>This setting sets up
    two filters, one on the field "<code>color</code>" and a second for the
    "<code>ocCode</code>" field.  The color filter is given the title "Validation
    Level".  The second option has a value of "255" and a label
    of "Open Chromatin (OC 2-3)".  Note that it will appear
    as blue in the list due to the {color:#0000FF} style definition.
    Also notice that all options for this color field have a style
    defined, even though the first option is black and would be so by
    default. In this example, the only
    whitespace within the setting value section immediately precedes the second filter
    definition.  The second filter, "<code>ocCode</code>", is titled by the
    inscrutable "OC Code".  It is a numeric index filter
    (as declared by the '<code>+</code>').  The value of the second option is 2 and
    only the label gets defined as "Two: Dnase (all)".  Note
    that the colon in the label is an HTML code.
    </P>
    <P>The filterBy setting is very powerful. We recommend that you experiment with the
    settings to determine which work best for your case.</P>
    <!-- 
    <P><I>TODO: make a set
    of standard filterBy settings and methods that work like *Filter
    and filterBy:
    <UL>
        <LI>filterByDate</LI>
        <LI>filterByNumber (currently *Filter)</LI>
        <LI>filterByWild</LI>
        <LI>filterByWildList (like in track search)</LI>
    </UL></I></P>
    <P><I>These generic filter controls should work by
    "where clause" and should be allowed on any item based track
    including bigBeds!  Note that bigBeds already support scoreFilter
    and will always have the problem that zoomed out will not support
    filtering.  The Browser UI should show when tracks are filtered,
    so that losing the filter is obvious!</I></P>
    -->
</DIV>

<DIV class="itemRgb"><span class="types bed bigBed bedDetail bedGraph bedLogR"></span>
<div class="format"><code>itemRgb on</code></div>
    <P>In bed formats supporting 
    at least 9 standard bed fields, this setting can be used to activate
    item coloring using the value in the ninth field, <code>itemRgb</code>. The
    value of the  item field must be an R,G,B triplet.  When loaded
    into a table, this field appears as an integer with the RGB values
    in specific bits of the integer.</P>
    <P><B>Example:</B></P>
    <pre>   itemRgb on</pre>
</DIV>

<DIV class="maxItems"><span class="types bed bigBed broadPeak psl"></span>
<div class="format"><code>maxItems &lt;integer&gt;</code></div>
    <P>Maximum number of items to display individually in full mode.  When the maximum is
    exceeded, the excess items are drawn on top of one another on the last line.
    In packed mode this refers to the number of lines rather than number of items.
    Default: 250. For <code>type bigBed</code> tracks, this setting can never 
    be larger than than 100,000.</P>
    <P><B>Example:</B>
    </P>
    <pre>   maxItems 25</pre>
</DIV>

<DIV class="maxWindowToDraw"><span class="types bed genepred bam rmsk narrowPeak broadPeak bigWig bedlogR"></span>
<div class="format"><code>maxWindowToDraw &lt;integer&gt;</code></div>
    <P>When too many individual bed items are shown in the Browser image (such as 
    might occur when a large region of a chromosome is viewed), the
    information is often better visualized as a summary in dense mode.  
    Depending on the current visibility of the
    bed track and which other tracks are being shown concurrently, the
    Browser may automatically reduce the display to pack or dense mode.  This setting
    allows you to force the data summarization at whatever display limit you consider
    reasonable. Unlike the <code>maxItems</code> setting, which controls the display of
    vertical space, this setting dictates the number of bases to be displayed horizontally 
    in a window before the track is forced into dense mode.  There is no default for this 
    setting, but the <code>maxItems</code> setting will ultimately prevent too many items from
    being displayed.</P>
    <P><B>Example:</B></P>
    <pre>   maxWindowToDraw 200000</pre>
    <P>Browser images that show more then 200,000 bases will result in the track being 
    displayed in dense mode.
</DIV>

<DIV class="minGrayLevel"><span class="types bed broadPeak narrowPeak bedLogR bigBed"></span>
<div class="format"><code>minGrayLevel  &lt;1-9&gt;</code></div>
    <P>When a bed track contains the standard
    field <code>score</code>, and when that score is used
    to present items in gray or color scale (see
    <A onclick="jumpTo(this)" HREF="#">spectrum</A>),
    this setting specifies the lightest shade to be used.
    This prevents the lowest scores from being displayed in too light of a color to easily
    view. Set the value in the range 1 - 9, lightest to darkest.</P>
    <P><B>Example:</B></P>
    <pre>   minGrayLevel   4</pre>
    <P>This sets the lowest scores to slightly
    less than medium gray, while the highest scores appear black.</P>
</DIV>

<DIV class="noScoreFilter"><span class="types bed bedGraph bedLogR gvf"></span>
<div class="format"><code>noScoreFilter  on</code></div>
    <P>By default, bed
    tracks with 5 or more standard bed fields that contain either a '<code>.</code>' or
    a '<code>+</code>' in the type setting will be filterable on <code>score</code>;
    that is, they will have an assumed setting of "<code>scoreFilter 0</code>".  To turn
    this old-style default off, include the "<code>noScoreFilter</code>" setting.</P>
    <!-- DONNA -- what should they use instead?  TIM ANSWERS: The implicit score filtering 
    bases upon '.' or '+' is confusing and not used by other item based tracks.  
    Ideally, score filtering is specifically requested by "scoreFilter #", which 
    would make "noScoreFilter on" the unneeded default. -->
    <P><B>Example:</B></P>
    <pre>
    type bigBed 6 +
    noScoreFilter on    </pre>
</DIV>

<DIV class="spectrum"><span class="types all"></span>
<div class="format">
    <code>spectrum on</code><BR>
    <code>scoreMax &lt;integer&gt;</code><BR>
    <code>scoreMin &lt;integer&gt;</code></div>
    <P>Replaces <code>useScore</code>.</P>
    <P>If your track is a
    <code>bed 5</code> or greater, then the standard bed <code>score</code>
    field exists.  This score, which is expected to vary from 0-1000,
    can be used to control the shading of bed items drawn in the Browser
    image.  To activate this feature, set <code>spectrum on</code>.
    Lower scores will be shaded in light gray by default, while higher
    scores will trend towards black.  This can be modified in a number of ways:</P>
    <UL>
    <LI> <code><A onclick="jumpTo(this)" HREF="#">color</A></code>
    can be used to replace gray scale with a color scale</LI>
    <LI> <code><A onclick="jumpTo(this)" HREF="#">altColor</A></code>
    with <code><A onclick="jumpTo(this)" HREF="#">color</A></code> can vary items from
    color to altColor</LI>
    <LI><code><A onclick="jumpTo(this)" HREF="#">minGrayLevel</A></code>
    can be used to set the level of the lightest shade</LI>
    <LI> <code>scoreMin</code>
    and <code>scoreMax</code> can be used to define the lower and upper limits of 
    the range that will receive graded shading</LI>
    </UL>
    <P><B>Example:</B></P>
    <pre>
    spectrum on
    scoreMin 700
    scoreMax 900
    color 0,0,128    </pre>
    <P>In this example, the track items will be
    displayed in blue. Items with scores less than or equal to 700 will be shown in very 
    light blue,
    those with scores between 700 and 900 will display in increasingly darker shades of blue, 
    and items
    with scores greater than or equal to 900 above will display in dark blue.</P>
</DIV>

<DIV class="thickDrawItem"><span class="types bed bigBed"></span>
<div class="format"><code>thickDrawItem &lt;off/on&gt;</code></div>
    <P>In bed tracks that
    have 8 or more standard bed fields, portions of items in tracks such as
    gene models can be drawn thicker to differentiate exon regions from introns.
    When data is displayed at different scales, the items and the thick
    portions of the items should scale proportionally.  However, it
    may be more important to see the existence of the thick regions
    than it is to attempt to maintain the proportion.  By setting
    thickDrawItem on, the thick display regions of items are always drawn at a minimum 
    of 3 pixels, even when zoomed out greatly.</P>
    <P><B>Example:</B></P>
    <pre>   thickDrawItem on</pre>
</DIV>

<DIV class="bedFilter"><span class="types bed"></span>
<div class="format"><code>bedFilter on</code></div>
    <P><I>FOR BEDS ONLY</I></P>
    <P>
    Activating this setting provides the bed filter type controls that allow you to filter
    bed items by name with wildcard matching.
    </P>
    <!-- <P><I>TODO: this should
    be rewritten to be allowed on any item based data source and not
    exclude other filtering options as well.  (That is, convert this
    to filterByWild or filterByWildList)</I>
    </P> -->
    <P><B>Example:</B></P>
    <pre>   bedFilter  on</pre>
    <P>The bed track will be be filterable by the bed
    item names.</P>
</DIV>

<DIV class="bedNameLabel"><span class="types bed bigBed"></span>
<div class="format"><code>bedNameLabel &lt;label&gt;</code></div>
    <P>When a user clicks on a bed track item in the Browser image, 
    the item detail page is shown. This setting specifies an 
    alternate label for the item name on that page. Without this
    setting, the label will be "Item:".</P>
    <P><B>Example:</B></P>
    <pre>   bedNameLabel Gene Id</pre>
</DIV>

<DIV class="baseColorUseSequence"><span class="types all"></span>
<div class="format"><I>Related settings:</I><BR>
    <code>baseColorUseSequence &lt; &lt;extFile {seqTable} &lt;extFile&gt; /
                        hgPcrResult / lfExtra / nameIsSequence / seq1Seq2 / ss &gt;</code></div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <!-- DONNA -- redo -->
    <P>Specifies where
    item sequence can be found (if any) so that item sequence, or
    differences from genomic sequence, can be drawn when viewing a
    sufficiently small region.
    </P>
    <UL>
    <LI>If <code>extFile</code> is
    specified, two additional parameters are required, the name of
    the seq table followed by the name of the extFile table to use
    in looking up the sequence. These tables are loaded by hgLoadSeq.
    </LI>
    <LI>If
    <code>hgPcrResult</code> is specified than a PCR result is
    used.</LI>
    <LI>If <code>lfExtra</code>
    is specified then the sequence of an item is found in the last
    column of the table or remote file.</LI>
    <LI>If
    <code>nameIsSequence</code> is specified then the 4th column (<code>name</code> or
    <code>sequence</code>) contains the sequence. (see
    hg/lib/encode/tagAlign.as)</LI>
    <LI>If <code>seq1Seq2</code>
    is specified then the 7th &amp; 8th columns (<code>seq1</code> and <code>seq2</code>)
    contain the left and right pairs of the sequence. (see
    hg/lib/encode/pairedTagAlign.as)</LI>
    <LI>If <code>ss</code> is specified then a
    user provided a user provided blat sequence fole is looked for.</LI>
    </UL>
</DIV>

<DIV class="baseColorUseCds"><span class="types bed genePred psl"></span>
<div class="format"><code>baseColorUseCds &lt;given/table &lt;table&gt;&gt;</code></div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>Specifies where coding sequence (CDS)
    coordinates can be found (if any) so that codons can be drawn
    when viewing a sufficiently small region.  If <code>table</code> is
    specified, an additional parameter of a table name, in cdsSpec
    format, is required.</P>
</DIV>

<DIV class="baseColorDefault"><span class="types all"></span>
<div class="format"><code>baseColorDefault
                    &lt;diffBases/diffCodons/itemBases/itemCodons/genomicCodons&gt;</code></div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>Specifies the default drawing mode.
    The <code>itemBases</code>, <code>itemCodons</code>, <code>diffBases</code> and
    <code>diffCodons</code> options are applicable only if the track has sequence, as
    specified by the <code>baseColorUseSequence</code> setting.  
    The <code>genomicCodons</code>, <code>itemCodons</code> and <code>diffCodons</code> are
    applicable only if the track has CDS info, as specified by the <code>baseColorUseCds</code>
    setting.</P>
</DIV>

<DIV class="baseColorTickColor"><span class="types bed bigBed"></span>
<div class="format"><code>baseColorTickColor &lt;lighterShade/contrastingColor&gt;</code></div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>Choose a <code>contrastingColor</code> (this is often
    white) or <code>lighterShade</code> of color. This should be the
    same color as would be chosen for the base text if the user were
    zoomed in to base level.</P>
</DIV>

<DIV class="showDiffBasesAllScales"><span class="types all"></span>
<div class="format"><code>showDiffBasesAllScales on</code></div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>Show base differences for all zoom levels.</P>
    <!-- DONNA -- how do you show the differences?  -->
</DIV>

<DIV class="showDiffBasesMaxZoom"><span class="types all"></span>
<div class="format"><code>showDiffBasesMaxZoom &lt;basesPerPixel&gt;</code></div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>Show annotations highlighting base or codon differences
    only if current zoom level does not exceed 
    <code>basesPerPixel</code> (a float).  <code>showDiffBasesAllScales</code>
    should also be set to make this useful.</P>
</DIV>

<DIV class="showCdsAllScales"><span class="types psl"></span>
<div class="format"><code>showCdsAllScales on</code></div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>Show CDS for PSL tracks at all zoom levels.</P>
</DIV>

<DIV class="showCdsMaxZoom"><span class="types psl"></span>
<div class="format"><code>showCdsMaxZoom &lt;basesPerPixel&gt;</code></div>
    <P><I>NOT FOR HUBS.  Not yet supported by bigBeds</I></P>
    <P>Use this setting (a float) to specify the maximum zoom-out allowed for displaying the CDS 
    for psl tracks. 
    In conjunction with this setting, <code>showCdsAllScales</code> must be set on and 
    <code>showDiffBasesMaxZoom</code>
    should be set to a value not more than <code>showCdsMaxZoom</code> to make this
    display configuration useful.</P>
    <P><hr class="example" /><B>Examples:</B></P>
    <pre>
    baseColorDefault genomicCodons
    baseColorUseCds given
    showDiffBasesMaxZoom 10000.0
    showCdsMaxZoom 10000.0
    baseColorUseCds table hgFixed.transMapGeneUcscGenes
    baseColorUseSequence lfExtra
    baseColorDefault diffCodons
    baseColorTickColor lighterShade
    showDiffBasesAllScales .
    showCdsAllScales .    </pre>
    <!-- DONNA -- redo 
    <P><I>TODO: Explain examples, expand option explanation</I></P>
    DONNA -- finish -->
</DIV>

<DIV class="exonArrowsDense"><span class="types bed"></span>
<div class="format"><code>exonArrowsDense &lt;off/on&gt;</code></div>
    <P>On tracks that show
    exons or blocks within items, exon arrows allow the user to jump to
    the next exon/block outside the image.  Use this setting to
    display exon arrows even when the track is in dense mode.</P>
</DIV>

<DIV class="itemDetailsHtmlTable"><span class="types bed genePred psl"></span>
<div class="format"><code>itemDetailsHtmlTable &lt;table&gt;</code></div>
    <P><I>NOT FOR HUBS.  Supplemental table must be in local database.</I></P>
    <P>Use this setting to specify a table, indexed by item name, that
     contains an optional HTML fragment to display on the details page for
     this item.  The expected columns in the table are "name" and "html".</P>
    <P><B>Example</B>:</P>
    <pre>   itemDetailsHtmlTable pseudoGeneDetails</pre>
</DIV>

<DIV class="itemImagePath"><span class="types bed"></span>
<div class="format"><code>itemImagePath &lt;path&gt; &lt;suffix&gt;</code><BR>
    <code>itemBigImagePath &lt;path&gt; &lt;suffix&gt;</code></div>
    <!-- <P><I>Not found in any of the Genome Browser trackDb.ra files.  Custom or dataHub 
    setting.</I></P> -->
    <P>Items can be
    associated with images and the images can be made visible with
    these two settings.  The <code>itemImagepath</code> specifies a
    URL path to a directory with image files named in the format 
    <code>{name}.{suffix}</code>.  The name is retrieved from the table or remote data
    file.  This image will be displayed on the item detaiIs page.  If
    <code>itemBigImagePath</code> is also supplied, then a link to a
    larger image will be provided.  If the path provided is local to
    the browser then the path should be relative.</P>
    <P><B>Example</B>:</P>
    <pre>
    itemImagePath images/myTrackImages png
    itemBigImagePath http://bigImages.com/myTrackImages jpg    </pre>
    <P>When the user clicks
    on a item named fred, then the item details page will show
    the image <code>images/myTrackImages/fred.png</code> and will also
    provide a link to a larger image at
    <code>http://bigImages.com/myTrackImages/fred.jpg</code>.</P>
</DIV>

<DIV class="mafTrack"><span class="types bed"></span>
<div class="format"><code>mafTrack &lt;trackName&gt;</code></div>
    <P><I>NOT FOR HUBS</I></P>
    <P>By specifying a multiple alignments track, the item details page
    will illustrate the differences for that item across a number of species.
    </P>
    <P><B>Example:</B></P>
    <pre>   mafTrack multiz46way</pre>
</DIV>

<DIV class="nextExonText"><span class="types all"></span>
<div class="format">
    <code>nextExonText &lt;str&gt;</code><BR>
    <code>prevExonText &lt;str&gt;</code></div>
    <P>For tracks that
    offer multiple block items such as gene models, the next/previous
    exon arrows are usually displayed by default in the Browser.  The functionality of
    these tiny arrows is described by mouse-over "tool tips"
    that default to "Next Exon" and "Prev Exon".
    If the blocks do not represent exons, you can adjust the tool tip text to the
    appropriate information with these two settings.</P>
    <P><B>Example:</B></P>
    <pre>
    nextExonText "Next Match"
    prevExonText "Previous Match"    </pre>
</DIV>

<DIV class="showTopScorers"><span class="types bed bed5FloatScoreWithFdr bed5FloatScore"></span>
<div class="format"><code>showTopScorers #</code></div>
    <P>Use this setting to
    show a list of some number of top-scoring items in a region of the genome, when
    looking at an individual item in the item details page.  The
    region will cover the current browser window coordinates.
    Currently this setting is not configurable.</P>
    <P><B>Example</B>:</P>
    <pre>   showTopScorers 20</pre>
</DIV>

<DIV class="bed_example"><span class="types bed bigBed broadPeak"></span>
<div class="format"><B>Examples of item base types</B></div>
    <pre>
    type bed 3    </pre>
    <P>The simplest bed
    format, with nothing more than a chromosome and the start and stop
    coordinates for each bed item.  There is nothing to configure.</P>

    <pre>
    type bed 6 +
    colorByStrand 255,0,0 0,0,255
      ...

    type bigBed 6 +
    colorByStrand 255,0,0 0,0,255
      ...    </pre>
    <P>The type setting for
    a bed and a bigBed are nearly identical.  Here, both type settings
    specify a track with the first 6 standard bed fields defined
    (up to <code>strand</code>) and with additional fields defined
    after those 6 (indicated by the '<code>+</code>'). The
    <code>colorByStrand</code> setting configures the plus strand items
    to be colored red, while the minus strand items are blue.</P>

    <pre>
    type bigBed 8 .
    scoreFilter 700
    scoreFilterLimits 100:1000
    thickDrawItem on
    spectrum on
    scoreMin 700
    scoreMax 900
    color 0,0,128
    minGrayLevel   4
      ...    </pre>
    <P>A bigBed track with
    the first 8 standard bed fields (through <code>thickEnd</code>),
    and no additional fields.  The '<code>.</code>' tells
    the Browser that the user may configure this track.  The score
    filter is explicitly declared to default to 700, and the defined
    range of 100 - 1000 suggests there are no values of interest below 100. 
    This example also colors the items blue and presents
    a spectrum or gradation of darkness based upon the score range.
    Items with a score or 700 or less are displayed as the lightest shade of
    blue, and items with a score of 900 or more are the darkest blue.  Finally, 
    the <code>minGrayLevel</code> ensures that the lightest shade is visible 
    to the user.  No doubt the value of '4' was chosen after experimentation 
    with the Browser display.</P>

    <pre>
    type broadPeak
    pValueFilter 2.0
    pValueFilterLimits 0.0:300.0    </pre>
    <P>This track is a
    essentially a bed 6+3 format dataset, but it has been defined with
    special features for ENCODE.  The pValueFilter applies to a field
    named pValue which is one of the 3 additional fields after the
    standard 6.</P>
</DIV>

<DIV class="bigBed_example"><span class="types bigBed"></span>
<div class="format"><B>Examples of item base types</B></div>
    <pre>
    type bigBed 6 +
    colorByStrand 255,0,0 0,0,255
      ...    </pre>
    <P>The type setting for
    a bed and a bigBed are nearly identical.  Here, both type settings
    would define a track with the first 6 standard bed fields defined
    (up to <code>strand</code>) and with additional fields defined
    after those 6.  Notice that plus strand items are colored red,
    while minus strand items are blue.</P><BR>

    <pre>
    type bigBed 8 .
    scoreFilter 700
    scoreFilterLimits 100:1000
    thickDrawItem on
    spectrum on
    scoreMin 700
    scoreMax 900
    color 0,0,255
    minGrayLevel   4
      ...    </pre>
    <P>A bigBed track with
    the first 8 standard bed fields (through <code>thickEnd</code>),
    and no additional fields.  The '<code>.</code>' is required to tell
    the Browser that the user may configure this track.  The score
    filter is explicitly declared to default to 700, and an allowable
    range for the score suggests there are no values below 100 worth
    looking at.  This example also sets the items to blue and presents
    a spectrum or gradation of darkness based upon the score range.
    Items with score 700 or less are the lightest, and items with
    score 900 or more are the darkest blue.  Finally the lightest
    shade set to be not too light with the poorly named <code>minGrayLevel</code>
    setting.  No doubt 4 was chosen after experimentation to see how
    it actually looks in the Browser.</P><BR>
</DIV>


<!-- - - - - - - - WIG/BIGWIG settings - - - - - - - -->
<DIV class="wig_intro">
<H3>wig, bigWig, and bedGraph: Signal graphing tracks </H3>
    <P>Another set of common track types is one that graphs a density signal along
    the genome. The graph can be a continuously varying density plot or
    one that displays a density signal in only certain regions.  The
    oldest and simplest of these is of <code>wig</code> format. This type has been
    improved as a <code>bedGraph</code> and then greatly enhanced as a <code>bigWig</code>.
    While there are differences among the formats, all support the basic
    graph configuration controls.  For detailed specifications of each
    type and how to prepare them for display in the Genome Browser please
    see the <A HREF="../../../FAQ/FAQformat.html">FAQ</A>.</P>
</DIV>

<DIV class="bigWig_intro">
<H3>bigWig:  Signal graphing tracks </H3>
    <P>Another set of common track types are those that graph a density signal along
    the genome. The graph can be a continuously varying density plot or
    one that displays a density signal in only certain regions.  For data hubs
    the most common signal track type is <code>bigWig</code>.
    For detailed specifications of the <code>bigWig</code> remote data
    file format and how to prepare it for display in the Genome Browser please
    see: <A HREF="../bigWig.html">
    http://genome.ucsc.edu/goldenPath/help/bigWig.html</A>.</P>
</DIV>

<DIV class="wig"><span class="types wig bigWig"></span>
<div class="format">
    <code>type wig &lt;low#&gt; &lt;high#&gt;</code><BR>
    <code>type bigWig &lt;#&gt; &lt;#&gt;</code></div>
    <P>MySQL tables of type
    <code>wig</code> and remote data files of type <code>bigWig</code>
    must declare the expected signal range for
    the data.</P>
    <P><em>Examples can be found below.</em></P>
</DIV>

<DIV class="bigWig"><span class="types bigWig"></span>
<div class="format">
    <code>type bigWig &lt;#&gt; &lt;#&gt;</code></div>
    <P>The remote data files of type <code>bigWig</code>
    must declare the expected signal range for
    the data.</P>
    <P><em>Examples can be found below.</em></P>
</DIV>

<DIV class="minLimit"><span class="types bedGraph"></span>
<div class="format">
    <code>type bedGraph &lt;field&gt;</code><BR>
    <code>minLimit &lt;#&gt;</code><BR>
    <code>maxLimit&lt;#&gt;</code></div>
    <P>The bedGraph type
    track has the same file format as a bed file, but is loaded into
    the MySQL database in a form that can be graphed.  By default the
    value to be graphed is the fifth standard bed field,
    <code>score</code>;  however, you can specify a different field to use.
    Typically only the first 3 standard bed fields are included
    (<code>chrom</code>, <code>start</code>, <code>stop</code>) and the fourth field
    contains the signal value.  The bedGraph track offers
    a couple of important improvements over the wig track.  In wig
    tracks, the value of the signal is truncated into a single byte,
    which is effective for graphing but fails at data storage.  Also
    the wig type was originally designed for fixed-size windowing, though
    variations were added.  The bedGraph type allows for variable
    windowing and defining values even down to the base level.  To be
    clear, bigWig tracks are as versatile as bedGraphs.  It is
    only the wig format that suffers from these limitations.</P>

    <P>On the other hand the storage density of wig, particularly the fixed step
    variant, is vastly denser than bedGraph. In cases where the data is solely
    meant for display, the 256 levels supported by wig more than suffice.  For
    single-base or even 10-base level resolutions, bedGraph is generally not practical
    genome-wide.  Note also that wigs converted to bigWigs do not suffer the reduced
    precision of wigs loaded directly into the database.   A bigWig based on fixedStep
    wigs is the best way to represent dense graphs over the genome.</P>

    <P>Note that the lower and upper limits of the bedGraph signal are not declared in the type, 
    but rather are declared with 2 separate settings, <code>minLimit</code> and
    <code>maxLimit</code>.
    </P>
    <!--  <P><I>TODO: Deprecate minLimit/maxLimit.</I></P> -->
    <P><em>Examples can be found below.</em></P>
</DIV>

<DIV class="alwaysZero"><span class="types wig bedGraph bigWig"></span>
<div class="format"><code>alwaysZero  &lt;off/on&gt;</code></div>
    <P>When autoScale is set to "on" in the signal track, 
    additionally setting <code>alwaysZero</code> to "on" will ensure that the y=0
    value will be in view at all times. Default: off.
    </P>
</DIV>

<DIV class="autoScale"><span class="types wig bigWig bedGraph"></span>
<div class="format"><code>autoScale &lt;off/on&gt;</code></div>
    <P>The graph of the
    data displayed in the Browser image is usually scaled on the y
    axis in absolute coordinates.  However, you can display the data
    in autoScale which will ensure that the high score in the current
    viewing window will peak at the top of the graph.  Like most graph settings, 
    this is configurable by the user.  Setting it to "<code>on</code>" in trackDb will default 
    the track to <code>autoScale</code>. Default: off.</P>
    <P>NOTE: this option
    should be avoided if it will lead to display regions in which a low signal
    erroneously appears as significant because there is no high signal in the
    view window.</P>
    <P><B>Example:</B></P>
    <pre>   autoScale on</pre>
</DIV>

<DIV class="graphTypeDefault"><span class="types wig bigWig bedGraph"></span>
<div class="format"><code>graphTypeDefault points</code></div>
    <P>The signal can be
    graphed as either "<code>points</code>" displayed at the signal
    value, or the default space-filling "<code>bars</code>".</P>
    <P><B>Example:</B></P>
    <pre>   graphTypeDefault points</pre>
</DIV>

<DIV class="maxHeightPixels"><span class="types wig bigWig bedGraph"></span>
<div class="format"><code>maxHeightPixels &lt;max:default:min&gt;</code></div>
    <P>The amount of
    vertical viewing space for your signal track should be declared,
    though it is configurable by the user.  Typically it is set to no
    more than 100 pixels and no less than 8, with a default of 16 or
    32 pixels.</P>
    <P><B>Example:</B></P>
    <pre>   maxHeightPixels 100:16:8</pre>
    <P>The browser will display the track as 16 pixels high, but the user
    can scale it up to 100 pixels.</P>
</DIV>

<DIV class="maxWindowToQuery"><span class="types bed bigWig bedlogR"></span>
<div class="format"><code>maxWindowToQuery &lt;integer&gt;</code></div>
    <P><I>For bigWigs only</I></P>
    <P>When signal data is clicked in the Browser image, the details of the signal
    in the current viewing window are displayed.  For bigWigs that
    reference remote data, the query can be a very expensive operation if the current window 
    is large.  To avoid overburdening the Browser, the size of the window to
    query should be limited.  The value of this setting is the maximum window size in bases that
    should be queried to give the detailed signal numbers.</P>
</DIV>

<DIV class="spanList"><span class="types wig"></span>
<div class="format"><code>spanList &lt;s1&gt;[,s2&hellip;]</code></div>
    <P><I>NOT FOR HUBS.  For wig tracks only.</I></P>
<!-- DONNA - redo -->
    Sets the data point span to just be the first span in table or list of spans in
    the loaded table you can find the spans by doing:
    "<code>select span from &lt;table&gt; group by span</code>".
    Typically spanList is only one as the example shows. Rarely there may be
    more: <BR>"<code>spanList 1,1000</code>".
    Special efforts must be made to load extra
    spans into the table for special purposes.</P>
    <P><B>Example:</B></P>
    <pre>   spanList 1</pre>
</DIV>

<DIV class="smoothingWindow"><span class="types wig bigWig bedGraph"></span>
<div class="format"><code>smoothingWindow &lt;off/1-16&gt;</code></div>
    <P>Often signal
    information is chunky, because a single value is given for a number of
    bases.  The graph can smooth the chunky data, presenting a display
    more reflective of the actual biology it is meant to illustrate.
    The numerical value of this setting determines how much
    surrounding data to use for smoothing: the larger the number, the
    less abrupt the curves will be.  The setting is user-configurable. Default: off.</P>
    <P><B>Example:</B></P>
    <pre>   smoothingWindow 4</pre>
</DIV>

<DIV class="transformFunc"><span class="types wig bigWig bedGraph bed"></span>
<div class="format"><code>transformFunc &lt;NONE/LOG&gt;</code></div>
    <P>The track's signal
    can be presented in log scale with this user-configurable setting. Default: NONE.</P>
    <P><B>Example:</B></P>
    <pre>   transformFunc LOG</pre>
</DIV>

<DIV class="viewLimits"><span class="types wig bigWig bedGraph"></span>
<div class="format">
    <code>viewLimits &lt;lower:upper&gt;</code><BR>
    <code>viewLimitsMax &lt;lower:upper&gt;</code></div>
    <P>The data of most interest in a graph
    track may be contained within a narrow range.  Typically 
    high outlier values can skew a graph and very low values may
    represent uninteresting data.  Use viewLimits to set the default
    viewing range.  Also use viewLimitsMax as suggested outer bounds.</P>
    <P><B>Example:</B></P>
    <pre>
    viewLimits 5:20
    viewLimitsMax0:100    </pre>
    <P>Any data points of 20 or above will be
    shown as the peak of the graph.  Data points that are below 5
    will not be displayed.  Even though the full data range extends to
    100, these settings suggest that scores of 20 or more are all
    considered highly relevant.</P>
</DIV>

<DIV class="wigColorBy"><span class="types wig"></span>
<div class="format"><code>wigColorBy &lt;bedTable&gt;</code></div>
    <P><I>NOT FOR HUBS.  For wig tracks only.</I></P>
    <P>Regions of the
    graphed signal may be highlighted by color.  Use a bed 
    table and the <code>color</code> settings to shade regions of the wig
    track.</P>
    <P><B>Example:</B></P>
    <pre>
    wigColorBy myBed
    color 175,150,128
    altColor 255,128,0    </pre>
    <P>The bed-type table "myBed" is used to highlight
    regions of graphed signal based upon the scores in that table.
    The table may itself be a visible track, or may exist only for the
    purpose of highlighting the signal track.</P>
</DIV>

<DIV class="windowingFunction"><span class="types wig bigWig bedGraph"></span>
<div class="format"><code>windowingFunction  &lt;mean/mean+whiskers/maximum/minimum&gt;</code></div>
    <P>Depending upon how large of a genomic region
    is displayed in the Browser image, it may be necessary to summarize
    the actual signal.  This user-configurable setting controls how the Browser 
    collapses the signal from (for example) 100 or 100 thousand bases down to
    a single pixel.  By default
    the single pixel represents the <code>mean</code> of the data, though the
    <code>maximum</code> or <code>minimum</code> can alternatively be displayed.  A more informative
    option is often <code>mean+whiskers</code>.  This setting displays the
    mean, max and one standard deviation above mean, differentiated by shading. 
    The mean is displayed as the darkest shade, one stdDev above mean as 
    slightly lighter, and the max as the lightest shade.
    This subtle shading can quickly indicate if the
    condensed data is hiding important information that can 
    be adequately evaluated only by zooming in.</P>
    <P><B>Example:</B></P>
    <pre>   windowingFunction mean+whiskers</pre>
    <P>When zoomed out, this track will show the mean
    signal but include shading representing higher scores.  The user
    may change this setting.</P>
</DIV>

<DIV class="yLineMark"><span class="types wig bigWig bedGraph"></span>
<div class="format">
    <code>yLineMark &lt;#&gt;</code><BR>
    <code>yLineOnOff &lt;off/on&gt;</code><BR>
    <code>gridDefault   on</code></div>
    <P>It can be useful to
    draw a line across the track's signal graph at some fixed y
    coordinate.  Do this by setting <code>yLineOnOff</code> to "on" and specifying the
    y coordinate with <code>yLineMark</code>.  These two settings are
    configurable by the user. Defaults: off and 0.0.</P>
    <P>Often confused with
    these configurable settings is the <code>gridDefault</code>, which simply draws a
    a line at y=0 across your entire track.  This setting might be
    useful if the lack of data is equivalent to a 0 signal.</P>
    <P><B>Example:</B></P>
    <pre>
    yLineOnOff on
    yLineMark 2.5
    gridDefault on    </pre>
    <P>The signal is graphed with a default solid line
    at zero, suggesting that any gaps in data should be interpreted as
    zero signal.  There will also be a line at the signal height of 2.5
    that may be used to emphasize which peaks in the signal reach
    this critical height.</P>
</DIV>

<DIV class="wig_example"><span class="types wig bigWig bedGraph"></span>
<div class="format"><B>Examples of signal graphing tracks</B></div>
    <pre>
    type wig 0 100
    windowingFunction maximum
    viewLimits 5:20
    viewLimitsMax 0:100
    maxHeightPixels 100:16:8
    spanList 1
    wigColorBy myBed
      ...  </pre>
    <P>This wiggle track is
    composed of a MySQL table and binary "wib" files that
    are referenced in the table.  The default windowing
    function is the maximum signal in each window (under each pixel)
    shown.  The span of bases covered by each row in
    the table is identical and can be gathered from the first row in
    the table.  The wiggle has colors supplied by the bed
    table, myBed.</P>

    <pre>
    type bigWig -0.25 37.6
    windowingFunction mean+whiskers
    viewLimits 5:20
    viewLimitsMax 0:37.6
    maxHeightPixels 100:32:8
    yLineOnOff on
    yLineMark 15
    gridDefault on
    color 128,0,128
      ...  </pre>
    <P>This bigWig format
    signal is held in a data file (which may be remote).  The more
    informative mean+whiskers windowing function is used by default in
    this track, and the signal will be 32 pixels high in the Browser
    image display.  Note that even though the signal value may be
    less than zero, that portion of the signal will not be
    displayed.  The Browser will display a line at y=0 and another at y=15, which
    may be a threshold value for this signal.  The track will be colored purple.</P>

    <pre>
    bedGraph 4
    minLimit 0
    maxLimt 20
    viewLimits 5:8
    viewLimitsMax 0:20
    maxHeightPixels 100:16:8
      ...  </pre>
    <P>This bedGraph style signal track is composed of
    a MySQL table of items, each with a score defined in the fourth
    column.  While a wiggle track is usually composed of fixed
    interval windows of signal (e.g. 200 bp), the bedGraph table may
    define a signal in varying granularities of windows with or
    without gaps.
    </P>
</DIV>

<DIV class="bigWig_example"><span class="types bigWig"></span>
<div class="format"><B>Example of signal graphing tracks</B></div>
    <pre>
    type bigWig -0.25 37.6
    windowingFunction mean+whiskers
    viewLimits 5:20
    viewLimitsMax 0:37.6
    maxHeightPixels 100:32:8
    yLineOnOff on
    yLineMark 15
    gridDefault on
    color 128,0,128
      ...  </pre>
    <P>This bigWig format
    signal is held in a data file (which may be remote).  The more
    informative mean+whiskers windowing function is used by default in
    this track, and the signal will be 32 pixels high in the Browser
    image display.  Notice that even though the signal value may be
    less than zero, that portion of the signal will not be
    displayed.  The Browser will display a line at y=0 and another at y=15, which
    may be a threshold value for this signal.  The track will be colored purple.</P><BR>
</DIV>


<!-- - - - - - - - GENEPRED settings - - - - - - - -->
<DIV class="genePred_intro">
<H3>genePred: Gene models and predictions</H3>
    <P><I>NOT FOR HUBS.  (None of the settings in this section apply to hubs.)</I></P>
    <P>genePred is a variation of item-based tracks 
    designed especially for displaying gene
    models.  Gene models can be represented in <code>bed 12</code> or <code>bigBed 12</code>
    type tracks, but the genePred table format allows for more detail,
    such as distinguishing between transcript, coding region, and coding
    vs. non-coding exons.  Please refer to the
    <A HREF="http:../../../FAQ/FAQformat.html#format9">FAQ</A>
    for information on how to prepare genePred tables for inclusion in
    the Genome Browser.</P>
</DIV>

<DIV class="genePred"><span class="types genePred"></span>
<div class="format"><code>type genePred [pepTable [mrnaTable]]</code></div>
    <P>This type of track, based on MySQL tables, is for gene models and predictions.
    </P>
    <UL>
    <LI>pepTable - Optional protein sequence table</LI>
    <LI>mrnaTable - Optional representative mRNA table</LI>
    </UL>
    <P>Note that missing
    options can be filled with a '<code>.</code>' dot. Additional settings
    described below allow the grouping of gene models into classes and
    the coloring and filtering of the models by class.</P>
    <P><em>Examples can be found below.</em></P>
</DIV>

<DIV class="geneClasses"><span class="types genePred bed"></span>
<div class="format"><I>Related settings:</I><BR>
    <code>geneClasses &lt;cl1 cl2...&gt;</code></div>
    <P>Genes can be grouped into classes for the
    purposes of coloring and filtering.  The trick is how to
    associate each named gene with its class. Use <code>geneClasses</code> to create a
    list of all gene class names delimited by white space.</P>
</DIV>

<DIV class="gClass_"><span class="types genePred bed"></span>
<div class="format"><code>gClass_&lt;xxx&gt; &lt;red,green,blue&gt;</code></div>
    <P>Declare an RGB color for a named class.</P>
</DIV>

<DIV class="itemClassTbl"><span class="types genePred bed"></span>
<div class="format"><code>itemClassTbl &lt;table&gt;</code></div>
    <P>Declare a MySQL table that will link classes
    to named gene models.</P>
</DIV>

<DIV class="itemClassNameColumn"><span class="types genePred"></span>
<div class="format"><code>itemClassNameColumn &lt;col&gt;</code></div>
    <P>Optionally declare the column of the
    itemClassTbl that will hold the genePred names. Default: 
    <code>name</code>.</P>
</DIV>

<DIV class="itemClassClassColumn"><span class="types genePred"></span>
<div class="format"><code>itemClassClassColumn &lt;col&gt;</code></div>
    <P>Optionally declare the column of the
    itemClassTbl that will hold the class.  Default: <code>class</code>.</P>
    <P><hr class="example" /><B>Example:</B></P>
    <pre>
    geneClasses rRNA tRNA snRNA
    gClass_rRNA 255,0,0
    gClass_tRNA 0,255,0
    gClass_snRNA 0,0,255
    itemClassTbl rnaTypes
    itemClassNameColumn rnaName
    itemClassClassColumn rnaType    </pre>
    <P>In this genePred type track, RNA gene models
    are divided into 3 classes that are colored red, green or blue.
    The association of named gene models in the genePred table
    with the three classes is defined in the "rnaType" table.
    That table holds the RNA type in the "rnaType" column and the
    gene name in the "rnaName" column.</P>
</DIV>

<DIV class="filterBy_genePred"><span class="types genePred"></span>
<div class="format"><code>filterBy &lt;field1:title=[+]option1a...&gt;
                                [field2:title=[+]opt2a...]</code></div>
    <P>Filtering gene models by table column or even
    itemClassTbl column can be achieved by this setting. Complete
    description of this setting can be found in the 
    <A HREF="#filterBy">bed/bigBed</A> item-based track settings. Here is an example for
    referencing the class as found in the table defined by <code>itemClassTbl</code>.  Not all
    track types will support externally referenced tables using <code>filterBy</code>
    as <code>genePred</code> type does.  But if you understand the CGI code that
    performs the table select, then filterBy can provide a powerful extension to
    the SQL selection used.</P>
    <P><B>Example:</B></P>
    <pre>
    geneClasses rRNA tRNA snRNA
    gClass_rRNA 255,0,0
    gClass_tRNA 0,255,0
    gClass_snRNA 0,0,255
    itemClassTbl rnaTypes
    itemClassClassColumn rnaType
    filterBy rnaTypes.rnaType:Class=\
             rRNA|Ribosomal_RNA{color:#FF0000},\
             tRNA|Transfer_RNA{color:#00FF00},\
             snRNA|Small_Nuclear_RNA{color:#0000FF}    </pre>
    <P>When gene models are
    selected from the genePred table for display in the Browser,
    their class is also selected from the "rnaTypes" table.  Using the
    <code>filterBy</code> setting creates a user selectable drop-down list box of
    3 choices or "all".  When the user filters by tRNA and snRNA (the
    green and blue choices), the mySQL select statement used by the
    Browser will be limited by the where clause "<code>where
    rnaTypes.rnaType in ('tRNA','snRNA')</code>".
    </P>
</DIV>

<DIV class="autoTranslate"><span class="types genePred"></span>
<div class="format"><code>autoTranslate 0</code></div>
    <P>By default, a
    predicted protein translation is generated for a gene model when
    a user views it on the details page.  This feature may be blocked 
    by setting <code>autoTranslate</code> to zero.</P>
    <P><B>Example:</B></P>
    <pre>   autoTranslate 0</pre>
    <P> The genPred track
    will NOT show auto-generated protein sequence, perhaps because
    this track is for RNA genes.</P>
</DIV>

<DIV class="intronGap"><span class="types genePred psl"></span>
<div class="format"><code>intronGap &lt;#bases&gt;</code></div>
    <P>In drawing gene models, it can be useful to see
    "exon arrows" when the transcript extends beyond the current
    window.  This setting, which defaults to zero, ensures that these
    arrows will not be drawn if the interceding intron gap is less
    than the stated number of bases.</P>
    <P><B>Example:</B></P>
    <pre>   intronGap 12</pre>
    <P>Don't draw exon arrows when the gap between
    exons is 12 bases or less.</P>
</DIV>

<DIV class="defaultLinkedTables"><span class="types genePred"></span>
<div class="format"><code>defaultLinkedTables &lt;table1&gt;[,table2...]</code></div>
    <P>In hgTables, when selecting output fields,
    display these all.joiner-linked tables by default.</P>
    <P><B>Example:</B></P>
    <pre>   defaultLinkedTables kgXref</pre>
</DIV>

<DIV class="idXref"><span class="types genePred"></span>
<div class="format"><code>idXref &lt;idColumn&gt; &lt;altIdColumn&gt;</code></div>
    <P>By using this setting you can link alternative
    names to the gene models found in a genePred.   This is used by
    the Table Browser to establish links to other tables.</P>
    <P><B>Example:</B></P>
    <pre>
    track knownGenes
    idXref kgAlias kgID alias    </pre>
    <P>The ID in the name column of the knownGenes
    table is related to the alias found in the kgAlias table.</P>
</DIV>

<DIV class="oldToNew"><span class="types genePred"></span>
<div class="format"><code>oldToNew &lt;tableName&gt;</code></div>
    <P>In successive versions of gene models, it can
    be helpful to map older genes to their newer models.  This can be
    done by providing a MySQL table that maps the change, and then using
    this setting to ensure the gene details page shows any changes.</P>
    <P><B>Example:</B></P>
    <pre>
    track knownGeneOld5
    oldToNew kg5ToKg6    </pre>
    <P>The older version of UCSC Genes references
    changes that are seen in the newer version.</P>
</DIV>

<DIV class="genePred_example"><span class="types genePred"></span>
<div class="format"><B>Examples of genePred tracks</B></div>
    <pre>
    type genePred
    oldToNew kg5ToKg6
    baseColorUseCds given
    baseColorDefault genomicCodons
    geneClasses coding nonCoding pseudo
    itemClassTbl myClasses
    gClass_coding 12,12,120
    gClass_nonCoding 0,153,0
    gClass_pseudo 255,51,255
    filterBy myClasses.transcriptClass:Class=\
            coding{color:#0C0C78},\
            nonCoding{color:#009900},\
            pseudo{color:#FF33FF}
      ...    </pre>
    <P>Gene model track
    with defined classes and the option to filter by the color-coded
    classes.  Note the base level coloring option.</P>
    <pre>
    type genePred . mrna
    url http://www.ncbi.nlm.nih.gov/IEB/Research/Acembly/av.cgi?db=hg17&amp;l=$$
    urlLabel AceView Gene Summary:    </pre>
    <P>This gene prediction
    track has associated representative mRNAs found in the "mrna"
    table. There is also an "AceView Gene Summary" url
    presented on the details page.</P>
</DIV>


<!-- - - - - - - - BAM settings - - - - - - - -->
<DIV class="bam_intro">
<H3>bam: Compressed Sequence Alignment/Map tracks</H3>
    <P>The bam format is an
    indexed compressed data format for sequence alignments.  It is ideal
    for remote access of high-throughput sequence tags and is a native
    output format for some high-throughput sequencing (HTS) aligners.
    The format of bam data is data-file pairs, with an index in a separate file.
    These are frequently remote datasets, not residing on the UCSC server.  Please refer to
    the <A HREF="../bam.html">BAM track format page</A>
    and the <A HREF="http://samtools.sourceforge.net/" TARGET=_blank>SAMtools website</A>
    for information on how to create and deploy these remote data files
    for inclusion in the Genome Browser.</P>
</DIV>

<DIV class="bam"><span class="types bam"></span>
<div class="format"><code>type bam</code></div>
    <P>Declares configuration settings for a track of type bam. If the <code>bigDataUrl</code> 
    setting is included, that data at the location specified by that URL will be
    displayed. Otherwise, a database table with a single column <code>fileName</code>
    can specify the location of a local file or a URL.
    If the database table includes a column <code>seqName</code>, a different
    BAM file or URL can be specified for each assembly sequence.</P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="bamColorMode"><span class="types bam"></span>
<div class="format"><I>Related settings:</I><BR>
    <code>bamColorMode &lt;strand/gray/tag/off&gt;</code></div>
    <P>There are numerous ways to color bam tracks
    to highlight certain aspects of the data.  All of these are
    user-configurable.</P>
    <P>Possible settings:</P>
    <UL>
    <LI><code>strand</code>: (Default) When colored by strand, mismatched bases are highlighted in
    <B style="color:#FF0000;">bright red</B>, alignments on the reverse strand are
    colored <B style="color:#880000;">dark red</B>, and alignments on the forward strand are
    colored <B style="color:#000088;">dark blue</B>.</LI>
    <LI><code>gray</code>: When colored in grayscale, items are shaded according to the 
    method specified by <code>bamGrayMode</code>: alignment quality, base qualities, or unpaired
    ends.</LI>
    <LI><code>tag</code>: Colors are specified in "user-defined tags". SAM/BAM may
    include user-defined tags, the names of which begin with X, Y or Z and include one other letter
    or number. The user-defined tag named here specifies red, green and blue (RGB) intensities
    as a zero-terminated string (tag type Z) containing comma-separated triples of numbers
    from 0-255. For example, if a SAM/BAM record includes the tag YC:Z:255,0,0, then the
    item is colored red; YC:Z:0,0,255 makes the item blue. By default, the tag is "YC" unless
    changed using the <code>bamColorTag</code> setting.</LI>
<!-- DONNA - don't understand what he means by "tag named here". TIM answers: I welcome a rewrite 
    here.  In this section "tag" is being used in 2 ways. Sequence "tags" are the bam "items" 
    (akin to bed items).  But "bamColorMode tag" refers to special "tags imbedded in the bam 
    data file.  In both cases I was using the terminology of the art.  High-throughput 
    sequencing often refers to sequence tags as the short stretches of 20-100bp that are 
    aligned to the reference genome.  But the "YC" style codes imbedded in the bam file are 
    also referred to as tags by bam documentation.  Honestly I do not know much about these 
    color tags in the data and tried to use wording that would be recognizable to a bam 
    file creator. -->
    <LI><code>off</code>: No additional coloring.</LI>
    </UL>
</DIV>

<DIV class="bamGrayMode"><span class="types bam"></span>
<div class="format">
    <code>bamGrayMode &lt;aliQual/baseQual/unpaired&gt;</code><BR>
    <code>aliQualRange &lt;min:max&gt;</code><BR>
    <code>baseQualRange &lt;min:max&gt;</code></div>
    <P>When <code>bamColorMode</code> is set to "gray", you
    can highlight one of the following:</P>
    <UL>
    <LI><code>aliQual</code>: (Default) The "alignment qualities" of the items are
    shaded on a scale of 0 (lightest) to 99 (darkest). Use <code>aliQualRange</code>
    to specify a default range.</LI>
    <LI><code>baseQual</code>: "Base qualities" are shaded on a
    scale of 0 (lightest) to 40 (darkest). Use <code>baseQualRange</code>
    to specify a default range.</LI>
    <LI><code>unpaired</code>: When "unpaired ends" is selected, an item that
    was paired in sequencing but whose mate was not mapped is colored gray,
    while singletons and properly paired items are colored black.</LI>
    </UL>
    <P>Refer to the 
    <A HREF="http://samtools.sourceforge.net/" TARGET=_blank>SAM format details</A> 
    for a discussion of these values.</P>
</DIV>

<DIV class="bamColorTag"><span class="types bam"></span>
<div class="format"><code>bamColorTag &lt;XX&gt;</code></div>
    <P>You can also use RGB data associated with
    individual tags within the bam file itself.  Refer to the 
    <A HREF="http://samtools.sourceforge.net/" TARGET=_blank>SAM documentation</A> 
    to understand how the RGB values are included.
    When the <code>bamColorMode</code> is set to "tag", the standard "YC" tag
    is used as the default. The default may be overridden with this setting.
    </P>
</DIV>

<DIV class="noColorTag"><span class="types bam"></span>
<div class="format"><code>noColorTag .</code></div>
    <P>The bam coloring options are all user-configurable within the browser. If your
    bam dataset contains no color tags, this setting should be included to block the
    Browser from offering the option to color tags by an embedded RGB value.</P>
    <P><hr class="example" /><B>Examples:</B></P>
    <pre>
    bamColorMode strand
    noColorTag    </pre>
    <P>Sets the bam to use the default coloring scheme based on strand alignment. At the same time,
    the bam track will not offer the option to color the tags by
    RGB values, perhaps because this bam has no RGB values.</P>
    <pre>
    bamColorMode gray
    bamGrayMode aliQual
    aliQualRange 20:80    </pre>
    <P>These settings
    will highlight tags by alignment quality score.  If the score
    is at 80 or above, the tag is shaded black; if it is less than
    20, the tag is shaded very light gray.</P>
    <pre>
    bamColorMode tag
    bamColorTag YC    </pre>
    <P>The bam file includes RGB values in the YC
    field that will be used to color tags.</P>
</DIV>

<DIV class="bamSkipPrintQualScore"><span class="types bam"></span>
<div class="format"><code>bamSkipPrintQualScore .</code></div>
    <P>Any bam tag can be
    displayed on the details page by clicking on it in the Browser
    image.  The details include quality scores by default.  If these
    scores are not relevant for this particular bam, they may be excluded
    from the details page with this setting.</P>
    <P><B>Example:</B></P>
    <pre>   bamSkipPrintQualScore .</pre>
</DIV>

<DIV class="indelDoubleInsert"><span class="types bam"></span>
<div class="format">
    <code>indelDoubleInsert &lt;off/on&gt;</code><BR>
    <code>indelQueryInsert &lt;off/on&gt;</code><BR>
    <code>indelPolyA &lt;off/on&gt;</code></div>
    <P>Insertion and deletion
    differences between tag sequences and the reference genome can be
    highlighted with the use of these settings. These options may be
    set by the user.</P>
    <UL>
    <LI> <code>indelDoubleInsert</code>: Use to highlight alignment gaps in both the target
    (reference) and query (tag) sequence with double (<B>=</B>) lines.</LI>
    <LI> <code>indelQueryInsert</code>: Use to highlight an insert in the query
    sequence only by drawing an orange (<B style="color:orange;">|</B>)
    or purple (<B style="color:purple;">|</B>) vertical line.
    Orange lines show unalignable regions in the middle of a sequence,
    and purple highlights regions at the end of the query sequence.</LI>
    <LI><code>indelPolyA</code>: Use to highlight an apparently valid
    poly-a tail by drawing a vertical green line (<B style="color:green;">|</B>).</LI>
    </UL>
    <P><B>Example:</B></P>
    <pre>
    baseColorUseSequence genbank
    indelDoubleInsert on
    indelQueryInsert on
    indelPolyA on    </pre>
</DIV>

<DIV class="minAliQual"><span class="types bam"></span>
<div class="format"><code>minAliQual &lt;#&gt;</code></div>
    <!-- <P><I>Not found in UCSC's trackDbs</I></P> -->
    <P>When the Browser image is zoomed in to the level where individual tags are visible, the 
    tags in a bam file can be filtered to show only those with a minimum alignment quality score.
    This is a user-configurable setting. Default: 0.</P>
    <P><B>Example:</B>
    </P>
    <pre>   minAliQual 20</pre>
</DIV>

<DIV class="pairEndsByName"><span class="types bam"></span>
<div class="format"><I>Related settings:</I><BR>
    <code>pairEndsByName .</code></div>
    <P>Some high-throughput sequencing technologies
    result in "paired end" tags, which are two individual bam
    records joined by their name.  If this is the case with your
    dataset, include this setting.</P>
</DIV>

<DIV class="pairSearchRange"><span class="types bam"></span>
<div class="format"><code>pairSearchRange &lt;#&gt;</code></div>
    <!-- <P><I>Not found in UCSC's trackDbs</I></P> -->
    <P>Searching to join pairs of tags by name
    will be limited to a maximum distance (default: 20,000
    bases). Use a larger range to increase the likelihood that both
    reads in a pair will be found even when only one read is in
    the viewed region.  Use a smaller range to speed image rendering.</P>
    <P><hr class="example" /><B>Example:</B></P>
    <pre>
    pairedEndsByName .
    pairSearchRange 5000    </pre>
    <P>The dataset includes paired end tags. The maximum search range to join tag pairs
    by name is capped at 5000.</P>
</DIV>

<DIV class="showNames"><span class="types bam"></span>
<div class="format"><code>showNames &lt;on/off&gt;</code></div>
    <P>When the Browser image is zoomed in to the level where individual tags are viewable,
    the query name for each tag is shown by default.  Use this setting to hide this name.</P>
    <P><B>Example:</B></P>
    <pre>   showNames off</pre>
</DIV>

<DIV class="bam_example"><span class="types bam"></span>
<div class="format"><B>Example of a bam track</B></div>
    <pre>
    type bam
    bigDataUrl http://hgdownload/ucsc.edu/goldenPath/hg19/bambam/barneysSon.bam
    pairEndsByName on
    showNames off
    bamColorMode off
    bamGrayMode aliQual
    indelDoubleInsert on
    indelQueryInsert on
    maxWindowToDraw 10000
      ...    </pre>
    <P>The bam data is held in the file "barneysSon.bam" which is at an 
    internet-accessible location.  In addition to the data file, an
    associated index file must reside at the same location. The index file must have the
    same name as the data file, with ".bai" appended (e.g. <code>barneysSon.bam.bai</code>).</P>
</DIV>


<!-- - - - - - - - PSL settings - - - - - - - -->
<DIV class="psl_intro">
<H3>psl: Sequence alignments</H3>
    <P><I>NOT FOR HUBS.  (None of the settings in this section are available for hubs, 
    although it is likely that hub support will be added in the future.)</I></P>
    <P>PSL is an alignment format in which the data is typically taken from files generated
    by BLAT or psLayout.  For further information about this format
    please refer to the <A HREF="../../../FAQ/FAQformat.html#format2">FAQ</A> and
    <A HREF="../hgTracksHelp.html#BLATAlign" TARGET="_blank">BLAT 
    documentation</A>.</P>
</DIV>

<DIV class="psl"><span class="types psl"></span>
<div class="format"><code>type psl &lt;subtype&gt; [otherDb]</code></div>
    <P>The psl type tracks
    require the specification of a subtype: <code>est</code>, <code>mrna</code>,
    <code>protein</code> or <code>xeno</code>.  The default, which is
    represented as ".", is regular human mRNA.  When the <code>xeno</code> subtype
    is selected, an additional optional parameter may be set to specify the other species
    assembly.  If present, the alignments can be color-coded by
    chromosome, and the chromosome and position (in kilobases) are shown
    in the alignments label.</P>
    <P><em>Examples can be found below.</em></P>
</DIV>

<DIV class="blastRef"><span class="types psl"></span>
<div class="format"><code>blastRef &lt;assembly.table&gt;</code></div>
    <P>Include a blastRef
    to an assembly and table that contains geneId and position
    retrievable by accession id.  This information will be displayed
    in the item name.</P>
<!-- DONNA - what is a blastRef? -->
    <P><B>Example:</B></P>
    <pre>   blastRef hg17.blastKGRef02</pre>
</DIV>

<DIV class="colorChromDefault"><span class="types psl"></span>
<div class="format"><code>colorChromDefault off</code></div>
    <P>For psl tracks of
    subtype <code>xeno</code>, the alignments may be colored to indicated their 
    location in the other species.  This setting is turned on by default 
    when the other species is specified in the <code>type psl</code>
    setting.  Use this setting to turn off chromosome coloring by default,
    offering the user the choice to turn it on. 
    </P>
    <P><B>Example:</B></P>
    <pre>
    type psl xeno loxAfr1
    otherDb loxAfr1
    colorChromDefault off    </pre>
</DIV>

<DIV class="pred"><span class="types psl"></span>
<div class="format"><code>pred &lt;assembly.table&gt;</code></div>
    <P>Use the pred setting
    to name an assembly and table containing protein sequence data for
    the named alignments.</P>
    <P><B>Example:</B></P>
    <pre>  pred hg18.blastKGPep04</pre>
</DIV>

<DIV class="pslSequence"><span class="types psl"></span>
<div class="format"><code>pslSequence &lt;no/all/different&gt;</code></div>
    <P>This setting specifies some display configuration options for
    psl tracks that also have sequence loaded.  
    <UL>
    <LI><code>all</code>: Display nucleotide labels on all bases.</LI>
    <LI><code>different</code>: Label only base differences. </LI>
    <LI><code>no</code>:  Allow the user to select which of the other two options is preferred.</LI>
    </UL>
    </P>
    <P><B>Example:</B></P>
    <pre>    pslSequence different</pre>
</DIV>

<DIV class="transMapGene"><span class="types psl"></span>
<div class="format">
    <code>transMapGene &lt;assembly.table&gt;</code><BR>
    <code>transMapInfo &lt;table&gt;</code><BR>
    <code>transMapSrc &lt;assembly.table&gt;</code><BR>
    <code>transMapTypeDesc &lt;label&gt;</code></div>
    <P>For alignment tracks generated using the TransMap cross-species alignment
    algorithm, these settings are used to connect the transMap
    detailed information with the alignments.  
    <UL>
    <LI><code>transMapInfo</code>: Use to name the table in the current assembly that 
    ties an alignment with the source assembly and feature. </LI>
    <LI><code>transMapSrc</code>: Use
    to name the table in the source species assembly that contains
    the details of the feature's source location.  
    <LI><code>transMapGene</code>: Use to name the table mapping the alignment
    to gene names in the relevant species.  Note that tables that are
    common to multiple species should be put in the <code>hgFixed</code>
    database.  </LI> 
    <LI><code>transMapTypeDesc</code>: Use to
    set a label for the type of transMapping that the alignment covers.
    </P>
    <P><B>Example:</B></P>
    <pre>
    transMapInfo transMapInfoUcscGenes
    transMapSrc hgFixed.transMapSrcUcscGenes
    transMapGene hgFixed.transMapGeneUcscGenes
    transMapTypeDesc UCSC Gene
    baseColorUseCds table hgFixed.transMapGeneUcscGenes
    baseColorUseSequence extFile hgFixed.transMapSeqUcscGenes    </pre>
    <P>Note that several of the named tables are in
    <code>hgFixed</code>, which is a database containing tables that
    are shared by multiple species and assemblies.  Also notice that
    the same table that was named in <code>transMapGene</code> is
    also used in this example for <code>baseColorUseCds</code>.
    </P>
</DIV>

<DIV class="ucscRetroInfo"><span class="types psl"></span>
<div class="format"><code>ucscRetroInfo</code></div>
    <P>For alignments
    illustrating retrotransposition, use this setting to name a table
    with details of the source location.</P>
    <P><B>Example:</B></P>
    <pre>   ucscRetroInfo ucscRetroInfo1</pre>
</DIV>

<DIV class="psl_example"><span class="types psl"></span>
<div class="format"><B>Examples of psl alignment tracks</B></div>
    <pre>
    track ucscRetroAli1
    type psl
    ucscRetroInfo ucscRetroInfo1
    baseColorDefault diffCodons
    baseColorUseCds table ucscRetroCds
    baseColorUseSequence extFile ucscRetroSeq1 ucscRetroExtFile1
    indelDoubleInsert on
    indelQueryInsert on
    showDiffBasesAllScales .
    showDiffBasesMaxZoom 10000.0
      ...    </pre>
    <P>In this example of
    retroposed genes, mature mRNA has been aligned to the genome.
    Notice there is a ucscRetroInfo table that describes the
    non-transposed gene location.  Also notice the use of the
    baseColor settings for coloring the coding sequence (CDS).</P><BR>
    <pre>
    track protBlat
    color 0,100,0
    altColor 255,240,200
    type psl protein
      ...    </pre>
    <P>In this example of
    protein sequence blat results, the color of matching sequence is
    green, while indels (in this case introns) are highlighted with
    yellow.</P><BR>
    <pre>
    track rgdEst
    spectrum on
    color 12,12,120
    type psl est
      ...    </pre>
    <P>This expressed
    sequence tag example will have colored alignments that are graded
    by a score thanks to "<code>spectrum on</code>".  Though psl tracks do not have
    a <code>score</code> column as part of the format, a score is
    generated based upon matches and mismatches in the alignment.  The
    shading is even more subtle in that the weight given to inserts
    varies depending upon whether the alignment is to the same or a
    different species.</P><BR>
    <pre>
    track blastzTetNig1
    color 0,0,0
    altColor 50,128,50
    spectrum on
    type psl xeno tetNig1
    otherDb tetNig1
      ...    </pre>
    <P>This psl track is for foreign species or "xeno"
    alignments, in this case the sequence reads of a species of fish
    aligned to human.</P>
</DIV>


<!-- - - - - - - - CHAIN/NETALIGN settings - - - - - - - -->
<DIV class="chain_intro">
<H3>chain and netAlign: paired species alignments</H3>
    <P><I>NOT FOR HUBS.  Nor are any of the settings in this section.</I></P>
    <P>While "<code>chain</code>" and
    "<code>netAlign</code>" formats are different, they often are paired to show two
    different views of the same data.
    </P>
    <P>Chain tracks show
    alignments of a "query" species to a "target" genome assembly.  For
    example, a chimp panTro2 can be aligned to the human hg19 genome.
    The chain format allows for gaps in both sequences simultaneously.
    When chains are viewed in the Browser, they show solid boxes for
    alignments, separated by either single or double lines.  The single
    lines appear when an insertion occurs in the target or a deletion
    occurs in the querying species.  Double lines represent gaps in both
    species that could result from a number of causes (e.g. an inversion
    in one species).  For more information on the "chain" format, please
    refer to <A HREF="../chain.html">
    http://genome.ucsc.edu/goldenPath/help/chain.html</A>.</P>
    <P>A netAlign track
    represents the best chain for each region in the target genome.  The net
    track will show the largest, highest scoring chains that span a
    region.  When these chains have gaps, they may be filled in
    with additional chains, shown at a lower level, and gaps in these
    chains may in turn be filled at an even lower level.  These levels
    help in visualizing genome rearrangements such as inversions and
    retroposed elements.    For more information on the netAlign
    format, please refer to
    <A HREF="../net.html">
    http://genome.ucsc.edu/goldenPath/help/net.html</A>.</P>
</DIV>

<DIV class="chain"><span class="types chain"></span>
<div class="format">
    <code>type chain &lt;otherDb&gt;</code><BR>
    <code>otherDb &lt;otherDb&gt;</code></div>
    <P>Tracks of type <code>chain</code> show sequence alignments
    from another species to the reference genome. This type
    requires the assembly database of the other species to be named in both the
    type setting and in the "<code>otherDb</code>" setting.</P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="netAlign"><span class="types netAlign"></span>
<div class="format">
    <code>type netAlign &lt;otherDb&gt; &lt;otherChainTable&gt;</code><BR>
    <code>otherDb &lt;otherDb&gt;</code></div>
    <P>Tracks of type netAlign show the best chains of
    sequence alignments from another species to the reference genome.
    Gaps are filled in levels, where possible.  This type requires the
    assembly database of the other species to be named in both the type setting and
    in the "<code>otherDb</code>" setting.</P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="chainColor"><span class="types chain"></span>
<div class="format"><code>chainColor &lt;scheme&gt;</code></div>
    <P>By default chains are colored by the alignment
    chromosome of the query species.  This can be overridden with this
    setting.  The three options are:</P>
    <UL>
    <LI><code>Chromosome</code> - default</LI>
    <LI><code>Normalized Score</code> - chains are colored by score</LI>
    <LI><code>Black</code> - no coloring occurs</LI>
    </UL>
    <P>This setting affects
    <code>chain</code> but not <code>netAlign</code> type tracks.</P>
    <P><B>Example:</B></P>
    <pre>   chainColor Black</pre>
</DIV>

<DIV class="chainLinearGap"><span class="types chain netAlign bed psl"></span>
<div class="format"><code>chainLinearGap &lt;loose/medium&gt;</code></div>
    <P>The chainLinearGap setting should reflect the
    "<code>-linearGap</code>" parameter used in axtChain to generate
    the track.  It represents the gap scoring matrix used and will be
    either:</P>
    <UL>
    <LI><code>loose</code> - chicken/human linear gap costs</LI>
    <LI><code>medium</code>  - mouse/human linear gap costs</LI>
    </UL>
    <P>This setting is for both <code>chain</code> and <code>netAlign</code>
    type tracks.</P>
    <P><B>Example:</B></P>
    <pre>   chainLinearGap medium</pre>
</DIV>

<DIV class="chainMinScore"><span class="types chain netAlign bed psl"></span>
<div class="format"><code>chainMinScore &lt;#&gt;</code></div>
    <P>The chainMinScore setting should reflect the
    "<code>-minScore</code>" parameter used in axtChain to generate the
    track.  It represents the score threshold for chains to be
    included in the set.  Default is 1000.  This setting is for both
    chain and netAlign type tracks.</P>
    <P><B>Example:</B></P>
    <pre>   chainMinScore 5000</pre>
</DIV>

<DIV class="chainNormScoreAvailable"><span class="types chain netAlign bed"></span>
<div class="format"><code>chainNormScoreAvailable &lt;yes/no&gt;</code></div>
    <P>A given chain or netAlign track may or may not
    have a populated normScore column.  If the column exists, then
    its value can be displayed in the item details page of the
    Browser by setting chainNormScoreAvailable to <code>yes</code>. 
    Item coloring based upon score as selected by the
    <code>chainColor Normalized Score</code> setting also requires
    this setting to be <code>yes</code>.</P>
    <P><B>Example:</B></P>
    <pre>
    chainNormScoreAvailable yes
    chainColor Normalized Score    </pre>
</DIV>

<DIV class="matrix"><span class="types chain netAlign bed psl"></span>
<div class="format">
    <code>matrix &lt;size&gt; &lt;#,#,#,#,&hellip;&gt;</code><BR>
    <code>matrixHeader &lt;b1,b2,b3,b4&gt;</code><BR>
    <code>$matrix</code> token in html.</div>
    <P>The method for scoring and selecting chains and
    generating netAligns relies upon a matrix of costs for base
    substitutions.  The matrix used in the generation of any given
    paired alignment can vary depending upon such things as
    evolutionary distance and the species involved.  The matrix used
    can be dynamically included in the HTML description using three
    elements:</P>
    <OL>
    <LI>The HTML description must have the <code>$matrix</code> token in it.</LI>
    <LI>The <code>matrix</code> to be used must be defined
    with this trackDb setting.  The format of this setting is the cell
    size of the matrix which for DNA alignments is 16.  This size is
    separated by a space from the comma-delimited array of all the
    values as the matrix cells are filled in left to right and top to
    bottom.</LI>
    <LI>The <code>matrixHeader</code> setting should be
    used to define the order of base transitions in the matrix.
    Typically it is &ldquo;A,C,G,T &ldquo;.</LI>
    </OL>
    <P><B>Example:</B></P>
    <pre>
    html chainNet
    matrixHeader A,C,G,T
    matrix 16 91,-114,-31,-123,\
                 -114,100,-125,-31,\
                 -31,-125,100,-114,\
                 -123,-31,-114,91    </pre>
    <P>Here the <code>$matrix</code> token found in the
    chainNet.html file will be replaced by the following matrix:</P>
    <!-- Note that this table is within "settingsTable" so CSS must be defined here -->
    <TABLE BORDER=1 CELLPADDING=7 class="matrixTable">
        <TR><TH></TH><TH>A</TH><TH>C</TH><TH>G</TH><TH>T</TH></TR>
        <TR><TH>A</TH><TD>91</TD><TD>-114</TD><TD>-31</TD><TD>-123</TD></TR>
        <TR><TH>C</TH><TD>-114</TD><TD>100</TD><TD>-125</TD><TD>-31</TD></TR>
        <TR><TH>T</TH><TD>-31</TD><TD>-125</TD><TD>100</TD><TD>-114</TD></TR>
        <TR><TH>G</TH><TD>-123</TD><TD>-31</TD><TD>-114</TD><TD>91</TD></TR>
    </TABLE>
</DIV>

<DIV class="chain_netAlign_example"><span class="types chain netAlign"></span>
<div class="format"><B>Examples of chain and netAlign tracks</B></div>
    <pre>
    track chainRheMac2
    type chain rheMac2
    otherDb rheMac2
    color 0,0,0
    altColor 100,50,0
    matrix 16 91,-114,-31,-123,-114,100,-125,-31,-31,-125,100,-114,-123,-31,-114,91
    matrixHeader A,C,G,T
    chainMinScore 3000
    chainLinearGap medium
    html chainNet
      ...

    track netRheMac1
    type netAlign rheMac1 chainRheMac2
    otherDb rheMac2
    matrix 16 91,-114,-31,-123,-114,100,-125,-31,-31,-125,100,-114,-123,-31,-114,91
    matrixHeader A,C,G,T
    chainMinScore 3000
    chainLinearGap medium
    html chainNet
      ...    </pre>
    <P>Both the chain and netAlign tracks above are
    for alignments of the query species/assembly <code>rheMac2</code>
    against the target species determined by the database this trackDb
    belongs to (e.g., human/hg19).  Because the netAlign track is
    based upon the data in the chain track, it references the track in its
    type setting.  Both tracks use the same matrix, chainMinScore and
    linear gap settings.  Methods to group these two tracks into a
    single set that share settings are described later in this
    document.</P>
</DIV>


<!-- - - - - - - - WIGMAF settings - - - - - - - -->
<DIV class="wigMaf_intro">
<H3>wigMaf: Multiple alignments</H3>
    <P><I>NOT (currently) FOR HUBS.  Nor are any of the settings in this section.</I></P>
    <P>Multiple pairwise
    alignments can be displayed with "<code>wigMaf</code>" type tracks.  Tracks of
    this type may actually be composed of multiple tables and data files.
    The type setting will name the one MAF format table (with an
    associated "maf" file in /gbdb).  The optional "<code>wiggle</code>" setting will
    name one or more wig format tables (with an associated "wib" files)
    that contain conservation signals.  Please refer to the
    <A HREF="../../../FAQ/FAQformat.html#format9">FAQ</A>
    for information on how to prepare multiple alignment format datasets.</P>
</DIV>

<DIV class="wigMaf"><span class="types wigMaf"></span>
<div class="format"><code>type wigMaf &lt;minVal&gt; &lt;maxVal&gt;</code></div>
    <P>A wigMaf type track
    is composed both of MAF format alignment (loaded with hgLoadMaf).
    The track may optionally include one or more conservation signals.  The
    signals must be within the same data range defined with the min
    and max values in the type setting.
    </P>
    <P><em>Examples can be found below.</em></P>
</DIV>

<DIV class="frames"><span class="types wigMaf"></span>
<div class="format"><code>frames &lt;table&gt;</code></div>
    <P>A wigMaf track can
    display gene codon translation.  The reading frame may differ
    between species.  By providing the reading frames information in a
    separate table, the user can choose which frame to use when
    viewing the data.</P>
    <P><B>Example:</B></P>
    <pre>   frames myCodonFrames</pre>
</DIV>

<DIV class="irows"><span class="types wigMaf"></span>
<div class="format"><code>irows off</code></div>
    <P>By default, gaps in the non-reference species are filled with the placeholder
    character:
    <UL>
    <LI><B>Single Line</B> '<code>-</code>': No bases in the aligned species. Possibly
    due to a lineage-specific insertion between the aligned blocks in the human genome
    or a lineage-specific deletion between the aligned blocks in the aligning species.</LI>
    <LI><B>Double line</B> '<code>=</code>': Aligning species has one or more unalignable
    bases in the gap region. Possibly due to excessive evolutionary distance between
    species or independent indels in the region between the aligned blocks in both species.</LI>
    <LI><B>Pale yellow coloring</B>:
    Aligning species has Ns in the gap region.
    Reflects uncertainty in the relationship between the DNA of both species, due
    to lack of sequence in relevant portions of the aligning species.</LI>
    </UL>
    These display conventions make it easier to visualize the columns in stacked
    alignments, but they also tend to clutter the display.  The user has the option to remove
    these placeholders by unchecking the "Display chains between alignments" option.  To
    set the default of this option to off, set <code>irows</code> to "<code>off</code>".
                </P>
    <P><B>Example:</B></P>
    <pre>   irows off</pre>
</DIV>

<DIV class="itemFirstCharCase"><span class="types wigMaf"></span>
<div class="format"><code>itemFirstCharCase noChange</code></div>
    <P>This controls if 
    species names in the multiple alignment should be capitalized in
    the pairwise display.  Set "<code>noChange</code>" to avoid forcing
    the first letter to lower case.
    </P>
    <P><B>Example:</B></P>
    <pre>   itemFirstCharCase noChange</pre>
</DIV>

<DIV class="pairwiseHeight"><span class="types wigMaf"></span>
<div class="format"><code>pairwiseHeight &lt;#&gt;</code></div>
    <P>A wigMaf display in
    the Browser image is a stacked set of pairwise alignments to the
    target genome.  Using this setting, you can change the height of
    each pairwise signal in the image.</P>
    <P><B>Example:</B></P>
    <pre>   pairwiseHeight 10</pre>
</DIV>

<DIV class="speciesCodonDefault"><span class="types wigMaf"></span>
<div class="format"><code>speciesCodonDefault &lt;species&gt;</code></div>
    <P>This setting, which
    is used with "frames", declares the default species
    for the codon reading frame.</P>
    <P><B>Example:</B></P>
    <pre>
    speciesCodonDefault hg19
    frames myCodonFrames    </pre>
</DIV>

<DIV class="speciesDefaultOff"><span class="types wigMaf"></span>
<div class="format"><code>speciesDefaultOff &lt;species1&gt; [species2 ...]</code></div>
    <P>To control which of
    the stacked pairwise alignments are displayed or hidden by default, use
    <code>speciesDefaultOff</code> to list the species alignments that will not be
    displayed.  Each species is specified as in the MAF
    file Organism names except embedded dots and/or spaces 
    are replaced with underscores (e.g. C. elegans -&gt;
    c_elegans).</P>
    <P><B>Example:</B></P>
    <pre>   speciesDefaultOff galGal2 fr1 danRer1</pre>
</DIV>

<DIV class="speciesOrder"><span class="types wigMaf bed"></span>
<div class="format"><I>Related settings:</I><BR>
    <code>speciesOrder &lt;species1&gt; [species2 &hellip;]</code></div>
    <P>Use <code>speciesOrder</code> to declare the order of the
    stacked alignments.  If there are many species in your track,
    it may make sense to use the <code>speciesGroups</code> setting instead.</P>
</DIV>

<DIV class="speciesGroups"><span class="types wigMaf"></span>
<div class="format">
    <code>speciesGroups &lt;sgroup1&gt; [sgroup2  &hellip;]</code><BR>
    <code>sGroup_&lt;sgroupN&gt; &lt;species1&gt; [species2 &hellip;]</code></div>
    <P>You can include a list of "clades"
    to group the species into.   This option is an alternative to
    <code>speciesOrder</code>, used when there are many species.  Each
    <code>speciesGroup</code> in the list must have its own setting
    (sGroup_&lt;group&gt;), followed by a list of species,
    specified as for speciesOrder.</P>
    <P><hr class="example" /><B>Examples:</B></P>
    <pre>
    speciesOrder panTro1 canFam1 mm5 rn3 \
                 galGal2 fr1 danRer1
    speciesGroups Mammal Vertebrate
    sGroup_Mammal mm9 rn4
    sGroup_Vertebrate galGal2 fr1 danRer1</pre>
    <P>Choose one of these two alternatives to display species.</P>
</DIV>

<DIV class="speciesUseFile"><span class="types wigMaf"></span>
<div class="format"><code>speciesUseFile &lt;fileName&gt;</code></div>
    <P><I>Deprecated</I></P>
    <P>Much more rarely used, this setting can
    replace <code>speciesOrder</code> and <code>speciesGroups</code>.
    Set the <code>speciesUseFile</code> to a path relative to the apache cgi-bin.
    The file should contain a single species name as the first word of each line.</P>
    <P><B>Example:</B></P>
    <pre>    speciesUseFile speciesLists/conserved8Way.txt</pre>
</DIV>

<DIV class="summary"><span class="types wigMaf"></span>
<div class="format"><code>summary &lt;tableName&gt;</code></div>
    <P>This setting contains table name of MAF summary table. The summary
    view is used when the browser display is zoomed out to contain a million
    or more basepairs.  A summary table is created from a multiple alignment MAF
    file using the utility <code>hgLoadMafSummary</code>.</P>
    <P><B>Example:</B></P>
    <pre>   summary hg17Maf8waySummary</pre>
</DIV>

<DIV class="treeImage"><span class="types wigMaf"></span>
<div class="format"><code>treeImage &lt;imageFile&gt;</code></div>
    <P>The phylogenetic tree
    can used to show the relations of the species in the multiple
    alignment should be included as an image file.  This path is
    relative to the htdocs images directory (usually /images).</P>
    <P><B>Example:</B></P>
    <pre>   treeImage phylo/hg17Maf8way.jpg</pre>
</DIV>

<DIV class="wiggle"><span class="types wigMaf"></span>
<div class="format"><code>wiggle &lt;table1&gt; &lt;leftLabel1&gt; &lt;uiLabel1&gt;
                                        [table2 leftLabel2  uiLabelN ...]</code></div>
    <P>Optionally more than
    one conservation signal can be included with your MAF display by
    using this setting.  When you include conservation wiggles, you
    can also include the standard settings for controlling signal type
    tracks.  The setting includes three parts, then (optionally)
    additional sets of three, all delimited by white space.  The first
    table is the default. The <code>leftLabel</code> is used to
    prefix the label "Cons" in the left label area of the Browser
    image.  The <code>uiLabel</code> is displayed in the track
    configuration page.  If only one table is listed, and no label is
    present, the default label "Conservation" will be
    displayed.  The labels cannot contain spaces, but underscores (<code>_</code>)
    will be translated to spaces in the display.</P>
    <P>Note: directly
    pairing the conservation signals within the wigMaf track is an
    older way of doing things.  It is easier to give users control of
    what they want to see, by including your wigMaf track and separate
    signal type tracks as subtracks within a composite track.  See the
    composite track description below.</P>
    <P><B>Example:</B></P>
    <pre>
    wiggle phastCons8wayMammal Mammal Placental_Mammal \
           phastCons8way Vertebrate Vertebrate    </pre>
</DIV>

<DIV class="wigMaf_example"><span class="types wigMaf"></span>
<div class="format"><B>Examples of wigMaf tracks</B></div>
    <pre>
    track hg17Maf8way
    type wigMaf 0.0 1.0
    summary hg17Maf8waySummary
    wiggle phastCons
    treeImage phylo/hg17Maf8way.jpg
    speciesOrder panTro1 canFam1 mm5 rn3 galGal2 fr1 danRer1
    speciesDefaultOff galGal2 fr1 danRer1
    irows off
    pairwiseHeight 10
    maxHeightPixels 100:16:8
    viewLimits 0.5:0.9
    viewLimitsMax 0.0:1.0
      ...    </pre>
    <P>This 8-way
    multi-alignment for the hg17 human assembly is defined to include
    a summary table, tree image and one wiggle table containing the
    conservation score for the 8 species.  Notice that the pairwise alignments 
    for the last three species are turned off by default, and each
    pairwise alignment will have a height of 10 pixels.  With few
    species displayed by default, irows defaults to "off" as
    well, which will result in a cleaner display. Since there is a
    conservation wiggle, there are additional settings for that
    signal.
    </P><BR>
    <pre>
    track multiz46way
    type wigMaf 0.0 1.0
    summary multiz46waySummary
    frames multiz46wayFrames
    speciesCodonDefault hg19
    itemFirstCharCase noChange
    treeImage phylo/hg19_46way.gif
    speciesGroups Primate Placental_Mammal Vertebrate
    sGroup_Primate panTro2 gorGor1 ponAbe2 rheMac2 papHam1 calJac1 tarSyr1 micMur1 otoGar1
    sGroup_Placental_Mammal tupBel1 mm9 rn4 &hellip;
    sGroup_Vertebrate macEug1 monDom5 ornAna1 &hellip;
    speciesDefaultOff panTro2 gorGor1 ponAbe2 papHam1 &hellip;
    pairwiseHeight 10
      ...    </pre>
    <P>For this wigMaf
    track, there is no wiggle defined.  In this actual
    example taken from the hg19 Genome Browser, the several conservation signals 
    displayed in concert with this multiple alignment are separate
    signal-type tracks defined as part of the "Conservation"
    composite track (see discussion of composites below).  Notice
    that the 46 species in this alignment are organized into clades
    using the "<code>speciesGroups</code>" setting.  Each clade has its
    own "<code>sGroup</code>" setting to declare the order within (not
    all species shown).</P>
</DIV>


<!-- - - - - - - - EXPRATIO settings - - - - - - - -->
<DIV class="expRatio_intro">
<H3>expRatio: Microarray expression data</H3>
    <P><I>NOT FOR HUBS.  Nor are any of the settings in this section.</I></P>
    <P>Though
    many microarray experiments have been superseded by high-throughput
    sequencing (e.g., ChIP-seq) experiments, several microarray tracks
    still exist.  Further, microarray experiments can be the economical
    or practical choice in many instances. The datasets for the built-in
    microarray tracks in the Genome Browser are stored in bed 12+3 (bed
    15) format that includes three additional fields: expCount, expIds,
    and expScores. To display correctly in the Genome Browser,
    microarray tracks require the setting of several attributes in the
    trackDb file associated with the track's genome assembly. Each
    microarray track set must also have an associated
    microarrayGroups.ra configuration file that contains additional
    information about the data in each of the arrays. Please refer to the
    <A HREF="http://genomewiki.ucsc.edu/index.php/Microarray_track">microarray track</A> 
    section of the UCSC genomewiki
    for information on how to prepare microarray tracks.  In particular,
    that document describes the format of the groupings.ra file that
    must be associated with an expRatio track.</P>
    <P>Note: The <code>expRatio</code> data formats are reused for the
    <code>factorSource</code> type.</P>
</DIV>

<DIV class="expRatio"><span class="types expRatio"></span>
<div class="format"><code>type expRatio</code></div>
    <P>Microarray data is
    displayed in the Browser by <code>expRatio</code> type tracks.
    The type requires additional settings:  expScale, expStep  and
    groupings.</P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="expDrawExons"><span class="types expRatio"></span>
<div class="format"><code>expDrawExons on</code></div>
    <P>If microarray data
    includes gene model or blocks within items, then the data can
    be viewed as exons and introns by setting <code>expDrawExons</code>
    to on.  The setting is configurable by the user.</P>
    <P><B>Example:</B></P>
    <pre>   expDrawExons on</pre>
</DIV>

<DIV class="expScale"><span class="types expRatio bed"></span>
<div class="format"><code>expScale &lt;#&gt;</code></div>
    <P>Maximum expression
    value.</P>
    <P><B>Example:</B></P>
    <pre>   expScale 3.0</pre>
</DIV>

<DIV class="expStep"><span class="types expRatio bed"></span>
<div class="format"><code>expStep &lt;#&gt;</code></div>
    <P>Amount to step in
    visible expression scale.  A round number close to <code>expScale</code> divided
    by 8 is best.</P>
    <P><B>Example:</B></P>
    <pre>
    expScale 3.0
    expStep 0.5    </pre>
</DIV>

<DIV class="expTable"><span class="types expRatio bed"></span>
<div class="format"><code>expTable &lt;tableName&gt;</code></div>
    <P>This setting specifies
    the name of a table in the common <code>hgFixed</code>
    database that contains names of experiments, etc.</P>
    <!-- <P><I>TODO: Don't know where this gets read
    in C code???</I></P> -->
</DIV>

<DIV class="groupings"><span class="types expRatio"></span>
<div class="format"><code>groupings &lt;fileName&gt;</code></div>
    <P>A microarray dataset
    must refer to a specific set of configurations to load from the
    microArrayGroups.ra file.  Please refer to the
    <A HREF="http://genomewiki.ucsc.edu/index.php/Microarray_track">microarray track</A> 
    section of the UCSC genomewiki
    for detailed instructions on the location of this file and its
    format.  Use the "<code>groupings</code>" setting to point to a stanza keyed on
    "<code>name</code>" in that file.</P>
    <P><B>Example:</B></P>
    <pre>   groupings gnfHumanAtlas2Groups</pre>
</DIV>

<DIV class="expRatio_example"><span class="types expRatio"></span>
<div class="format"><B>Example of an expRatio track</B></div>
    <pre>
    track sestanBrainAtlas
    type expRatio
    expScale 3.0
    expStep 0.5
    expTable sestanBrainAtlasExps
    groupings sestanBrainAtlasGroups
      ...    </pre>
    <P>This microarray dataset refers to groupings
    defined in the "<code>gnfHumanAtlas2Groups</code>" stanza of the
    makeDb/hgCgiData/Human/microarrayGroups.ra  file.
    </P>
</DIV>


<!-- - - - - - - - SNP settings - - - - - - - -->
<DIV class="snp_intro">
<H3>snp<em>NNN</em>: specialized subclass of BED 6 for dbSNP variants</H3>
    <P><I>NOT FOR HUBS.  Nor are any of the settings in this section.</I></P>
    <P>This particular variant of bed 6, identified by table name,
    is for UCSC's subset of
    <A HREF="http://www.ncbi.nlm.nih.gov/projects/SNP/" TARGET=_BLANK>dbSNP</A>,
    NCBI's database of short genetic variants.</P>
</DIV>

<DIV class="snp"><span class="types snp"></span>
<div class="format"><code>type bed 6 + # Track name starts with &quot;snp&quot;
    followed by the 3-digit dbSNP build number </code></div>
    <P>UCSC's subset of dbSNP could be described as "bed 6 + 19"
    and is produced by a complex process starting with downloading
    several database dump files and fasta files from dbSNP, and ending
    with the creation of snp<em>NNN</em> and several auxiliary data
    tables. This type is not supported as a custom track type.</P>
</DIV>

<DIV class="chimpDb"><span class = "types snp"></span>
<div class="format"><code>chimpDb &lt;db&gt;</code></div>
    <P>If chimp chains/nets were used to identify the chimp reference
    assembly allele at the location homologous to the human SNP, this
    specifies which chimp genome assembly was used, e.g. <code>panTro2</code>.</P>
</DIV>

<DIV class="chimpMacaqueOrthoTable"><span class="types snp"></span>
<div class="format"><code>chimpMacaqueOrthoTable &lt;table&gt;</code></div>
    <P>If chains/nets from chimp and rhesus macaque were use to identify
    the chimp or macaque reference assembly allele at the location
    homologous to the human SNP, this specifies the database table
    that contains the mapped alleles.</P>
</DIV>

<DIV class="chimpOrangMacOrthoTable"><span class="types snp"></span>
<div class="format"><code>chimpOrangMacOrthoTable &lt;table&gt;</code></div>
    <P>If chains/nets from chimp, orangutan and rhesus macaque were use to identify
    the chimp/orangutan/macaque reference assembly allele at the location
    homologous to the human SNP, this specifies the database table
    that contains the mapped alleles.</P>
</DIV>

<DIV class="codingAnnoLabel_table"><span class="types snp"></span>
<div class="format"><code>codingAnnoLabel_&lt;table&gt; &lt;text&gt;</code></div>
    <P><I>Deprecated; will probably be removed.</I>
    This specifies a text label for display of &lt;table&gt;'s
    predictions of a SNP's effect on a protein-coding gene.</P>
</DIV>

<DIV class="codingAnnotations"><span class="types snp"></span>
<div class="format"><code>codingAnnotations &lt;table&gt;[,table]</code></div>
    <P><I>Deprecated; will probably be removed.</I>
    This specifies one or more tables containing predictions of SNP
    effects on protein-coding genes.</P>
</DIV>

<DIV class="defaultGeneTracks"><span class="types snp"></span>
<div class="format"><code>defaultGeneTracks &lt;genesTrack&gt;[,genesTrack]</code></div>
    <P>The details page of a SNP can display the predicted functional
    affect on a gene from any genePred track.
    Since there are often many gene tracks and models, the prediction
    will depend upon the gene model used.  The user has a chance to
    choose from those available, but this setting establishes
    a default gene track or tracks to base predictions on.</P>
    <P><B>Example</B>:</P>
    <pre>   defaultGeneTracks knownGenes</pre>
</DIV>

<DIV class="defaultMaxWeight"><span class="types snp"></span>
<div class="format"><code>defaultMaxWeight &lt;1|2|3&gt;</code></div>
    <P>dbSNP assigns a weight of 1, 2 or 3 to each variant, depending
    on how many distinct mappings a variant's flanking sequences have
    to the genome.
    If this is set to <code>1</code>, only uniquely mapped variants will
    be displayed by default.  If <code>2</code>, only uniquely mapped
    variants and variants with a small number of duplicate mappings will
    be displayed.  If <code>3</code>, all variants will be shown regardless
    of weight.  Note: some tables such as snp<em>NNN</em>Common and
    snp<em>NNN</em>Flagged contain only uniquely mapped variants, so this
    setting has no effect on those tables.</P>
</DIV>

<DIV class="hapmapPhase"><span class="types snp"></span>
<div class="format"><code>hapmapPhase &lt;II|III&gt;</code></div>
    <P>The SNP details page looks for the SNP's ID in HapMap track tables
    that have different names and contents depending on whether they
    were loaded from HapMap phase II or HapMap phase III data.
    (This setting is also used by HapMap SNPs tracks.)</P>
</DIV>

<DIV class="macaqueDb"><span class="types snp"></span>
<div class="format"><code>macaqueDb &lt;db&gt;</code></div>
    <P>If macaque chains/nets were used to identify the macaque reference
    assembly allele at the location homologous to the human SNP, this
    specifies which macaque genome assembly was used, e.g. <code>rheMac2</code>.</P>
</DIV>

<DIV class="orangDb"><span class="types snp"></span>
<div class="format"><code>orangDb &lt;db&gt;</code></div>
    <P>If orangutan chains/nets were used to identify the orangutan reference
    assembly allele at the location homologous to the human SNP, this
    specifies which orangutan genome assembly was used, e.g. <code>ponAbe2</code>.</P>
</DIV>

<DIV class="snpExceptions"><span class="types snp"></span>
<div class="format"><code>snpExceptions &lt;table&gt;</code></div>
    <P>This specifies an auxiliary table that contains annotations of unusual
    properties of variants.  This setting applies only to versions prior to dbSNP 
    build 132; starting with build 132, exceptions are incorporated into the 
    main snp<em>NNN</em> table and an auxiliary table is no longer needed.</P>
</DIV>

<DIV class="snpExceptionDesc"><span class="types snp"></span>
<div class="format"><code>snpExceptionDesc &lt;table&gt;</code></div>
    <P>This specifies an auxiliary table that maps exception keywords
    to one-sentence descriptions.</P>
</DIV>

<DIV class="snpSeq"><span class="types snp"></span>
<div class="format"><code>snpSeq &lt;table&gt;</code></div>
    <P>This specifies an auxiliary table that maps variant IDs to
    file offsets at which flanking sequences are stored.</P>
</DIV>

<DIV class="snpSeqFile"><span class="types snp"></span>
<div class="format"><code>snpSeqFile &lt;path&gt;</code></div>
    <P>This specifies an auxiliary file that contains the flanking
    sequences of each variant's representative submitted SNP.</P>
</DIV>

<DIV class="snp_example"><span class="types snp"></span>
<div class="format"><B>Example of a SNP track</B></div>
    <pre>
    track snp135Common
    shortLabel Common SNPs(135)
    longLabel Simple Nucleotide Polymorphisms (dbSNP 135) Found in >= 1% of Samples
    group varRep
    priority 99.0911
    visibility dense
    url http://www.ncbi.nlm.nih.gov/SNP/snp_ref.cgi?type=rs&rs=$$
    urlLabel dbSNP: 
    snpSeq snp135Seq
    snpExceptionDesc snp135ExceptionDesc
    defaultGeneTracks knownGene
    maxWindowToDraw 10000000
    type bed 6 +
    </pre>
    <P>This track displays variants from dbSNP build 135 with Minor Allele Frequency (MAF)
    of at least 1%.  Flanking sequence file offsets come from the snp135Seq table,
    descriptions of unusual properties are taken from the snp135ExceptionDesc table,
    and effects of variants on protein-coding genes are shown with respect to the table
    knownGene (UCSC Genes track) by default. If the viewed region is more than
    10,000,000 base pairs, the data will not be loaded and drawn.</P>
</DIV>


<!-- - - - - - - - VCFTABIX settings - - - - - - - -->
<DIV class="vcfTabix_intro">
<H3>vcfTabix: Variant Call Format indexed by tabix</H3>
    <P><A HREF="http://www.1000genomes.org/wiki/Analysis/Variant%20Call%20Format/vcf-variant-call-format-version-41"
    TARGET=_BLANK>Variant Call Format</A> (VCF)
    is a flexible and extendable line-oriented text format developed by the
    <A HREF="http://www.1000genomes.org/" TARGET="_blank">1000
    Genomes Project</A> for releases of single nucleotide
    variants, indels, copy number variants and structural variants
    discovered by the project. The format has been subsequently adopted by other large
    projects. When a VCF file is compressed and indexed
    using <A HREF="http://samtools.sourceforge.net/tabix.shtml" TARGET="_blank">tabix</A>
    and then made web-accessible, the Browser will fetch only the portions of
    the file necessary to display items in the viewed region. In other
    words, this is a remote data file format, as are the BAM, bigBed and bigWig formats.
    Please refer to the
    <A HREF="../vcf.html">VCF and tabix track format page</A>
    for a complete description of how to prepare and display VCF data.
</P>
</DIV>

<DIV class="vcfTabix"><span class="types vcfTabix"></span>
<div class="format"><code>type vcfTabIx</code></div>
    <P>If the <code>bigDataUrl</code> setting is included, the data at the location
    specified by that URL will be
    displayed. Otherwise, a database table with a single column <code>fileName</code>
    can specify the location of a local file or a URL.
    If the database table includes a column <code>seqName</code>, a different
    VCF file or URL can be specified for each assembly sequence.</P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="vcfTabix_example"><span class="types vcfTabix"></span>
<div class="format"><B>Example of a VCF track</B></div>
    <pre>
    track myVcf
    type vcfTabIx
    bigDataUrl http://myorg.edu/mylab/myVcf.gz
    maxWindowToDraw 3000000
      ...    </pre>
    <P>The data for this VCF track is stored in the remote file,
    "myVcf.gz".  That file is paired with a tabix-generated index file named
    "myVcf.gz.tbi" found in the same remote location.
    </P>
</DIV>


<!-- - - - - - - - PGSNP settings - - - - - - - -->
<DIV class="pgSnp_intro">
<H3>pgSnp: Personal Genome SNP format</H3>
    <P><I>NOT FOR HUBS.  (None of the settings in this section apply to hubs.)</I></P>
    <P>This format is used to
    display SNPs from personal genomes. It is used for
    the Genome Variants and Population Variants tracks.  Please refer to
    the <A HREF="../../../FAQ/FAQformat.html#format10">FAQ</A>
    for information on how to prepare personal genome SNP datasets.</P>
</DIV>

<DIV class="pgSnp"><span class="types pgSnp"></span>
<div class="format"><code>type pgSnp</code></div>
    <P>Personal Genome SNP
    type tracks are essentially in "bed 4 + 3" format.
    The fourth column, <code>name</code>, is filled with one or more variants
    (including insertions and deletions) delimited with a '<code>/</code>'
    character.  The fifth column contains the number of variants found
    in the <code>name</code> column, while the sixth and seventh columns contain
    comma-delimited arrays of frequencies and scores respectively.
    Files in this format can be loaded into MySQL with hgLoadBed using
    the "pgSnp.sql" schema.
    </P>
    <P>The browser image
    displays variants as stacked boxes that show the frequency for
    each variant, if that information is in the table. The details page for each variant item
    computes any amino acid change if the variant is
    in a coding region.</P>
</DIV>

<DIV class="pgPolyphenPredTab"><span class="types pgSnp"></span>
<div class="format"><code>pgPolyphenPredTab &lt;table&gt;</code></div>
    <P><I>Not supported for custom tracks</I></P>
    <P>Auxiliary table with likelihoods of variant damage to proteins from polyPhen.</P>
</DIV>

<DIV class="pgSiftPredTab"><span class="types pgSnp"></span>
<div class="format"><code>pgSiftPredTab &lt;table&gt;</code></div>
    <P><I>Not supported for custom tracks</I></P>
    <P>Auxiliary table with likelihood of variant damage to proteins from SIFT.</P>
</DIV>

<DIV class="pgSnp_example"><span class="types pgSnp"></span>
<div class="format"><B>Example of a Personal Genome SNP track</B></div>
    <pre>
    track mySnps
    type pgSnp
      ...    </pre>
    <P>A personal genome SNPs track displaying single
    nucleotide polymorphisms from the reference genome.
    </P>
</DIV>


<!-- - - - - - - - ALTGRAPHX settings - - - - - - - -->
<DIV class="altGraphX_intro">
<H3>altGraphX: Alternate splicing gene model tracks</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>Gene models with
    alternate splicing can be displayed in the Browser with this type of
    track.  It supports no trackDb settings beyond the common ones.
    </P>
</DIV>

<DIV class="altGraphX"><span class="types altGraphX"></span>
<div class="format"><code>type altGraphX</code></div>
    <P>Alternate slicing gene models specialized track
    used to show genome coverage.
    </P>
</DIV>

<DIV class="altGraphX_example"><span class="types altGraphX"></span>
<div class="format"><B>Example of an altGraphX track</B></div>
    <pre>
    track sibTxGraph
    shortLabel SIB Alt-Splicing
    type altGraphX
    url http://ccg.vital-it.ch/cgi-bin/tromer/tromergraph2draw.pl?species=H.+sapiens&amp;tromer=$$
    urlLabel SIB link:
    idInUrlSql select name from sibTxGraph where id=%s
      ...    </pre>
    <P>The Swiss Institute of Biology's
    alternative splicing track provides an external link via the <code>url</code>
    setting.  But the actual "tromer" term in the value
    will be filled in with the results of a query to the sibTxGraph
    table.  With enough obscure settings, the Browser accomplishes
    subtle things.</P>
</DIV>


<!-- - - - - - - - BEDDETAIL settings - - - - - - - -->
<DIV class="bedDetail_intro">
<H3>bedDetail: Text extended bed track</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>This is an extension of
    BED format. BED detail uses the first 4 to 12 columns of BED format,
    plus 2 additional fields that are used to enhance the track details
    pages. The first additional field is an ID, which can be used in
    place of the name field for creating links from the details pages.
    The second additional field is a description of the item, which can
    be a long description and can consist of html, including tables and
    lists.</P>
</DIV>

<DIV class="bedDetail"><span class="types bedDetail"></span>
<div class="format"><code>type bedDetail &lt;#&gt;</code></div>
    <P>Extended bed type
    format that has a text description embedded in the table for each
    item.  The format can vary between 4 and 12 standard bed columns
    plus two additional ones.  The number of columns (including the 2
    bedDetail specific columns) must follow the "<code>bedDetail</code>" term in
    the type setting.</P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="bedDetail_example"><span class="types bedDetail"></span>
<div class="format"><B>Example of a bedDetail track</B></div>
    <pre>
    track microattrLoci
    type bedDetail 14
    itemRgb on
    url http://www.ncbi.nlm.nih.gov/entrez/viewer.fcgi?db=nucleotide&amp;sendto=t&amp;extrafeatpresent=1&amp;list_uids=$$
      ...    </pre>
    <P>This bedDetail contains details for each item
    formatted for HTML display.  In addition each item has an "id" as
    distinct from the "name" and that id is used in the outside link
    url displayed in the item details page.</P>
</DIV>


<!-- - - - - - - - CLONEPOS settings - - - - - - - -->
<DIV class="clonePos_intro">
<H3>clonePos: Genome coverage tracks</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>This is a specialized
    format track that is only used for showing the coverage in the human
    genome.  It supports no trackDb settings beyond the common ones.</P>
</DIV>

<DIV class="clonePos"><span class="types clonePos"></span>
<div class="format"><code>type clonePos</code></div>
    <P>A specialized track used to show genome
    coverage.
    </P>
</DIV>

<DIV class="clonePos_example"><span class="types clonePos"></span>
<div class="format"><B>Example of a clonePos track</B></div>
    <pre>
    track clonePos
    shortLabel Coverage
    longLabel Clone Coverage/Fragment Position
    type clonePos
    altColor 180,180,180
      ...    </pre>
    <P>The Coverage track for the human genome will
    vary in color between black and light gray, based upon the cloned
    sequence coverage depth.</P>
</DIV>


<!-- - - - - - - - CTGPOS settings - - - - - - - -->
<DIV class="ctgPos_intro">
<H3>ctgPos: Physical map contigs tracks</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>This is a specialized
    format track that is used for "physical map contigs" on
    the human genome.  It supports no trackDb settings beyond the common
    ones.</P>
</DIV>

<DIV class="ctgPos"><span class="types ctgPos"></span>
<div class="format"><code>type ctgPos</code></div>
    <P>A specialized track used to show the locations
    of contigs on the physical map.
    </P>
</DIV>

<DIV class="ctgPos_example"><span class="types ctgPos"></span>
<div class="format"><B>Example of a ctgPos track</B></div>
    <pre>
    track ctgPos2
    shortLabel GRC Map Contigs
    type ctgPos
    url none
      ...    </pre>
    <P>The GCR Map Contigs track would normally
    generate a URL to NCBI, but in this case, the URL has been
    explicitly blocked.</P>
</DIV>


<!-- - - - - - - - DOWNLOADSONLY settings - - - - - - - -->
<DIV class="downloadsOnly_intro">
<H3>downloadsOnly: Specialized track that contains only downloadable files</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>The ENCODE tracks all
    have a special directory and CGI support for downloading files.  This
    can be very helpful for organizing access to the often very large
    number of downloadble files associated with an ENCODE track.  There
    are a handful of datasets that don't readily lend themselves for
    visualization in our Browser but are nonetheless a necessary
    component of the ENCODE data as a whole.  Therefore, <code>downloadsOnly</code>
    type was developed to provide easy access to these sets of
    downloadable files.</P>
</DIV>

<DIV class="downloadsOnly"><span class="types downloadsOnly"></span>
<div class="format"><code>type downloadsOnly</code></div>
    <P>A specialized track
    that provides access to a set of downloadable files, and is
    currently ENCODE only.  A downloadsOnly type track does not get
    visualized in the Browser.</P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="fileSortOrder_downloadsOnly"><span class="types downloadsOnly"></span>
<div class="format"><code>fileSortOrder ...</code></div>
    <P>The fileSortOrder setting is required for
    downloadsOnly type tracks.  A complete description can be found in
    composite tracks section of this document.  It requires each file
    to be defined as an object in the metaDb and each of those objects
    to refer to a "composite" which will be the name of this track and
    the directory name where the files are located.  The
    "<code>fileSortOrder</code>" defines the column and default sort order.  The
    user will be able to sort and filter the list of files.</P>
</DIV>

<DIV class="downloadsOnly_example"><span class="types downloadsOnly"></span>
<div class="format"><B>Example of a Downloads Only track</B></div>
    <pre>
    track wgEncodeUmassWengTfbsValid
    type downloadsOnly
    fileSortOrder cell=Cell_Line \
                dccAccession=UCSC_Accession \
                fileSize=Size \
                fileType=File_Type \
                dateSubmitted=Submitted \
                dateUnrestricted=RESTRICTED&lt;BR&gt;Until
    wgEncode 1
      ...    </pre>
    <P>The Browser will not provide visualization of
    this track but will provide access to downloading any number of
    files organized into a single group.  The downloads page 
    presents those files in a table with a number of columns that are
    sortable and possibly filterable.  Much of the presentation and
    organization relies upon settings established in the metaDb for
    this track. However, the <code>fileSortOrder</code> setting has requested six
    specific columns to be presented in the desired order.</P>
</DIV>


<!-- - - - - - - - ENCODEFIVEC settings - - - - - - - -->
<DIV class="encodeFiveC_intro">
<H3>encodeFiveC: Five C Chromatin interaction track</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>This is a specialized
    format track that was used for displaying long distance
    chromatin/chromatin interaction evidence.  Essentially a "<code>bed</code>"
    type track displaying locations in the genome.  The details page of
    each location presents a list of other locations within the genome
    that may have functional interactions.</P>
</DIV>

<DIV class="encodeFiveC"><span class="types encodeFiveC"></span>
<div class="format"><code>type encodeFiveC</code></div>
    <P>A specialized track that was used to show the
    locations where  chromatin may have interactions with other
    chromatin locations.
    </P>
</DIV>

<DIV class="interTable"><span class="types encodeFiveC"></span>
<div class="format"><code>interTable &lt;tableName&gt;</code></div>
    <P>Each location found in the track's main table
    should have associated regions defined in the interactions table
    named with this setting.  The interactions table format
    is essentially a "bed 7 + 1".</P>
</DIV>

<DIV class="interTableKind"><span class="types encodeFiveC"></span>
<div class="format"><code>interTableKind &lt;label&gt;</code></div>
    <P>The table of interactions is presented on each
    item's details page and is titled as "Top ___ interactions"</P>
</DIV>

<DIV class="encodeFiveC_example"><span class="types encodeFiveC"></span>
<div class="format"><B>Example of an encodeFiveC track</B></div>
    <pre>
    track encodeUw5cGM06990dS9013DhsLoci
    type encodeFiveC
    color 200,100,0
    interTable encodeUw5cGM06990dS9013DhsInter
    interTableKind TSS
      ...    </pre>
    <P>This Five C interactions track will be
    displayed as colored items.  The associated chromatin regions are
    drawn from a second table.  The kind of associations are
    transcription start sites.</P>
</DIV>


<!-- - - - - - - - FACTORSOURCE settings - - - - - - - -->
<DIV class="factorSource_intro">
<H3>factorSource: Combined items tracks</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>Factor source is not a
    group track, but a track that is made from a group of sources, which
    may themselves be Browser tracks.  This is a specialized type of
    "item" based track of "<code>bed 15</code>" format, the same format
    used for type <code>expRatio</code>.  Its purpose is to
    display transcription factors as detected in multiple cell lines,
    though it might be adaptable for any type of item that piles up
    into overlapping locations and will belong to one of several
    categories.  However, this type was specifically designed for
    combining transcription factor (TF) binding evidence from multiple
    cell lines into a single track.  As a bed type track, it consists of
    items or regions where there is evidence of TF binding. To the left
    of each item, the factor name is displayed, while to the right a
    coded list of cell types where the evidence has been found is
    displayed.  Unlike most item-based tracks, a second table is required
    to describe the cell lines.  Use the program hgBedsToBedExp to create
    the tables from a collection of simpler beds, one for each
    transcription factor/cell interaction.</P>
</DIV>

<DIV class="factorSource"><span class="types factorSource"></span>
<div class="format"><code>type factorSource</code></div>
    <P>A bed 15 based table
    format with overlapping items.  This is a specialized track type
    designed for holding transcription factor binding evidence across
    multiple cell lines.  The format is the same as used for
    microarray expression.</P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="sourceTable"><span class="types factorSource"></span>
<div class="format"><code>sourceTable &lt;table&gt;</code></div>
    <P>The factorSource type tracks need a secondary
    table that holds descriptions of the sources.  This is where cell
    line abbreviations are declared and associated with actual cell
    lines.</P>
</DIV>

<DIV class="inputTrackTable"><span class="types factorSource bed"></span>
<div class="format"><code>inputTrackTable &lt;table&gt;</code></div>
    <P>When viewing the details for a factorSource
    track item (typically a TF binding site), additional information
    about the cell line evidence can be displayed.  This setting names
    a table that will hold the additional information.  It is used in
    conjunction with the <code>inputTableFieldDisplay</code> setting.</P>
</DIV>

<DIV class="inputTableFieldDisplay"><span class="types factorSource bed"></span>
<div class="format"><code>inputTableFieldDisplay &lt;f1&gt; [f2...]</code></div>
    <P>If there is an <code>inputTrackTable</code> defined with
    your track, the fields that are to be displayed should be declared
    with this associated setting.</P>
</DIV>

<DIV class="factorSource_example"><span class="types factorSource"></span>
<div class="format"><B>Example of a factorSource track</B></div>
<pre>
track tfbsByCellLines
type factorSource
sourceTable myCellLines
inputTrackTable myCellLineAssociations
inputTableFieldDisplay cellType treatment lab
    ...</pre>
<P>This track will show transcription factor (TF)
binding evidence found in multiple cell lines.  Each item will be
for a one particlular TF, and also all the cell lines that show
evidence of binding in that location.  The secondary <code>sourceTable</code>
holds the definitions of each cell line abbreviation.  A third
table is declared with <code>inputTrackTable</code> and carries details for
each cell line that should be seen in the Browser.  When viewed in
item detail, 3 fields (cellLine, treatment and lab) will be seen
for each cell associated with the particular TF binding location.</P>
</DIV>


<!-- - - - - - - - RMSK settings - - - - - - - -->
<DIV class="rmsk_intro">
<H3>rmsk: Repeat masking tracks</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>This is a specialized
    format track that is used only for the repeat-masking track.  For
    completeness it is being briefly described here.  These tracks are
    created created by using Arian
    Smit's <A HREF="http://www.repeatmasker.org/" TARGET="_blank">RepeatMasker</A>
    program, which screens DNA sequences for interspersed repeats and low
    complexity DNA sequences.</P>
</DIV>

<DIV class="rmsk"><span class="types rmsk"></span>
<div class="format"><code>type rmsk</code></div>
    <P>The repeat masker
    tracks contain uniquely formattted data for the special function
    of repeat-masking.
    </P>
    <P><em>Example can be found below.</em></P>
</DIV>

<DIV class="rmsk_example"><span class="types rmsk"></span>
<div class="format"><B>Example of a Repeat Masking track</B></div>
    <pre>
    track rmsk
    spectrum on
    type rmsk
    maxWindowToDraw 10000000
      ...    </pre>
    <P>The repeat masker track will have individual
    repeat items shaded by a measure of how exact a repeated element
    is withing the stretch of repetition. This track is restricted to
    display at less than 10 million base resolution.
    </P>
</DIV>


<!-- - - - - - - - SNAKE settings - - - - - - - -->
<DIV class="snake_intro">
<H3>snake: Self referencing alignment tracks -
    <I>EXPERIMENTAL</I></H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>This is a specialized
    format track that shows the snaking course of bi-directional and
    overlapping alignments.  This format can help illustrate inversion-type 
    rearrangements that align to the plus strand, then the minus strand, 
    and again to the plus strand.  It can also be used to illustrate overlapping
    alignments, such as when a duplication has occurred compared to the
    reference genome.</P>
</DIV>

<DIV class="snake"><span class="types snake"></span>
<div class="format">
    <code>type snake &lt;db&gt;</code><BR>
    <code>otherDb &lt;otherDb&gt;</code></div>
    <P>A specialized track
    used to show the path of snaking alignments that represent
    chromosomal rearrangements, duplications and inversions.   Since
    this type is almost always a mapping between two species or two
    assemblies of the same species, the type must also declare that
    species/assembly by database name.</P>
    <P>As with chains and netAligns, which typically show mappings between two assemblies, 
    the "<code>otherDb</code>" setting is also needed to declare which other genome and assembly
    the data in this track represents.</P>
</DIV>

<DIV class="snake_example"><span class="types snake"></span>
<div class="format"><B>Example of a snake track</B></div>
    <pre>
    track snakeMm9
    type snake mm9
    otherDb mm9
    color 100,50,0
    altColor 255,240,200
    spectrum on
      ...    </pre>
    <P>This snake track will illustrate chromosome
    rearrangements that have occurred on the mouse mm9 genome as seen
    when it is aligned to the human genome.
    </P>
</DIV>


<!-- - - - - - - - GROUP settings - - - - - - - -->
<DIV class="group_intro">
<H3>Predefined major track groupings</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>The simplest grouping:</P>
</DIV>

<DIV class="group"><span class="types group"></span>
<div class="format"><code>group &lt;groupId&gt;</code></div>
    <P>All tracks belong to
    one of several groups.  Hub tracks belong to the group that
    encompasses their hub.  Other tracks belong to one of the
    predefined groups.  For hg19 the following groups are defined:</P>
    <UL>
    <LI><code>map</code> - "Mapping and Sequence"</LI>
    <LI><code>phenDis</code> - "Phenotype and Disease Associations"</LI>
    <LI><code>genes</code> - "Genes and Gene Prediction"</LI>
    <LI><code>rna</code> - "mRNA and EST"</LI>
    <LI><code>expression</code> - "Expression"</LI>
    <LI><code>regulation</code> - "Regulation"</LI>
    <LI><code>compGeno</code> - "Comparative Genomics"</LI>
    <LI><code>neandertal</code> - "Neandertal Assembly and Analysis"</LI>
    <LI><code>varRep</code> - "Variation and Repeats"</LI>
    </UL>
    <P>If no group is set for a built-in track, then the track will end up
    in the Experimental Tracks section at the bottom.</P>
</DIV>

<DIV class="group_example"><span class="types group"></span>
<div class="format"><B>Example of a track belonging to a predefined group</B></div>
    <pre>
    track myTrack
    group regulation
      ...    </pre>
</DIV>


<!-- - - - - - - - SUPERTRACK settings - - - - - - - -->
<DIV class="superTrack_intro">
<H3>Supertrack (Folders or Containers) settings</H3>
    <P>The next level of
    hierarchical groupings is called the supertrack, which may be thought of as 
    a folder that holds other tracks. The Browser currently supports only one
    level of supertrack folders.  Generally the subtracks
    of a supertrack are of differing types.  If all the children are
    of the same type, it is often better to use the "compositeTrack" grouping
    described below.  If all of the children are wig or bigWig tracks, it may
    be best to use a "container multiWig" grouping. </P> 
    <P>Supertracks can contain
    composite tracks and container multiWigs, but not vice versa. With supertracks,
    composite tracks, and container multiWigs, children will inherit the settings
    from their parents, but can override their parent settings within their own stanzas.</P>
</DIV>

<DIV class="superTrack"><span class="types superTrack"></span>
<div class="format"><code>superTrack on</code></div>
    <P>To declare a supertrack, simply add this
    setting to a track definition that will hold the few standard
    settings.
    </P>
</DIV>

<DIV class="parent_supertrack"><span class="types superTrack"></span>
<div class="format"><code>parent &lt;superTrack&gt;</code></div>
    <P>Membership in a supertrack, composite, or aggregate track is declared by the
    child, not the supertrack itself.  Any number of children may
    belong to one supertrack, but ten is a suggested maximum number for usability
    considerations.  Stylistically, children's stanzas within the trackDB typically are indented
    directly under the stanza of the parent. However, this is less frequently the case with
    supertracks, because the children are often scattered in other places within the trackDb 
    file, or the supertrack children are themselves composites containing
    additional indentation that makes enforcement of the supertrack
    indentation impractical.</P>
</DIV>

<DIV class="superTrack_example"><span class="types superTrack"></span>
<div class="format"><B>Example of a Supertrack</B></div>
    <pre>
    track myFolder
    superTrack on
    group regulation
    shortLabel My Folder
    longLabel My folder keeps my tracks together
      ...

        track myFirstTrack
        parent myFolder
        visibility dense
          ...

        track mySecondTrack
        parent myFolder
        visibility none
          ...    </pre>
    <P>The supertrack called "My Folder"
    contains two children.  All will be grouped under 
    "regulation".  Notice that the first track is visible by
    default (if the supertrack itself is visible), but the second
    track is not.</P>
</DIV>


<!-- - - - - - - - COMPOSITE settings - - - - - - - -->
<DIV class="compositeTrack_intro">
<H3>Composite Tracks</H3>
    <P>Composite tracks are
    another level of hierarchy and are meant to group very similar tracks
    (called "subtracks") together such that they can all
    share the same configuration settings.  In its simplest form a
    composite holds tracks all of the same type (such as bigBed).
    Initially, all track within the set are configured identically.
    Usually only some of the subtracks are visible by default, and these
    will have the same display mode (e.g., <code>dense</code>)
    and optional settings (e.g., <code>viewLimits</code>).
    While default settings cover the entire composite of related tracks,
    in most cases individual subtracks can be configured by the user
    independently of the composite settings.  However, once individual
    subtrack settings are made, they can be overridden by new choices made at
    the composite level.  It may be helpful to read the "<A href='#inheritance'>Note about
    inheritance</A>" found below.</P>
    <P><I>Currently only the following track types can be organized into a 
    composite: item-based tracks (bed, bigBeg, broadPeaks, etc.), signal-based
    tracks (wig, bigWig, etc.), other remote file-based tracks (bams,
    vcf, etc.), chains/nets, genePred, psl, and wigMaf-type tracks.</I></P>
</DIV>

<DIV class="compositeTrack_hub_intro">
<H3>Composite Tracks</H3>
    <P>Composite tracks are
    another level of hierarchy and are meant to group very similar tracks
    (called "subtracks") together such that they can all
    share the same configuration settings.  In its simplest form a
    composite holds tracks all of the same type (such as bigBed).
    Initially, all track within the set are configured identically.
    Usually only some of the subtracks are visible by default, and these
    will have the same display mode (e.g., <code>dense</code>)
    and optional settings (e.g., <code>viewLimits</code>).
    While default settings cover the entire composite of related tracks,
    in most cases individual subtracks can be configured by the user
    independently of the composite settings.  However, once individual
    subtrack settings are made, they can be overridden by new choices made at
    the composite level.  It may be helpful to read the "<A href='#inheritance'>Note about
    inheritance</A>" found below.</P>
</DIV>

<DIV class="compositeTrack"><span class="types compositeTrack"></span>
<div class="format"><code>compositeTrack on</code></div>
    <P>To declare a composite, simply add this setting
    to a track definition, along with a few standard settings.
    The subtrack stanzas always follow immediately after the
    composite track delaration and are indented from it.</P>
    Note that since children of composites inherit their parent's
    settings, many more trackDb settings will be found at the
    composite level than at the supertrack level.</P>
</DIV>

<DIV class="parent"><span class="types compositeTrack"></span>
<div class="format"><code>parent &lt;composite&gt; [off/on]</code></div>
    <P>Membership in a composite is declared by the
    subtrack child, not the composite itself, through this setting. Any number of subtracks may
    belong to one composite, but display performance degrades significantly beyond a
    few hundred.  Set the <code>parent</code> setting to "on" to 
    indicate whether a subtrack should be "checked" (selected) by default.  
</DIV>

<DIV class="allButtonPair"><span class="types compositeTrack"></span>
<div class="format"><code>allButtonPair on</code></div>
    <P>When a simple composite track presents a short list of
    subtracks, it can be convenient for the user to have an easy way to select or
    deselect all of them.  Include this setting to display an "<B>All</B> 
    <img style='vertical-align:middle;' src='/images/add_sm.gif' /><img style='vertical-align:middle;' src='/images/remove_sm.gif' />"
    <!-- Don't break the long line above, so that the buttons have no daylight between them -->
    (plus and minus button pair) for the user's convenience.  If
    the list contains more than 10 subtracks, other methods may be
    more useful for organizing and selecting subtracks (described below).
    </P>
</DIV>

<DIV class="centerLabelsDense"><span class="types compositeTrack"></span>
<div class="format"><code>centerLabelsDense &lt;off/on&gt;</code></div>
    <!-- <P><I>TODO: Should be made obsolete, with subtracks always sharing one label.</I> </P> -->
    <P>By default, only the composite track's single center label is shown when the 
    subtracks are displayed together in the Browser dense mode. 
    If <code>centerLabelsDense</code> is set to "on", the Browser will display a center 
    label for each subtrack. 
    </P>
</DIV>

<DIV class="dragAndDrop"><span class="types compositeTrack"></span>
<div class="format"><code>dragAndDrop on</code></div>
    <!-- <P><I>TODO: Should be made obsolete (and default behavior)</I></P> -->
    <P>The subtrack list in the configuration page can be rearranged by setting
    a <A onclick="return jumpTo(this);" HREF="#">sortOrder</A>, as described below, 
    or by allowing the user to drag and drop the subtracks to a new order 
    if enabled with this setting. The changed order will also be seen in the track 
    image.  However, the order of tracks can always be rearranged through 
    drag and drop, directly in the image.  Reordering subtracks in the image 
    will not be reflected in the configuration page.</P>
</DIV>


<DIV class="compositeTrack_example"><span class="types compositeTrack"></span>
<div class="format"><B>Example of a Composite track</B></div>
    <pre>
    track myComposite
    compositeTrack on
    parent myFolder
    shortLabel My Composite
    type bigWig 0 1.0
    viewLimits 0.0:0.2
    allButtonPair on
    dragAndDrop on
      ...

        track myFirstSubtrack
        parent myComposite on
          ...

        track mySecondSubtrack
        parent myComposite
          ...    </pre>
    <P>The composite with two subtracks shown.  All
    subtracks are of type bigWig and all have a default <code>viewLimits</code> of 0 - 0.2.  
    Notice the first subtrack is checked by default, but the second is not 
    (<code>parent</code> setting).  However, the Browser will display two buttons 
    (<code>allButtonPair</code> setting) that allow the user to
    select all subtracks, or deselect all of them and then check only those of 
    interest.  The user may reorder the subtracks by dragging them on the composite
    configuration page (<code>dragAndDrop</code> setting).</P>
</DIV>


<!-- - - - - - - - SUBGROUPS settings - - - - - - - -->
<DIV class="subGroups_intro">
<H3>Subgroups</H3>
    <P>Within a composite track, two different grouping styles can be used to allow 
    the user to select tracks for display in the Browser.
    This section describes the configuration of "subgroups"; "views" are discussed in
    a subsequent section.</P>
    <P>
    The subgroup can be used for selecting sets of subtracks for display based on certain
    characteristics of the data. For instance, if  "cell" and "antibody" are
    defined as subgroups within a composite track, the user will be able to select
    subtracks based on specific cell types and antibodies to display in the Browser.  Up to 9
    subgroup types can be defined for a composite.  However, to minimize the complexity,
    it is strongly recommended that only two subgroups be defined
    for a given composite track. These will be presented in a simple X/Y matrix that is easy for
    the user to understand and navigate. It is possible to define more subgroups in additional 
    "abc" dimensions that will be presented to the user as drop-down multi-select dialogs,
    but use of these should be avoided or minimized.</P>
</DIV>

<DIV class="subGroupN"><span class="types subGroups"></span>
<div class="format">
    <code>subGroup1 &lt;gTag1&gt; &lt;gTitle1&gt; &lt;mTag1a=mTitle1a&gt;
                        [mTag1b=mTitle1b&hellip;]</code><BR>
    <code>subGroup2 &lt;gTag2&gt; &lt;gTitle2&gt; &lt;mTag2a=mTitle2a&gt;
                        [mTag2b= mTitle2b&hellip;]</code></div>
    <P>Up to 9 subgroups may be declared, one per line.  Each subgroup declaration
    must include a whitespace-delimited tag, title, and one or more tag/title 
    membership pairs joined by an '<code>=</code>' equals sign. </P>
    <ul>
    <li> <code>tag</code>: Used in the code to select
    and sort subtracks based upon their membership.  Tag names
    must be alphanumeric, begin with a letter, and be formed such that the
    desired sort order of the member subtracks will result.</li>
    <li> <code>title</code>: Label of the subgroup as it appears on the 
    selection matrix that is displayed to the user, e.g.,"Antibody". Spaces within
    titles must be replaced by '<code>_</code>'.  A limited amount
    of HTML is allowed in titles, such as the insertion  of Greek letters using an HTML
    code. Any use of HTML should be tested to ensure that it displays correctly.</li>
    </ul>
    <P>Because subgroup settings are often lengthy, it is recommended that the 
    '<code>\</code>' line continuation character be used to break up the setting over
    multiple lines for easier reading. 
</DIV>

<DIV class="subGroups"><span class="types subGroups"></span>
<div class="format"><code>subGroups &lt;gTag1=mTag1?&gt; [gTag2= mTag2?]</code></div>
    <P>The subtracks themselves declare their
    membership in a group with the <code>subGroups</code> setting.
    Each subtrack must declare its membership in all of its
    composite's subgroups.  Notice that membership is declared
    by pairs of tags: the group tag (e.g. gTag1) is paired with that
    group's member tag (e.g. mTag1b) as gTag1=mTag1b (cell=K562).</P>
</DIV>

<DIV class="dimensions"><span class="types subGroups"></span>
<div class="format"><code>dimensions &lt;dimX=gTag#&gt; [dimY=gTag#] [dimA=gTag# ...]</code></div>
    <P>In order to define the type of UI desired for
    selecting subtracks based upon groups, additional settings are
    needed at the composite level.  For a one- or two-dimensional array of
    checkboxes, declare the dimensions X and Y.  Additional dimensions (called
    "abc") can be declared with this setting as dimA, dimB, etc.</P>  
    <P>Note that the order of the subgroups in a dimension is exactly the same as 
    the order they appear in the <code>subGroup#</code> setting, regardless of whether
    the subtrack list is sorted by tags.</P>
</DIV>

<DIV class="filterComposite"><span class="types subGroups"></span>
<div class="format"><code>filterComposite &lt;dim[A/B/C][=one]&gt; [dimB dimC ...]</code></div>
    <P>For the "abc"
    dimensions, rows of checkboxes will be shown by default.  However, this
    UI can be confusing, especially combined with a one- or two-dimensional matrix.
    Instead, it is recommended that you organize "abc"
    dimensions as drop-down multi-selects, often referred to as
    "filter" boxes due to their similarity to the
    <code>filterBy</code> setting discussed
    above.  Declare the subtrack filter boxes with the <code>filterComposite</code>
    setting.  Filter composites may work with or without the X/Y
    matrix, but are restricted to the "abc" dimensions.</P>
    <P>By default, the filter box for selecting
    subtracks is multi-select, meaning more than one choice is
    allowed.  It is possible to restrict this to a single choice by
    adding the "<code>=one</code>" option to the filter box definition.
    This might make sense when there are only 2 choices.  The choice
    of "all" is always available, while choosing nothing is an invalid
    case.</P>
</DIV>

<DIV class="dimensionAchecked"><span class="types subGroups"></span>
    <div class="format"><code>dimension&lt;?&gt;checked &lt;mTag1a&gt;
                                [mTag1b &hellip;]</code></div>
    <P>One more complication in the selection process is
    determining which subgroup options are selected by default.  In the
    case of the X/Y matrix this can be determined by what subtracks
    are currently checked.  But, "abc" dimensions must have their
    selected state declared explicitly using the
    dimension&lt;?&gt;checked setting.</P>
</DIV>

<DIV class="controlledVocabulary"><span class="types subGroups"></span>
<div class="format"><code>controlledVocabulary &lt;pathToFile&gt; &lt;gTag#=mdbVar&gt;
                            [gTag#=mdbVar &hellip;]</code></div>
    <P><I>NOT FOR HUBS. Currently used only by ENCODE</I></P>
    <P>In ENCODE, subgroups
    are often based on metadata terms declared in the metaDb table and defined
    in the "controlled vocabulary", which is 
    stored as an ra file.  In this situation, the labels of these
    terms, as they are displayed in the track configuration page, can
    be linked to the controlled vocabulary definitions.  These links
    can be quite useful, as the term definition may include protocol
    documents and validation evidence.  In order to establish the
    links, each subGroup's tag must be tied to the actual metaDb
    term.
    </P>
    <!-- <P><I>TODO: Currently the file declared in this
    setting is not used, as the cv.ra file is always found in its
    standard location.</I></P> -->
</DIV>

<DIV class="sortOrder"><span class="types subGroups"></span>
<div class="format"><code>sortOrder &lt;gTag#=+/-&gt; [gTag#=- &hellip;]</code></div>
    <P>When declaring subgroups, it is often useful to
    sort the subtrack list by those subgroups.  By including a
    sortOrder setting, long sets of subtracks are more easily
    organized and navigated by the user.  If there are only a few
    subtracks in the composite, sorting may be of little value and 
    <A onclick="return jumpTo(this);" HREF="#">dragAndDrop</a> may be a better option.
    Currently only subgroups can be defined in the sortOrder, but it
    is anticipated that this will expand to include short and long
    labels as well.  Sorting will occur on the tag values defined in the 
    <code>subGroup#</code> and <code>subGroups</code> settings.  By sorting
    on tags, non-alphanumeric orders can be defined.</P>
</DIV>

<DIV class="fileSortOrder"><span class="types subGroups downloadsOnly"></span>
<div class="format"><code>fileSortOrder &lt;var=val&gt; [var=val ...]</code></div>
    <P><I>NOT FOR HUBS. Currently used only by ENCODE</I></P>
    <P>Some composite track sets have their own
    directories of downloadable files and a special CGI for accessing
    those files.  In order to see the CGI interface for the download
    directory, the composite needs an object for each file defined in
    the metaDb.  The trackDb stanza for the composite also needs to
    have the fileSortOrder setting defined.  The setting is defined as
    a set of variable=value pairs, which defines the default sort
    order on metaDb variables.  The "var" portion of the each pair is
    a term defined in the metaDb for all of the file objects in the
    directory.  The "var" may also be "<code>fileType</code>" or "<code>fileSize</code>",
    which are not defined in the metaDb. The "val" is the title that the
    user will see as the column header for the sortable table of
    files.  This value can contain and '<code>_</code>' for spaces and limited HTML
        codes and special characters.  As always, you are encouraged to
    experiment.  The '<code>\</code>' continuation character should be used to
    break up this long setting into readable lines.
    </P>
</DIV>

<DIV class="subGroups_example"><span class="types subGroups"></span>
<div class="format"><B>Examples of Composite tracks with Subgroups</B></div>
    <pre>
    track myComposite
    composite on
    subGroup1 cellLine Cell_Line \
            A1GM12=GM12878 \
            CD14=CD14&amp;#43; &hellip;
    subGroup2 ab Antibody \
            H3K04ME3=H3K4me3 \
            H3K36ME3=H3K36me3 &hellip;
    dimensions dimX=ab dimY=cellLine
    sortOrder cell=+ ab=+
      ...

        track myFirstSubtrack
        parent myComposite on
        subGroups cellLine=CD14 ab=H3K04ME3
          ...    </pre>
    <P>This examples shows a composite with
    one subtrack and two subgroups.  The
    dimensions setting declares X and Y dimensions, which will display
    a 2D matrix on the composite's configuration page.  Notice that the
    title of the cellLine subgroup contains a blank space filled in
    with '<code>_</code>'.  The second cell line, "CD14+", includes an HTML encoding
    for '<code>+</code>' in its title, The two subgroups participate in the default
    sort order of subtracks, but they each have non-standard sort orders.  In the 
    cellLine subgroup, GM12878 sorts first by starting its tag with "A".  The 
    antibodies have numbers in their titles, but the tags expand
    the number with "0" to pad the spacing.  This ensures
    H3K4me3 sorts before H3K36me3.</P>

    <pre>
    track myCompositeIs3D
    composite on
    subGroup1 cellLine Cell_Line \
            A1GM12=GM12878 \
            CD14=CD14&amp;#43; &hellip;
    subGroup2 ab Antibody \
            H3K04ME3=H3K4me3 \
            H3K36ME3=H3K36me3 &hellip;
    subGroup3 treat Treatment \
            TNFA=TNF-alpha \
            ZNONE=None &hellip;
    dimensions dimX=ab dimY=cellLine dimA=treat
    filterComposite dimA
    dimensionAchecked ZNONE
    controlledVocabulary encode/cv.ra cellLine=cell \
                                    ab=antibody \
                                    treat=treatment
    sortOrder cell=+ ab=+ treat=-
    fileSortOrder cell=Cell_Line \
                antibody=Antibody \
                fileSize=Size
      ...

        track myFirstSubtrackIn3D
        parent myCompositeIs3D on
        subGroups cellLine=CD14 ab=H3K04ME3 treat=ZNONE
          ...    </pre>
    <P>In this second example composite,
    one subtrack and three subgroups are shown.  As in the previous example, the
    dimensions setting declares X and Y dimensions, resulting in 
    a 2D matrix of "Antibody" and "Cell Line" options.  A third "Treatment" subgroup is 
    declared as the "A"
    dimension; the user will be able to select subtracks for this
    dimension via a dropdown multi-select filter box.  All three subgroups 
    participate in the default sort order of subtracks, and the treatment subgroup is 
    sorted in reverse order by default.  The "None" treatment
    sorts before all others (in reverse order) by beginning the tag with
    a "Z".  Note that for this "A" dimension,
    the "None" treatment will be selected by default.  By
    declaring the proper settings, using subGroups to organize a
    composite can be quite powerful.</P>

    <P>This example illustrates that
    subgroups, dimensions, and (in the case of ENCODE) controlled vocabulary and
    metadata all must be linked together for the composite to fully
    work.  Further, the actual terms, programmatic "tags"
    and user visible titles all have different constraints and roles
    to play in establishing this cohesion.  Subgroup tags are used to
    organize subtracks, while lettered dimensions organize the
    configuration page to more easily select subgroups of subtracks.
    For ENCODE tracks, the subgroups may be represented as metadata
    "terms" (distinct from tags) that are often carefully
    defined by a controlled vocabulary.  In the example above, the tag
    "ab" is used to organize subtracks into subgroups but
    is also tied to dimension X.  This ensures that antibodies will
    appear as the horizontal dimension in the 2D matrix on the
    configuration page, and the selection of an antibody will select the
    associated subtracks.  Of course the user does not see the
    antibody as "ab" but "Antibody".  Going
    further, the term as defined in controlled vocabulary is
    "antibody", so that for all the tables and files
    associated with this composite track, their metaDb objects should
    contain an "antibody" var and a given antibody (e.g.
    H3K4me3) will be found in the controlled vocabulary with a
    validation document.  All the relationships can be confusing, but
    the trackDb settings, if done correctly, can tie all these
    elements together in a nice cohesive package.</P>
<!-- DONNA Above needs rewrite -->

</DIV>

<DIV class="subGroups_hub_example"><span class="types subGroups"></span>
<div class="format"><B>Examples of Composite tracks with Subgroups</B></div>
    <pre>
    track myComposite
    composite on
    subGroup1 cellLine Cell_Line \
            A1GM12=GM12878 \
            CD14=CD14&amp;#43; &hellip;
    subGroup2 ab Antibody \
            H3K04ME3=H3K4me3 \
            H3K36ME3=H3K36me3 &hellip;
    dimensions dimX=ab dimY=cellLine
    sortOrder cell=+ ab=+
      ...

        track myFirstSubtrack
        parent myComposite on
        subGroups cellLine=CD14 ab=H3K04ME3
          ...    </pre>
    <P>This examples shows a composite with
    one subtrack and two subgroups.  The
    dimensions setting declares X and Y dimensions, which will display
    a 2D matrix on the composite's configuration page.  Notice that the
    title of the cellLine subgroup contains a blank space filled in
    with '<code>_</code>'.  The second cell line, "CD14+", includes an HTML encoding
    for '<code>+</code>' in its title, The two subgroups participate in the default
    sort order of subtracks, but they each have non-standard sort orders.  In the 
    cellLine subgroup,  GM12878 sorts first by starting its tag with "A".  The 
    antibodies have numbers in their titles, but the tags expand
    the number with "0" to pad the spacing.  This ensures
    H3K4me3 sorts before H3K36me3.</P>

    <pre>
    track myCompositeIs3D
    composite on
    subGroup1 cellLine Cell_Line \
            A1GM12=GM12878 \
            CD14=CD14&amp;#43; &hellip;
    subGroup2 ab Antibody \
            H3K04ME3=H3K4me3 \
            H3K36ME3=H3K36me3 &hellip;
    subGroup3 treat Treatment \
            TNFA=TNF-alpha \
            ZNONE=None &hellip;
    dimensions dimX=ab dimY=cellLine dimA=treat
    filterComposite dimA
    dimensionAchecked ZNONE
    sortOrder cell=+ ab=+ treat=-
      ...

        track myFirstSubtrackIn3D
        parent myCompositeIs3D on
        subGroups cellLine=CD14 ab=H3K04ME3 treat=ZNONE
          ...    </pre>
    <P>In this second example composite,
    one subtrack and three subgroups are shown.  As in the previous example, the
    dimensions setting declares X and Y dimensions, resulting in 
    a 2D matrix of "Antibody" and "Cell Line" options.  A third "Treatment" subgroup is 
    declared as the "A"
    dimension; the user will be able to select subtracks for this
    dimension via a dropdown multi-select filter box.  All three subgroups 
    participate in the default sort order of subtracks, and the treatment subgroup is 
    sorted in reverse order by default.  The "None" treatment
    sorts before all others (in reverse order) by beginning the tag with
    a "Z".  Note that for this "A" dimension,
    the "None" treatment will be selected by default.  By
    declaring the proper settings, using subGroups to organize a
    composite can be quite powerful.</P>
</DIV>


<!-- - - - - - - - VIEW settings - - - - - - - -->
<DIV class="view_intro">
<H3>Views</H3>
    <P>In addition to subgroups, a single
    composite can be divided into multiple "views".  Recall
    that a composite should be made up of subtracks of the same <code>type</code>.
    However, different types of subtracks can be combined into the same
    composite track if they are in separate  "views".  While
    views are like subgroups in many ways, they can carry their own
    settings.  This is necessary because the views within a composite may be for different
    types that have their own distinct configuration settings, for example bigBeds and
    bigWigs. </P>
    <P>The "view" (or
    "multi-view") organization is typically used when the
    same basic data is stored in multiple formats and granularities.  For
    example, a collection of views may include short read sequence alignments (type bam), signals
    representing pile-ups of aligned reads (type bigWig), and the  peaks (type
    bigBed) that are called in regions where  the evidence of experimental result is
    deemed significant.  These three "views" of the same
    experimental data can be seen more informatively as a cohesive set
    within a multi-view composite track.</P>
    <P>Views are declared both
    as a subgroup and as a separate track stanza.  A composite with
    multiple views has only views as children, and each view will have one
    or more subtracks as children.  The three levels must be defined
    together with indenting to make the hierarchy obvious.</P>
    
    <P id='inheritance'><div class="hintBox"><I><U>A note about
    inheritance.</U></I> Subtracks
    will inherit settings from their parents (both from composites and
    from views).  This is true when the setting is inheritable, which is generally
    the case.  Obvious exceptions are settings that are
    relevant only to the higher level.  Inheritance follows the "closest
    to home" paradigm in which a setting at the subtrack level
    takes precedence, followed by the view level setting, and finally 
    the composite level setting.  This inheritance applies to both the trackDb default settings 
    and the choices made by a user. Settings made 
    by the user involve a timing element as well:  a change to 
    a parent-level setting will override all settings of
    the same type for its children.  If the user subsequently makes a subtrack
    setting, it will override the inherited setting for that one
    subtrack.<BR><BR>
    An anomaly within the inheritance scheme is the "<code>visibility</code>" (display mode) 
    setting.  Unlike other settings, visibility is cumulatively restrictive from the
    supertrack level.  That is, if the parent has a visibility of  "<code>dense</code>" and the 
    child's visibility is
    "<code>pack</code>", the child will be displayed as "<code>dense</code>". If the parent is
    subsequently changed to "<code>full</code>" display mode, the child will now be shown in 
    "<code>pack</code>" mode.  At the trackDb
    level, default visibility is always cumulatively restrictive.
    However, when a user explicitly changes a subtrack visibility to be
    greater than what was inherited from parents, that subtrack's
    visibility will override the inheritance.  While the subtleties of
    inheritance can be hard to explain, they are often intuitive in
    practice.</div></P>
</DIV>

<DIV class="view"><span class="types view"></span>
<div class="format">
    <code>subGroup1 view &lt;Views&gt; &lt;vTag1a=vTitle1a&gt; [vTag1b=vTitle1b&hellip;]</code><BR>
    <code>track &lt;viewName&gt;</code><BR>
    <code>view &lt;viewTag&gt;</code></div>
    <P>A view is always declared both as a subgroup
    and in a track stanza itself.  The subgroup declaration is like
    previous declarations, but the view subgroup must have the tag
    <code>view</code> and be declared as the first subgroup.  Note
    that the view stanza follows the composite stanza with one level
    of indentation.  Subtracks will follow their view with an
    additional level of indentation.</P>
</DIV>

<DIV class="parent_view"><span class="types view"></span>
<div class="format">
    <code>subGroups view=&lt;vTag1&gt;&hellip;</code><BR>
    <code>parent &lt;viewName&gt; [off/on]</code></div>
    <P>A subtrack declares its membership in a view
    both as subgroup membership and with a parent setting that refers
    to the view track name.  Note that a track can only have one parent.  
    When the subtrack's parent is a view, the composite track is 
    its <em>implicit</em> grandparent.</P>
</DIV>

<DIV class="viewUi"><span class="types view"></span>
<div class="format"><code>viewUi on</code></div>
    <P>If subtracks within a view are configurable,
    then the view will have the configuration controls for it in a box
    beneath the view's visibility drop down.  That box filled with
    configuration controls is hidden by default so that the UI is not
    too cluttered.  The user must first open the box before its
    contents are seen.  If there is only one view with configuration
    settings, or if the view is the most important one, the box can be
    open by default.  Use this setting in the view stanza of settings
    to default the configuration box as open.</P>
</DIV>

<DIV class="configurable"><span class="types view composite"></span>
<div class="format"><code>configurable &lt;off/on&gt;</code></div>
    <P>Tracks are configurable by default if their
    track type supports this, and views and composites are 
    configurable if their children's track type supports this.
    Finally individual subtracks are configurable by default
    if their track type supports it.  Sometimes it is desirable
    to turn off configuration.  Configuration may be turned back
    on when it has been turned off at a higher level. For example, this might be
    useful in a situation with a multi-view composite where the composite
    level would normally be configurable, but you want only one of the
    views and not all of the children of that view to be configurable.
    While this setting might be rarely needed, it can help restrict
    the user from viewing your data in inappropriate ways.</P>
</DIV>

<DIV class="view_example"><span class="types view"></span>
<div class="format"><B>Example of a Composite track with Views</B></div>
    <pre>
    track myMultiViewComposite
    composite on
    visibility dense
    subGroup1 view Views PK=Peaks SIG=Signals
    subGroup2 cell Cell_Line \
            A1GM12=GM12878 \
            CD14=CD14&amp;#43; &hellip;
    subGroup3 ab Antibody \
            H3K04ME3=H3K4me3 \
            H3K36ME3=H3K36me3 &hellip;
    dimensions dimX=ab dimY=cell
    sortOrder cell=+ ab=+ view=+
    type bed 3
      ...

        track myViewPeaks
        parent myMultiViewComposite
        shortLabel Peaks
        view PK
        visibility pack
        type bigBed 6 +
        scoreFilter 0
        scoreFilterLimits 0:1000
        viewUi on
          ...

            track myFirstPeakSubtrack
            parent myViewPeaks on
            subGroups cell=CD14 ab=H3K04ME3 view=PK
              ...    </pre>
    <P>The composite has two views, one of which is
    shown, along with a single subtrack belonging to that view.
    Notice that the view does not participate in the dimensions
    setting, as it is an implicit dimension controlled by a row of
    visibility dialogs at the top of the composite configuration page.
    Notice that the view does participate in the sortOrder setting
    like other subgroups.  In this example, the peaks view contains
    bigBed subtracks that all share the scoreFilter defaults
    defined at the view level.  Almost any setting that is common to
    the whole tree can be defined at the composite level; any setting
    that is common to the view can be set at the view level; and any
    setting that is specific to one subtrack should be set at that
    level.  Remembering <A href='#inheritance'>inheritance</A>, we 
    can see that the subtrack shown inherits its track type from
    the view, but has its default visibility limited by the composite.
    That is, it inherits packed visibility from the view but the
    composite will show all visible subtracks as dense.</P>

    <P>One additional thing to note is that this composite track is
    "<code>type bed 3</code>".  Composites do not need a type to define 
    their data format, since all data is associated with subtracks. Further, 
    multi-view composites almost always have multiple data formats.  
    But the "type" also controls what configuration options may be offered 
    for a track.  Typically, a single level composite has the same type as 
    all of its subtracks and offers user configuration options at the top 
    level. But a multi-view composite is most often given the bare-bones 
    "<code>type bed 3</code>", and offers user configuration options at 
    the view level.  Exceptions to this pattern do exist but they are rare.</P>
</DIV>


<!-- - - - - - - - CONTAINER/MULTIWIG/AGGREGATE settings - - - - - - - -->
<DIV class="container_intro">
<H3>Aggregate or Overlay Tracks: multiWig</H3>
    <P>In some instances, data from multiple tracks is so closely
    related that it makes sense to view it as a single track.  The
    premiere example of this is the signal overlay
    track (i.e. "<code>multiWig</code>").  Signal overlay tracks display the signal
    data from several subtracks as colored transparencies, making it
    possible to see the data of several tracks together in a condensed
    view.  The value of the overlay track surpasses simply condensing the
    image.  Occasionally this is the most effective way to identify
    hidden relationships in the underlying data.  The overlay track
    should not be overused, however.  Attempts to overlay too many
    subtracks can hide important information as regions with many layered
    signals become too dark to interpret.  More than eight subtracks in a
    single overlay may prove less than ideal.  As with composites,
    it is important for the multiWig tracks to have the same data dimensions, 
    i.e. a signal height of 100 should be interpretable in the same
    way for the whole set of tracks.  While this is true for a composite
    or view, it is especially important for overlay tracks.  You cannot
    reasonably overlay a signal from 0-1 with another signal from 0-1000.</P>
</DIV>

<DIV class="container"><span class="types container multiWig"></span>
<div class="format"><code>container multiWig</code></div>
    <P>Signal overlay tracks are declared much like
    simple composites.  However, instead of a "composite"
    setting, they declare themselves as a "container" of
    "<code>type multiWig</code>".  Like simple composites, all subtrack
    types should be identical and the container itself should be
    declared as the same type (e.g. "<code>bigWig</code>").  Also like a composite,
    the container parent should have common settings for all children.
    Unlike composites, containers can have neither subgroups nor
    views.  Additionally, all subtracks within a container are configured as one; 
    there is no independent configuration of individual subtracks.  Even when the user
    sets the overlay method to none and the subtracks are viewed as
    separate signals, they are still configured as a set.</P>
</DIV>

<DIV class="parent_container"><span class="types container multiWig"></span>
<div class="format"><code>parent &lt;containerTrack&gt;</code></div>
    <P>Membership in a container track is declared at
    the subtrack level.  The subtracks should be defined with indent
    beneath their container parent.</P>
</DIV>

<DIV class="aggregate"><span class="types container multiWig"></span>
<div class="format"><code>aggregate &lt;transparentOverly/solidOverlay/none&gt;</code></div>
    <P>It is important to declare an aggregation method; otherwise, this set of tracks displays 
    as a composite would, with additional restrictions. Of the three options, the preferred 
    setting is <code>transparentOverlay</code>.  The setting <code>solidOverlay</code> should
    not be used if there
    are more than a couple of tracks, and "<code>none</code>" should never be the
    default.  The aggregation method is a configurable option,
    however, so the user may wish to temporarily set it to none in
    order to see subtleties hidden in overlay mode.</P>
</DIV>

<DIV class="showSubtrackColorOnUi"><span class="types container multiWig"></span>
<div class="format"><code>showSubtrackColorOnUi on</code></div>
    <P>Subtracks in an overlay have individual colors.  Use this setting to show the color 
    associated with each on the track configuration page.</P>
</DIV>

<DIV class="container_example"><span class="types container multiWig"></span>
<div class="format"><B>Example of an Aggregate track</B></div>
    <pre>
    track myMultiWig
    container multiWig
    aggregate transparentOverlay
    showSubtrackColorOnUi on
    type bigWig 0 1000
    viewLimits 0:10
    maxHeighPixels 100:32:8
      ...

        track myFirstOverlaySig
        table myFirstWig
        parent myMultiWig
        color 255,128,128
        wig 0 1139
          ...

        track myFirstBigWig
        parent myMultiWig
        color 120,235,204
          ...    </pre>
    <P>This container is for a transparent overlay of
    signal tracks with 2 subtracks shown.  The tracks are
    of type "<code>bigWig</code>", though the first subtrack is a <code>wig</code>.
    Such mixtures are allowed.  Notice that the wig has a slightly
    larger range than the others.  The signal dimensions are close
    enough in this case, and the default viewLimit applied to all
    subtracks suggests that any signal above 10 is interpreted as
    strong. Note that each subtrack must define its color, and
    in this example, that color will be seen in the track
    configuration page as well as in the image.  Also notice that the
    first subtrack declares a table as distinct from its track name.
    Usually the table (or remote file root) name is the same as the
    track name.  The track name is a unique key.  But it is frequently
    the case that a table or remote data file may be displayed as an
    individual track or subtrack, as well  as part of a signal overlay
    track.  Setting the table name here suggests that a track named
    "myFirstWig" also exists and is displaying the same data used in
    this overlay track.</P>
</DIV>

<DIV class="container_hub_example"><span class="types container multiWig"></span>
<div class="format"><B>Example of an Aggregate track</B></div>
    <pre>
    track myMultiWig
    container multiWig
    aggregate transparentOverlay
    showSubtrackColorOnUi on
    type bigWig 0 1000
    viewLimits 0:10
    maxHeighPixels 100:32:8
      ...

        track myFirstOverlaySig
        parent myMultiWig
        color 255,128,128
        bigWig 0 1139
          ...

        track myFirstBigWig
        parent myMultiWig
        color 120,235,204
          ...    </pre>
    <P>This container is for a transparent overlay of
    signal tracks with 2 subtracks shown.  The tracks are
    of type "<code>bigWig</code>".  Notice that the first subtrack has a slightly
    larger range than the others.  The signal dimensions are close
    enough in this case, and the default viewLimit applied to all
    subtracks suggests that any signal above 10 is interpreted as
    strong. Note that each subtrack must define its color, and
    in this example, that color will be seen in the track
    configuration page as well as in the image.</P>
</DIV>

<!-- - - - - - - - CUSTOM settings - - - - - - - -->
<DIV class="customTracks_intro">
<H3>Custom Tracks</H3>
    <P><I>NOT FOR HUBS.</I></P>
    <P>Custom tracks are
    tracks that get loaded into the Browser through the hgCustom CGI.
    Unlike locally hosted tracks, or even Data Hub tracks, they do not
    have a trackDb.ra  stanza to define their format and behavior in the
    Browser.   Nevertheless, they will support most of the settings as a
    locally hosted track of the same type.  There are a few additional
    settings that are needed to fully support custom tracks.</P>
</DIV>

<DIV class="genome"><span class="types customTracks"></span>
<div class="format"><code>genome</code></div>
    <P>Filled with genome/assembly db name.</P>
</DIV>

<DIV class="offset"><span class="types customTracks"></span>
<div class="format"><code>offset</code></div>
    <P>Used only once, to apply an offset to bed
    type data of a custom track.</P>
</DIV>

<DIV class="browserLines"><span class="types customTracks"></span>
<div class="format"><code>browserLines</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with all trackDb.ra style lines from
    hgCustom input.</P>
</DIV>

<DIV class="dataUrl"><span class="types customTracks"></span>
<div class="format"><code>dataUrl</code></div>
    <P>Internal only &ndash; user does not set.
    Filled if custom tracks is loaded via URL.</P>
</DIV>

<DIV class="dbTrackType"><span class="types customTracks"></span>
<div class="format"><code>dbTrackType</code></div>
    <P>Internal only &ndash; user does not set.
    <P>Not sure how it is distinguished from
    tdbType.</P>
</DIV>

<DIV class="fieldCount"><span class="types customTracks"></span>
<div class="format"><code>fieldCount</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with number of bed columns as
    determined in hgCustom CGI.</P>
</DIV>

<DIV class="firstItemPos"><span class="types customTracks"></span>
<div class="format"><code>firstItemPos</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with first bed item in bedList in
    hgCustom CGI.</P>
</DIV>

<DIV class="htmlFile"><span class="types customTracks"></span>
<div class="format"><code>htmlFile</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with name if trash file that contains
    HTML description for custom track.</P>
</DIV>

<DIV class="htmlUrl"><span class="types customTracks"></span>
<div class="format"><code>htmlUrl</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with user entered URL for track
    description in hgCustom CGI.</P>
</DIV>

<DIV class="initialPos"><span class="types customTracks"></span>
<div class="format"><code>initialPos</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with position from hgCustom input.</P>
</DIV>

<DIV class="inputType"><span class="types customTracks"></span>
<div class="format"><code>inputType</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with custom factory name as
    determined in hgCustom CGI.</P>
</DIV>

<DIV class="itemCount"><span class="types customTracks"></span>
<div class="format"><code>itemCount</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with bed item slCount in hgCustom
    CGI.</P>
</DIV>

<DIV class="mafFile"><span class="types customTracks"></span>
<div class="format"><code>mafFile</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with name of trash file that contains
    maf data as loaded in hgCustom CGI.</P>
</DIV>

<DIV class="maxChromName"><span class="types customTracks"></span>
<div class="format"><code>maxChromName</code></div>
    <P>Internal only &ndash; user does not set.
    Obsolete: Filled with minimum index size for
    db that won't "smoosh" together chromNames.</P>
</DIV>

<DIV class="origTrackLine"><span class="types customTracks"></span>
<div class="format"><code>origTrackLine</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with "track" line as entered by user
    in hgCustom CGI.</P>
</DIV>

<DIV class="tdbType"><span class="types customTracks"></span>
<div class="format"><code>tdbType</code></div>
    <P>Internal only &ndash; user does not set.
    <P>Holds the type that should go into
    tdb-&gt;type.</P>
</DIV>

<DIV class="wibFile"><span class="types customTracks"></span>
<div class="format"><code>wibFile</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with name of trash file that contains
    wib binary data as loaded in hgCustom CGI.</P>
</DIV>

<DIV class="wigFile"><span class="types customTracks"></span>
<div class="format"><code>wigFile</code></div>
    <P>Internal only &ndash; user does not set.
    Filled with name of trash file that contains
    wig data as loaded in hgCustom CGI.</P>
</DIV>
