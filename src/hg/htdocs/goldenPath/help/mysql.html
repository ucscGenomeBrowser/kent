<!DOCTYPE html>
<!--#set var="TITLE" value="Genome Browser MySql Downloads" -->
<!--#set var="ROOT" value="../.." -->

<!-- Relative paths to support mirror sites with non-standard GB docs install -->
<!--#include virtual="$ROOT/inc/gbPageStart.html" -->

<h1>Downloading Data using MariaDB (MySQL)</h1>

<p>
The UCSC Genome Browser uses MariaDB as the backend database server. MariaDB is a community-developed,
commercially supported fork of the MySQL relational database management system, intended to remain
free and open-source software under the GNU General Public License.
</P>
<p>
We have two  MariaDB databases for public access:
<ul>
  <li><strong>genome-mysql.gi.ucsc.edu</strong> (located on the US west coast)</li>
  <li><strong>genome-euro-mysql.soe.ucsc.edu</strong> (located in Europe)</li>
</ul></p>
<p>
These servers allow MySQL access to the same set of data currently available on our public
Genome Browser site. The data are synchronized weekly with the main databases on our public site.
During synchronization, the MariaDB server can be intermittently out of sync with the main website for
a short period of time. The weekly synchronization takes place on Monday mornings from 4:00 am to
9:00 am Pacific Time (GMT -7:00 in summer, GMT -8:00 in winter).</p>
	
<h2>Connecting</h2> 
<p>
You must have MariaDb (MySQL) client libraries installed on your computer. You can read more about MariaDB on the 
<a href="https://mariadb.org/">MariaDB site</a>.
</p>
<p>
You can connect to the US MariaDB server using the command:</p>
<pre><code>mysql --user=genome --host=genome-mysql.gi.ucsc.edu -A -P 3306</code></pre> 
<p>Or the European MariaDB server with this command:</p>
<pre><code>mysql --user=genome --host=genome-euro-mysql.soe.ucsc.edu -A -P 3306</code></pre>
<p>
The <em>-A</em> flag is optional but is recommended for speed.</p> 
<p>
Once connected to the database, you may use a wide range of SQL commands to query the database. 

<!-- As a courtesy to others, <strong>please observe the following guidelines when using the
database:</strong> --> </p>

<h2>Conditions of use</h2> 
<ul> 
  <li>
  Avoid excessive or heavy queries that may impact the server performance. Inappropriate query use 
  will result in a restriction of access. If you plan to execute a query that you think may be 
  excessive, contact UCSC first to avoid the possibility of having your access blocked.</li>
  <li>
  Bot access and excessive program-driven use are not permitted.</li> 
  <li>
  Attachments by local mirror sites are prohibited.</li> 
</ul>
<p>
For more details about the Conditions of Use, please refer to the following page,
<a href="../../conditions.html" target="_blank">Genome Browser Conditions of Use</a>.

<a name="utilities"></a>
<h2>Using the MariaDB server with our utilities</h2> 
<p>
The MariaDB database can also be used by the numerous utilities in the 
<a href="http://hgdownload.gi.ucsc.edu/downloads.html#source_downloads">Genome Browser source</a> 
tree. Some of these utilities require a password, so you will need to add the following 
specifications to your $HOME/.hg.conf file (remember to chmod your .hg.conf file to 600 
permissions) if you would like to access the US public MariaDB server:</p>
<pre><code>#US MariaDB server
db.host=genome-mysql.gi.ucsc.edu
db.user=genomep
db.password=password
central.db=hgcentral
central.host=genome-mysql.gi.ucsc.edu
central.user=genomep
central.password=password
gbdbLoc1=http://hgdownload.gi.ucsc.edu/gbdb/
forceTwoBit=on
</code></pre>
<p>
Or these lines if you'd like to access the European MariaDB server:</p>
<pre><code>#European MariaDB server
db.host=genome-euro-mysql.soe.ucsc.edu
db.user=genomep
db.password=password
central.db=hgcentral
central.host=genome-euro-mysql.soe.ucsc.edu
central.user=genomep
central.password=password
gbdbLoc1=http://hgdownload.gi.ucsc.edu/gbdb/
forceTwoBit=on
</code></pre>

<p>
The <code>db.*</code> and <code>central.*</code> settings tell our utilities how to connect to the public MariaDB server.
The <code>gbdbLoc1</code> setting tells our utilities where to find data files.
The <code>forceTwoBit</code> setting is necessary for utilities that retrieve genomic sequence.
</p>

<p>
If you have set up your .hg.conf file as above, you can use the <code>hgsql</code> utility,
available from our downloads server in the
<a href="http://hgdownload.gi.ucsc.edu/downloads.html#utilities_downloads">Utilities section</a>,
to access the public MariaDB server. The benefit of using the <code> hgsql</code> command is that
you don't have to include the username or password as part of your command. You only need to
specify the host:</p>
<p><pre><code>hgsql -h genome-mysql.gi.ucsc.edu</code></pre></p>

<p>
If you prefer a graphical user interface (GUI) to the UCSC database tables, use the 
<a href="../../cgi-bin/hgTables">Table Browser</a>.</p>

<p>
If you would like to learn more about .hg.conf file setup and specifics for using our command-line utilities, see this example 
<a href="https://raw.githubusercontent.com/ucscGenomeBrowser/kent/refs/heads/master/src/product/minimal.hg.conf"
target='_blank'> minimal.hg.conf</a> file.
</p>

<p>
System problems should be reported to 
<a href="mailto:&#103;&#101;&#110;&#111;&#109;&#101;&#45;w&#119;w&#64;&#115;&#111;&#101;.&#117;cs&#99;.&#101;&#100;&#117;"> &#103;&#101;&#110;&#111;&#109;&#101;&#45;w&#119;w&#64;&#115;&#111;&#101;.&#117;cs&#99;.&#101;&#100;&#117;</a>.
<!-- above address is genome-www at soe.ucsc.edu -->
Send questions regarding the database contents or queries to 
<a href="mailto:&#103;&#101;n&#111;m&#101;&#64;&#115;&#111;e.&#117;&#99;&#115;&#99;.e&#100;u"> &#103;&#101;n&#111;m&#101;&#64;&#115;&#111;e.&#117;&#99;&#115;&#99;.e&#100;u</a>.
<!-- above address is genome at soe.ucsc.edu -->
<strong><span class="gbsWarnText">Messages sent to this address will be posted to the moderated genome mailing list, which is 
archived on a SEARCHABLE, PUBLIC 
<a HREF="https://groups.google.com/a/soe.ucsc.edu/forum/#!forum/genome">Google Groups
forum</a></span></strong>.</p>
      
<!--#include virtual="$ROOT/inc/gbPageEnd.html" -->
